(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function se(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gl(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pi(e){let t,n,r;e.length!==2?(t=se,n=(s,l)=>se(e(s),l),r=(s,l)=>e(s)-l):(t=e===se||e===gl?e:Lm,n=e,r=e);function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=a(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:a,center:o,right:i}}function Lm(){return 0}function Ha(e){return e===null?NaN:+e}function*Um(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const rd=Pi(se),Ot=rd.right,Wm=rd.left,Ym=Pi(Ha).center;function Hm(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;const r=yl(t),a=e.slice();return r(e,a,0,n,1),r(a,e,0,n,1),r(e,a,0,n,1),e}const ad=id(yl),Vm=id(Gm);function id(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:a,width:i,height:o}=t;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:a.length/i))>=0))throw new RangeError("invalid height");if(!i||!o||!n&&!r)return t;const s=n&&e(n),l=r&&e(r),c=a.slice();return s&&l?(_n(s,c,a,i,o),_n(s,a,c,i,o),_n(s,c,a,i,o),kn(l,a,c,i,o),kn(l,c,a,i,o),kn(l,a,c,i,o)):s?(_n(s,a,c,i,o),_n(s,c,a,i,o),_n(s,a,c,i,o)):l&&(kn(l,a,c,i,o),kn(l,c,a,i,o),kn(l,a,c,i,o)),t}}function _n(e,t,n,r,a){for(let i=0,o=r*a;i<o;)e(t,n,i,i+=r,1)}function kn(e,t,n,r,a){for(let i=0,o=r*a;i<r;++i)e(t,n,i,i+o,r)}function Gm(e){const t=yl(e);return(n,r,a,i,o)=>{a<<=2,i<<=2,o<<=2,t(n,r,a+0,i+0,o),t(n,r,a+1,i+1,o),t(n,r,a+2,i+2,o),t(n,r,a+3,i+3,o)}}function yl(e){const t=Math.floor(e);if(t===e)return Xm(e);const n=e-t,r=2*e+1;return(a,i,o,s,l)=>{if(!((s-=l)>=o))return;let c=t*i[o];const u=l*t,d=u+l;for(let f=o,h=o+u;f<h;f+=l)c+=i[Math.min(s,f)];for(let f=o,h=s;f<=h;f+=l)c+=i[Math.min(s,f+u)],a[f]=(c+n*(i[Math.max(o,f-d)]+i[Math.min(s,f+d)]))/r,c-=i[Math.max(o,f-u)]}}function Xm(e){const t=2*e+1;return(n,r,a,i,o)=>{if(!((i-=o)>=a))return;let s=e*r[a];const l=o*e;for(let c=a,u=a+l;c<u;c+=o)s+=r[Math.min(i,c)];for(let c=a,u=i;c<=u;c+=o)s+=r[Math.min(i,c+l)],n[c]=s/t,s-=r[Math.max(a,c-l)]}}function zi(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(a=+a)>=a&&++n}return n}function jm(e){return e.length|0}function Zm(e){return!(e>0)}function Qm(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Km(e){return t=>e(...t)}function Jm(...e){const t=typeof e[e.length-1]=="function"&&Km(e.pop());e=e.map(Qm);const n=e.map(jm),r=e.length-1,a=new Array(r+1).fill(0),i=[];if(r<0||n.some(Zm))return i;for(;;){i.push(a.map((s,l)=>e[l][s]));let o=r;for(;++a[o]===n[o];){if(o===0)return t?i.map(t):i;a[o--]=0}}}function eg(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?a=>n+=+a||0:a=>n+=+t(a,r++,e)||0)}function od(e,t){let n=0,r,a=0,i=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-a,a+=r/++n,i+=r*(o-a));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-a,a+=r/++n,i+=r*(s-a))}if(n>1)return i/(n-1)}function sd(e,t){const n=od(e,t);return n&&Math.sqrt(n)}function It(e,t){let n,r;if(t===void 0)for(const a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class ve{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let a=0;a<this._n&&a<32;a++){const i=n[a],o=t+i,s=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,a,i,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,a=t[--n],o=r+a,i=a-(o-r),!i););n>0&&(i<0&&t[n-1]<0||i>0&&t[n-1]>0)&&(a=i*2,r=o+a,a==r-o&&(o=r))}return o}}function tg(e,t){const n=new ve;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&n.add(a)}return+n}function ng(e,t){const n=new ve;let r=-1;return Float64Array.from(e,t===void 0?a=>n.add(+a||0):a=>n.add(+t(a,++r,e)||0))}class Pr extends Map{constructor(t,n=ud){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(ds(this,t))}has(t){return super.has(ds(this,t))}set(t,n){return super.set(ld(this,t),n)}delete(t){return super.delete(cd(this,t))}}class an extends Set{constructor(t,n=ud){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(ds(this,t))}add(t){return super.add(ld(this,t))}delete(t){return super.delete(cd(this,t))}}function ds({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ld({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function cd({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ud(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Bn(e){return e}function Va(e,...t){return ar(e,Bn,Bn,t)}function fd(e,...t){return ar(e,Array.from,Bn,t)}function dd(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(a=>a.pop().map(([i,o])=>[...a,i,o]));return e}function rg(e,...t){return dd(fd(e,...t),t)}function ag(e,t,...n){return dd(pd(e,t,...n),n)}function hd(e,t,...n){return ar(e,Bn,t,n)}function pd(e,t,...n){return ar(e,Array.from,t,n)}function ig(e,...t){return ar(e,Bn,md,t)}function og(e,...t){return ar(e,Array.from,md,t)}function md(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function ar(e,t,n,r){return function a(i,o){if(o>=r.length)return n(i);const s=new Pr,l=r[o++];let c=-1;for(const u of i){const d=l(u,++c,i),f=s.get(d);f?f.push(u):s.set(d,[u])}for(const[u,d]of s)s.set(u,a(d,o));return t(s)}(e,0)}function gd(e,t){return Array.from(t,n=>e[n])}function hs(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(a,i)=>i);return t.length>1?(t=t.map(a=>e.map(a)),r.sort((a,i)=>{for(const o of t){const s=Ln(o[a],o[i]);if(s)return s}})):(n=e.map(n),r.sort((a,i)=>Ln(n[a],n[i]))),gd(e,r)}return e.sort(vl(n))}function vl(e=se){if(e===se)return Ln;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Ln(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function sg(e,t,n){return(t.length!==2?hs(hd(e,t,n),([r,a],[i,o])=>se(a,o)||se(r,i)):hs(Va(e,n),([r,a],[i,o])=>t(a,o)||se(r,i))).map(([r])=>r)}var lg=Array.prototype,cg=lg.slice;function Ao(e){return()=>e}const ug=Math.sqrt(50),fg=Math.sqrt(10),dg=Math.sqrt(2);function Ga(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=ug?10:i>=fg?5:i>=dg?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Ga(e,t,n*2):[s,l,c]}function on(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Ga(t,e,n):Ga(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function sn(e,t,n){return t=+t,e=+e,n=+n,Ga(e,t,n)[2]}function Xa(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?sn(t,e,n):sn(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function bl(e,t,n){let r;for(;;){const a=sn(e,t,n);if(a===r||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),r=a}}function xl(e){return Math.max(1,Math.ceil(Math.log(zi(e))/Math.LN2)+1)}function ps(){var e=Bn,t=It,n=xl;function r(a){Array.isArray(a)||(a=Array.from(a));var i,o=a.length,s,l,c=new Array(o);for(i=0;i<o;++i)c[i]=e(a[i],i,a);var u=t(c),d=u[0],f=u[1],h=n(c,d,f);if(!Array.isArray(h)){const b=f,v=+h;if(t===It&&([d,f]=bl(d,f,v)),h=on(d,f,v),h[0]<=d&&(l=sn(d,f,v)),h[h.length-1]>=f)if(b>=f&&t===It){const w=sn(d,f,v);isFinite(w)&&(w>0?f=(Math.floor(f/w)+1)*w:w<0&&(f=(Math.ceil(f*-w)+1)/-w))}else h.pop()}for(var m=h.length,g=0,p=m;h[g]<=d;)++g;for(;h[p-1]>f;)--p;(g||p<m)&&(h=h.slice(g,p),m=p-g);var y=new Array(m+1),x;for(i=0;i<=m;++i)x=y[i]=[],x.x0=i>0?h[i-1]:d,x.x1=i<m?h[i]:f;if(isFinite(l)){if(l>0)for(i=0;i<o;++i)(s=c[i])!=null&&d<=s&&s<=f&&y[Math.min(m,Math.floor((s-d)/l))].push(a[i]);else if(l<0){for(i=0;i<o;++i)if((s=c[i])!=null&&d<=s&&s<=f){const b=Math.floor((d-s)*l);y[Math.min(m,b+(h[b]<=s))].push(a[i])}}}else for(i=0;i<o;++i)(s=c[i])!=null&&d<=s&&s<=f&&y[Ot(h,s,0,m)].push(a[i]);return y}return r.value=function(a){return arguments.length?(e=typeof a=="function"?a:Ao(a),r):e},r.domain=function(a){return arguments.length?(t=typeof a=="function"?a:Ao([a[0],a[1]]),r):t},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:Ao(Array.isArray(a)?cg.call(a):a),r):n},r}function Un(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function wl(e,t){let n,r=-1,a=-1;if(t===void 0)for(const i of e)++a,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);return r}function zr(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function _l(e,t){let n,r=-1,a=-1;if(t===void 0)for(const i of e)++a,i!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);return r}function Ii(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Ln:vl(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(t-c*d/l+f)),m=Math.min(r,Math.floor(t+(l-c)*d/l+f));Ii(e,t,h,m,a)}const i=e[t];let o=n,s=r;for(cr(e,n,t),a(e[r],i)>0&&cr(e,n,r);o<s;){for(cr(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?cr(e,n,s):(++s,cr(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function cr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function yd(e,t=se){let n,r=!1;if(t.length===1){let a;for(const i of e){const o=t(i);(r?se(o,a)>0:se(o,o)===0)&&(n=i,a=o,r=!0)}}else for(const a of e)(r?t(a,n)>0:t(a,a)===0)&&(n=a,r=!0);return n}function Ir(e,t,n){if(e=Float64Array.from(Um(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return zr(e);if(t>=1)return Un(e);var r,a=(r-1)*t,i=Math.floor(a),o=Un(Ii(e,i).subarray(0,i+1)),s=zr(e.subarray(i+1));return o+(s-o)*(a-i)}}function vd(e,t,n=Ha){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function bd(e,t,n=Ha){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(s,l)=>Ha(n(e[l],l,e))),t<=0)return _l(r);if(t>=1)return wl(r);var r,a=Uint32Array.from(e,(s,l)=>l),i=r.length-1,o=Math.floor(i*t);return Ii(a,o,0,i,(s,l)=>Ln(r[s],r[l])),o=yd(a.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function hg(e,t,n){const r=zi(e),a=Ir(e,.75)-Ir(e,.25);return r&&a?Math.ceil((n-t)/(2*a*Math.pow(r,-1/3))):1}function pg(e,t,n){const r=zi(e),a=sd(e);return r&&a?Math.ceil((n-t)*Math.cbrt(r)/(3.49*a)):1}function mg(e,t){let n=0,r=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++n,r+=a);else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function gg(e,t){return Ir(e,.5,t)}function yg(e,t){return bd(e,.5,t)}function*vg(e){for(const t of e)yield*t}function kl(e){return Array.from(vg(e))}function bg(e,t){const n=new Pr;if(t===void 0)for(let i of e)i!=null&&i>=i&&n.set(i,(n.get(i)||0)+1);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,a=0;for(const[i,o]of n)o>a&&(a=o,r=i);return r}function xg(e,t=wg){const n=[];let r,a=!1;for(const i of e)a&&n.push(t(r,i)),r=i,a=!0;return n}function wg(e,t){return[e,t]}function Pt(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function _g(e,t=se){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e);const r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=se);const a=(s,l)=>t(n[s],n[l]);let i,o;return e=Uint32Array.from(n,(s,l)=>l),e.sort(t===se?(s,l)=>Ln(n[s],n[l]):vl(a)),e.forEach((s,l)=>{const c=a(s,i===void 0?s:i);c>=0?((i===void 0||c>0)&&(i=s,o=l),r[s]=o):r[s]=NaN}),r}function kg(e,t=se){let n,r=!1;if(t.length===1){let a;for(const i of e){const o=t(i);(r?se(o,a)<0:se(o,o)===0)&&(n=i,a=o,r=!0)}}else for(const a of e)(r?t(a,n)<0:t(a,a)===0)&&(n=a,r=!0);return n}function xd(e,t=se){if(t.length===1)return _l(e,t);let n,r=-1,a=-1;for(const i of e)++a,(r<0?t(i,i)===0:t(i,n)<0)&&(n=i,r=a);return r}function Mg(e,t=se){if(t.length===1)return wl(e,t);let n,r=-1,a=-1;for(const i of e)++a,(r<0?t(i,i)===0:t(i,n)>0)&&(n=i,r=a);return r}function Sg(e,t){const n=xd(e,t);return n<0?void 0:n}const Tg=wd(Math.random);function wd(e){return function(n,r=0,a=n.length){let i=a-(r=+r);for(;i;){const o=e()*i--|0,s=n[i+r];n[i+r]=n[o+r],n[o+r]=s}return n}}function Cg(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&(n+=a)}return n}function _d(e){if(!(i=e.length))return[];for(var t=-1,n=zr(e,Ag),r=new Array(n);++t<n;)for(var a=-1,i,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function Ag(e){return e.length}function Eg(){return _d(arguments)}function $g(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0}function qg(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1}function Ng(e,t){if(typeof t!="function")throw new TypeError("test is not a function");const n=[];let r=-1;for(const a of e)t(a,++r,e)&&n.push(a);return n}function Fg(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}function Rg(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let a,i,o=-1;if(arguments.length<3){if({done:a,value:n}=r.next(),a)return;++o}for(;{done:a,value:i}=r.next(),!a;)n=t(n,i,++o,e);return n}function Pg(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function zg(e,...t){e=new an(e);for(const n of t)for(const r of n)e.delete(r);return e}function Ig(e,t){const n=t[Symbol.iterator](),r=new an;for(const a of e){if(r.has(a))return!1;let i,o;for(;({value:i,done:o}=n.next())&&!o;){if(Object.is(a,i))return!1;r.add(i)}}return!0}function Dg(e,...t){e=new an(e),t=t.map(Og);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function Og(e){return e instanceof an?e:new an(e)}function kd(e,t){const n=e[Symbol.iterator](),r=new Set;for(const a of t){const i=Bc(a);if(r.has(i))continue;let o,s;for(;{value:o,done:s}=n.next();){if(s)return!1;const l=Bc(o);if(r.add(l),Object.is(i,l))break}}return!0}function Bc(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Bg(e,t){return kd(t,e)}function Lg(...e){const t=new an;for(const n of e)for(const r of n)t.add(r);return t}function Ug(e){return e}var Fa=1,Ra=2,ms=3,vr=4,Lc=1e-6;function Wg(e){return"translate("+e+",0)"}function Yg(e){return"translate(0,"+e+")"}function Hg(e){return t=>+e(t)}function Vg(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Gg(){return!this.__axis}function Di(e,t){var n=[],r=null,a=null,i=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=e===Fa||e===vr?-1:1,u=e===vr||e===Ra?"x":"y",d=e===Fa||e===ms?Wg:Yg;function f(h){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=a??(t.tickFormat?t.tickFormat.apply(t,n):Ug),p=Math.max(i,0)+s,y=t.range(),x=+y[0]+l,b=+y[y.length-1]+l,v=(t.bandwidth?Vg:Hg)(t.copy(),l),w=h.selection?h.selection():h,_=w.selectAll(".domain").data([null]),C=w.selectAll(".tick").data(m,t).order(),$=C.exit(),E=C.enter().append("g").attr("class","tick"),A=C.select("line"),M=C.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(E),A=A.merge(E.append("line").attr("stroke","currentColor").attr(u+"2",c*i)),M=M.merge(E.append("text").attr("fill","currentColor").attr(u,c*p).attr("dy",e===Fa?"0em":e===ms?"0.71em":"0.32em")),h!==w&&(_=_.transition(h),C=C.transition(h),A=A.transition(h),M=M.transition(h),$=$.transition(h).attr("opacity",Lc).attr("transform",function(F){return isFinite(F=v(F))?d(F+l):this.getAttribute("transform")}),E.attr("opacity",Lc).attr("transform",function(F){var q=this.parentNode.__axis;return d((q&&isFinite(q=q(F))?q:v(F))+l)})),$.remove(),_.attr("d",e===vr||e===Ra?o?"M"+c*o+","+x+"H"+l+"V"+b+"H"+c*o:"M"+l+","+x+"V"+b:o?"M"+x+","+c*o+"V"+l+"H"+b+"V"+c*o:"M"+x+","+l+"H"+b),C.attr("opacity",1).attr("transform",function(F){return d(v(F)+l)}),A.attr(u+"2",c*i),M.attr(u,c*p).text(g),w.filter(Gg).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Ra?"start":e===vr?"end":"middle"),w.each(function(){this.__axis=v})}return f.scale=function(h){return arguments.length?(t=h,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),f):n.slice()},f.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),f):r&&r.slice()},f.tickFormat=function(h){return arguments.length?(a=h,f):a},f.tickSize=function(h){return arguments.length?(i=o=+h,f):i},f.tickSizeInner=function(h){return arguments.length?(i=+h,f):i},f.tickSizeOuter=function(h){return arguments.length?(o=+h,f):o},f.tickPadding=function(h){return arguments.length?(s=+h,f):s},f.offset=function(h){return arguments.length?(l=+h,f):l},f}function Md(e){return Di(Fa,e)}function Sd(e){return Di(Ra,e)}function gs(e){return Di(ms,e)}function Td(e){return Di(vr,e)}var Xg={value:()=>{}};function gn(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Pa(n)}function Pa(e){this._=e}function jg(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Pa.prototype=gn.prototype={constructor:Pa,on:function(e,t){var n=this._,r=jg(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=Zg(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=Uc(n[a],e.name,t);else if(t==null)for(a in n)n[a]=Uc(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Pa(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};function Zg(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function Uc(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=Xg,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ys="http://www.w3.org/1999/xhtml";const vs={svg:"http://www.w3.org/2000/svg",xhtml:ys,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vs.hasOwnProperty(t)?{space:vs[t],local:e}:e}function Qg(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ys&&t.documentElement.namespaceURI===ys?t.createElement(e):t.createElementNS(n,e)}}function Kg(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Oi(e){var t=Jr(e);return(t.local?Kg:Qg)(t)}function Jg(){}function Bi(e){return e==null?Jg:function(){return this.querySelector(e)}}function ey(e){typeof e!="function"&&(e=Bi(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=new Array(o),l,c,u=0;u<o;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new De(r,this._parents)}function Cd(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ty(){return[]}function Ml(e){return e==null?ty:function(){return this.querySelectorAll(e)}}function ny(e){return function(){return Cd(e.apply(this,arguments))}}function ry(e){typeof e=="function"?e=ny(e):e=Ml(e);for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),a.push(l));return new De(r,a)}function Sl(e){return function(){return this.matches(e)}}function Ad(e){return function(t){return t.matches(e)}}var ay=Array.prototype.find;function iy(e){return function(){return ay.call(this.children,e)}}function oy(){return this.firstElementChild}function sy(e){return this.select(e==null?oy:iy(typeof e=="function"?e:Ad(e)))}var ly=Array.prototype.filter;function cy(){return Array.from(this.children)}function uy(e){return function(){return ly.call(this.children,e)}}function fy(e){return this.selectAll(e==null?cy:uy(typeof e=="function"?e:Ad(e)))}function dy(e){typeof e!="function"&&(e=Sl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new De(r,this._parents)}function Ed(e){return new Array(e.length)}function hy(){return new De(this._enter||this._groups.map(Ed),this._parents)}function ja(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ja.prototype={constructor:ja,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function py(e){return function(){return e}}function my(e,t,n,r,a,i){for(var o=0,s,l=t.length,c=i.length;o<c;++o)(s=t[o])?(s.__data__=i[o],r[o]=s):n[o]=new ja(e,i[o]);for(;o<l;++o)(s=t[o])&&(a[o]=s)}function gy(e,t,n,r,a,i,o){var s,l,c=new Map,u=t.length,d=i.length,f=new Array(u),h;for(s=0;s<u;++s)(l=t[s])&&(f[s]=h=o.call(l,l.__data__,s,t)+"",c.has(h)?a[s]=l:c.set(h,l));for(s=0;s<d;++s)h=o.call(e,i[s],s,i)+"",(l=c.get(h))?(r[s]=l,l.__data__=i[s],c.delete(h)):n[s]=new ja(e,i[s]);for(s=0;s<u;++s)(l=t[s])&&c.get(f[s])===l&&(a[s]=l)}function yy(e){return e.__data__}function vy(e,t){if(!arguments.length)return Array.from(this,yy);var n=t?gy:my,r=this._parents,a=this._groups;typeof e!="function"&&(e=py(e));for(var i=a.length,o=new Array(i),s=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],d=a[c],f=d.length,h=by(e.call(u,u&&u.__data__,c,r)),m=h.length,g=s[c]=new Array(m),p=o[c]=new Array(m),y=l[c]=new Array(f);n(u,d,g,p,y,h,t);for(var x=0,b=0,v,w;x<m;++x)if(v=g[x]){for(x>=b&&(b=x+1);!(w=p[b])&&++b<m;);v._next=w||null}}return o=new De(o,r),o._enter=s,o._exit=l,o}function by(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xy(){return new De(this._exit||this._groups.map(Ed),this._parents)}function wy(e,t,n){var r=this.enter(),a=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function _y(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,i=r.length,o=Math.min(a,i),s=new Array(a),l=0;l<o;++l)for(var c=n[l],u=r[l],d=c.length,f=s[l]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;l<a;++l)s[l]=n[l];return new De(s,this._parents)}function ky(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function My(e){e||(e=Sy);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],s=o.length,l=a[i]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new De(a,this._parents).order()}function Sy(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ty(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Cy(){return Array.from(this)}function Ay(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function Ey(){let e=0;for(const t of this)++e;return e}function $y(){return!this.node()}function qy(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,s;i<o;++i)(s=a[i])&&e.call(s,s.__data__,i,a);return this}function Ny(e){return function(){this.removeAttribute(e)}}function Fy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ry(e,t){return function(){this.setAttribute(e,t)}}function Py(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function zy(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Iy(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Dy(e,t){var n=Jr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Fy:Ny:typeof t=="function"?n.local?Iy:zy:n.local?Py:Ry)(n,t))}function Tl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Oy(e){return function(){this.style.removeProperty(e)}}function By(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ly(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Uy(e,t,n){return arguments.length>1?this.each((t==null?Oy:typeof t=="function"?Ly:By)(e,t,n??"")):ln(this.node(),e)}function ln(e,t){return e.style.getPropertyValue(t)||Tl(e).getComputedStyle(e,null).getPropertyValue(t)}function Wy(e){return function(){delete this[e]}}function Yy(e,t){return function(){this[e]=t}}function Hy(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Vy(e,t){return arguments.length>1?this.each((t==null?Wy:typeof t=="function"?Hy:Yy)(e,t)):this.node()[e]}function $d(e){return e.trim().split(/^|\s+/)}function Cl(e){return e.classList||new qd(e)}function qd(e){this._node=e,this._names=$d(e.getAttribute("class")||"")}qd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Nd(e,t){for(var n=Cl(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Fd(e,t){for(var n=Cl(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function Gy(e){return function(){Nd(this,e)}}function Xy(e){return function(){Fd(this,e)}}function jy(e,t){return function(){(t.apply(this,arguments)?Nd:Fd)(this,e)}}function Zy(e,t){var n=$d(e+"");if(arguments.length<2){for(var r=Cl(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?jy:t?Gy:Xy)(n,t))}function Qy(){this.textContent=""}function Ky(e){return function(){this.textContent=e}}function Jy(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function e1(e){return arguments.length?this.each(e==null?Qy:(typeof e=="function"?Jy:Ky)(e)):this.node().textContent}function t1(){this.innerHTML=""}function n1(e){return function(){this.innerHTML=e}}function r1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function a1(e){return arguments.length?this.each(e==null?t1:(typeof e=="function"?r1:n1)(e)):this.node().innerHTML}function i1(){this.nextSibling&&this.parentNode.appendChild(this)}function o1(){return this.each(i1)}function s1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function l1(){return this.each(s1)}function c1(e){var t=typeof e=="function"?e:Oi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function u1(){return null}function f1(e,t){var n=typeof e=="function"?e:Oi(e),r=t==null?u1:typeof t=="function"?t:Bi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function d1(){var e=this.parentNode;e&&e.removeChild(this)}function h1(){return this.each(d1)}function p1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function m1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function g1(e){return this.select(e?m1:p1)}function y1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function v1(e){return function(t){e.call(this,t,this.__data__)}}function b1(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function x1(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function w1(e,t,n){return function(){var r=this.__on,a,i=v1(t);if(r){for(var o=0,s=r.length;o<s;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=t;return}}this.addEventListener(e.type,i,n),a={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(a):this.__on=[a]}}function _1(e,t,n){var r=b1(e+""),a,i=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(a=0,u=s[l];a<i;++a)if((o=r[a]).type===u.type&&o.name===u.name)return u.value}return}for(s=t?w1:x1,a=0;a<i;++a)this.each(s(r[a],t,n));return this}function Rd(e,t,n){var r=Tl(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function k1(e,t){return function(){return Rd(this,e,t)}}function M1(e,t){return function(){return Rd(this,e,t.apply(this,arguments))}}function S1(e,t){return this.each((typeof t=="function"?M1:k1)(e,t))}function*T1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length,o;a<i;++a)(o=r[a])&&(yield o)}var Al=[null];function De(e,t){this._groups=e,this._parents=t}function yn(){return new De([[document.documentElement]],Al)}function C1(){return this}De.prototype=yn.prototype={constructor:De,select:ey,selectAll:ry,selectChild:sy,selectChildren:fy,filter:dy,data:vy,enter:hy,exit:xy,join:wy,merge:_y,selection:C1,order:ky,sort:My,call:Ty,nodes:Cy,node:Ay,size:Ey,empty:$y,each:qy,attr:Dy,style:Uy,property:Vy,classed:Zy,text:e1,html:a1,raise:o1,lower:l1,append:c1,insert:f1,remove:h1,clone:g1,datum:y1,on:_1,dispatch:S1,[Symbol.iterator]:T1};function ke(e){return typeof e=="string"?new De([[document.querySelector(e)]],[document.documentElement]):new De([[e]],Al)}function A1(e){return ke(Oi(e).call(document.documentElement))}var E1=0;function Pd(){return new bs}function bs(){this._="@"+(++E1).toString(36)}bs.prototype=Pd.prototype={constructor:bs,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function zd(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ge(e,t){if(e=zd(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}function $1(e,t){return e.target&&(e=zd(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>Ge(n,t))}function q1(e){return typeof e=="string"?new De([document.querySelectorAll(e)],[document.documentElement]):new De([Cd(e)],Al)}const N1={passive:!1},Dr={capture:!0,passive:!1};function Eo(e){e.stopImmediatePropagation()}function Pn(e){e.preventDefault(),e.stopImmediatePropagation()}function Li(e){var t=e.document.documentElement,n=ke(e).on("dragstart.drag",Pn,Dr);"onselectstart"in t?n.on("selectstart.drag",Pn,Dr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ui(e,t){var n=e.document.documentElement,r=ke(e).on("dragstart.drag",null);t&&(r.on("click.drag",Pn,Dr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const da=e=>()=>e;function xs(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:i,x:o,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}xs.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function F1(e){return!e.ctrlKey&&!e.button}function R1(){return this.parentNode}function P1(e,t){return t??{x:e.x,y:e.y}}function z1(){return navigator.maxTouchPoints||"ontouchstart"in this}function Id(){var e=F1,t=R1,n=P1,r=z1,a={},i=gn("start","drag","end"),o=0,s,l,c,u,d=0;function f(v){v.on("mousedown.drag",h).filter(r).on("touchstart.drag",p).on("touchmove.drag",y,N1).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(v,w){if(!(u||!e.call(this,v,w))){var _=b(this,t.call(this,v,w),v,w,"mouse");_&&(ke(v.view).on("mousemove.drag",m,Dr).on("mouseup.drag",g,Dr),Li(v.view),Eo(v),c=!1,s=v.clientX,l=v.clientY,_("start",v))}}function m(v){if(Pn(v),!c){var w=v.clientX-s,_=v.clientY-l;c=w*w+_*_>d}a.mouse("drag",v)}function g(v){ke(v.view).on("mousemove.drag mouseup.drag",null),Ui(v.view,c),Pn(v),a.mouse("end",v)}function p(v,w){if(e.call(this,v,w)){var _=v.changedTouches,C=t.call(this,v,w),$=_.length,E,A;for(E=0;E<$;++E)(A=b(this,C,v,w,_[E].identifier,_[E]))&&(Eo(v),A("start",v,_[E]))}}function y(v){var w=v.changedTouches,_=w.length,C,$;for(C=0;C<_;++C)($=a[w[C].identifier])&&(Pn(v),$("drag",v,w[C]))}function x(v){var w=v.changedTouches,_=w.length,C,$;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<_;++C)($=a[w[C].identifier])&&(Eo(v),$("end",v,w[C]))}function b(v,w,_,C,$,E){var A=i.copy(),M=Ge(E||_,w),F,q,k;if((k=n.call(v,new xs("beforestart",{sourceEvent:_,target:f,identifier:$,active:o,x:M[0],y:M[1],dx:0,dy:0,dispatch:A}),C))!=null)return F=k.x-M[0]||0,q=k.y-M[1]||0,function T(S,N,P){var R=M,I;switch(S){case"start":a[$]=T,I=o++;break;case"end":delete a[$],--o;case"drag":M=Ge(P||N,w),I=o;break}A.call(S,v,new xs(S,{sourceEvent:N,subject:k,target:f,identifier:$,active:I,x:M[0]+F,y:M[1]+q,dx:M[0]-R[0],dy:M[1]-R[1],dispatch:A}),C)}}return f.filter=function(v){return arguments.length?(e=typeof v=="function"?v:da(!!v),f):e},f.container=function(v){return arguments.length?(t=typeof v=="function"?v:da(v),f):t},f.subject=function(v){return arguments.length?(n=typeof v=="function"?v:da(v),f):n},f.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:da(!!v),f):r},f.on=function(){var v=i.on.apply(i,arguments);return v===i?f:v},f.clickDistance=function(v){return arguments.length?(d=(v=+v)*v,f):Math.sqrt(d)},f}function ir(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ea(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Yt(){}var cn=.7,Wn=1/cn,zn="\\s*([+-]?\\d+)\\s*",Or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I1=/^#([0-9a-f]{3,8})$/,D1=new RegExp(`^rgb\\(${zn},${zn},${zn}\\)$`),O1=new RegExp(`^rgb\\(${dt},${dt},${dt}\\)$`),B1=new RegExp(`^rgba\\(${zn},${zn},${zn},${Or}\\)$`),L1=new RegExp(`^rgba\\(${dt},${dt},${dt},${Or}\\)$`),U1=new RegExp(`^hsl\\(${Or},${dt},${dt}\\)$`),W1=new RegExp(`^hsla\\(${Or},${dt},${dt},${Or}\\)$`),Wc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ir(Yt,Bt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yc,formatHex:Yc,formatHex8:Y1,formatHsl:H1,formatRgb:Hc,toString:Hc});function Yc(){return this.rgb().formatHex()}function Y1(){return this.rgb().formatHex8()}function H1(){return Dd(this).formatHsl()}function Hc(){return this.rgb().formatRgb()}function Bt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=I1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Vc(t):n===3?new be(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ha(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ha(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=D1.exec(e))?new be(t[1],t[2],t[3],1):(t=O1.exec(e))?new be(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=B1.exec(e))?ha(t[1],t[2],t[3],t[4]):(t=L1.exec(e))?ha(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=U1.exec(e))?jc(t[1],t[2]/100,t[3]/100,1):(t=W1.exec(e))?jc(t[1],t[2]/100,t[3]/100,t[4]):Wc.hasOwnProperty(e)?Vc(Wc[e]):e==="transparent"?new be(NaN,NaN,NaN,0):null}function Vc(e){return new be(e>>16&255,e>>8&255,e&255,1)}function ha(e,t,n,r){return r<=0&&(e=t=n=NaN),new be(e,t,n,r)}function El(e){return e instanceof Yt||(e=Bt(e)),e?(e=e.rgb(),new be(e.r,e.g,e.b,e.opacity)):new be}function Yn(e,t,n,r){return arguments.length===1?El(e):new be(e,t,n,r??1)}function be(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ir(be,Yn,ea(Yt,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new be(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cn:Math.pow(cn,e),new be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new be(tn(this.r),tn(this.g),tn(this.b),Za(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gc,formatHex:Gc,formatHex8:V1,formatRgb:Xc,toString:Xc}));function Gc(){return`#${Jt(this.r)}${Jt(this.g)}${Jt(this.b)}`}function V1(){return`#${Jt(this.r)}${Jt(this.g)}${Jt(this.b)}${Jt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xc(){const e=Za(this.opacity);return`${e===1?"rgb(":"rgba("}${tn(this.r)}, ${tn(this.g)}, ${tn(this.b)}${e===1?")":`, ${e})`}`}function Za(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jt(e){return e=tn(e),(e<16?"0":"")+e.toString(16)}function jc(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new nt(e,t,n,r)}function Dd(e){if(e instanceof nt)return new nt(e.h,e.s,e.l,e.opacity);if(e instanceof Yt||(e=Bt(e)),!e)return new nt;if(e instanceof nt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new nt(o,s,l,e.opacity)}function Qa(e,t,n,r){return arguments.length===1?Dd(e):new nt(e,t,n,r??1)}function nt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ir(nt,Qa,ea(Yt,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new nt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cn:Math.pow(cn,e),new nt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new be($o(e>=240?e-240:e+120,a,r),$o(e,a,r),$o(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new nt(Zc(this.h),pa(this.s),pa(this.l),Za(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Za(this.opacity);return`${e===1?"hsl(":"hsla("}${Zc(this.h)}, ${pa(this.s)*100}%, ${pa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Zc(e){return e=(e||0)%360,e<0?e+360:e}function pa(e){return Math.max(0,Math.min(1,e||0))}function $o(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Od=Math.PI/180,Bd=180/Math.PI,Ka=18,Ld=.96422,Ud=1,Wd=.82521,Yd=4/29,In=6/29,Hd=3*In*In,G1=In*In*In;function Vd(e){if(e instanceof it)return new it(e.l,e.a,e.b,e.opacity);if(e instanceof ut)return Xd(e);e instanceof be||(e=El(e));var t=Ro(e.r),n=Ro(e.g),r=Ro(e.b),a=qo((.2225045*t+.7168786*n+.0606169*r)/Ud),i,o;return t===n&&n===r?i=o=a:(i=qo((.4360747*t+.3850649*n+.1430804*r)/Ld),o=qo((.0139322*t+.0971045*n+.7141733*r)/Wd)),new it(116*a-16,500*(i-a),200*(a-o),e.opacity)}function X1(e,t){return new it(e,0,0,t??1)}function Ja(e,t,n,r){return arguments.length===1?Vd(e):new it(e,t,n,r??1)}function it(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}ir(it,Ja,ea(Yt,{brighter(e){return new it(this.l+Ka*(e??1),this.a,this.b,this.opacity)},darker(e){return new it(this.l-Ka*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Ld*No(t),e=Ud*No(e),n=Wd*No(n),new be(Fo(3.1338561*t-1.6168667*e-.4906146*n),Fo(-.9787684*t+1.9161415*e+.033454*n),Fo(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function qo(e){return e>G1?Math.pow(e,1/3):e/Hd+Yd}function No(e){return e>In?e*e*e:Hd*(e-Yd)}function Fo(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Ro(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Gd(e){if(e instanceof ut)return new ut(e.h,e.c,e.l,e.opacity);if(e instanceof it||(e=Vd(e)),e.a===0&&e.b===0)return new ut(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Bd;return new ut(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function j1(e,t,n,r){return arguments.length===1?Gd(e):new ut(n,t,e,r??1)}function ei(e,t,n,r){return arguments.length===1?Gd(e):new ut(e,t,n,r??1)}function ut(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Xd(e){if(isNaN(e.h))return new it(e.l,0,0,e.opacity);var t=e.h*Od;return new it(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}ir(ut,ei,ea(Yt,{brighter(e){return new ut(this.h,this.c,this.l+Ka*(e??1),this.opacity)},darker(e){return new ut(this.h,this.c,this.l-Ka*(e??1),this.opacity)},rgb(){return Xd(this).rgb()}}));var jd=-.14861,$l=1.78277,ql=-.29227,Wi=-.90649,Br=1.97294,Qc=Br*Wi,Kc=Br*$l,Jc=$l*ql-Wi*jd;function Z1(e){if(e instanceof nn)return new nn(e.h,e.s,e.l,e.opacity);e instanceof be||(e=El(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(Jc*r+Qc*t-Kc*n)/(Jc+Qc-Kc),i=r-a,o=(Br*(n-a)-ql*i)/Wi,s=Math.sqrt(o*o+i*i)/(Br*a*(1-a)),l=s?Math.atan2(o,i)*Bd-120:NaN;return new nn(l<0?l+360:l,s,a,e.opacity)}function ot(e,t,n,r){return arguments.length===1?Z1(e):new nn(e,t,n,r??1)}function nn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ir(nn,ot,ea(Yt,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new nn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cn:Math.pow(cn,e),new nn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Od,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new be(255*(t+n*(jd*r+$l*a)),255*(t+n*(ql*r+Wi*a)),255*(t+n*(Br*r)),this.opacity)}}));function Zd(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}function Qd(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return Zd((n-r/t)*t,o,a,i,s)}}function Kd(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Zd((n-r/t)*t,a,i,o,s)}}const Yi=e=>()=>e;function Jd(e,t){return function(n){return e+n*t}}function Q1(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Hi(e,t){var n=t-e;return n?Jd(e,n>180||n<-180?n-360*Math.round(n/360):n):Yi(isNaN(e)?t:e)}function K1(e){return(e=+e)==1?xe:function(t,n){return n-t?Q1(t,n,e):Yi(isNaN(t)?n:t)}}function xe(e,t){var n=t-e;return n?Jd(e,n):Yi(isNaN(e)?t:e)}const Lr=function e(t){var n=K1(t);function r(a,i){var o=n((a=Yn(a)).r,(i=Yn(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=xe(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=s(u),a.b=l(u),a.opacity=c(u),a+""}}return r.gamma=e,r}(1);function eh(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),i=new Array(n),o,s;for(o=0;o<n;++o)s=Yn(t[o]),r[o]=s.r||0,a[o]=s.g||0,i[o]=s.b||0;return r=e(r),a=e(a),i=e(i),s.opacity=1,function(l){return s.r=r(l),s.g=a(l),s.b=i(l),s+""}}}var th=eh(Qd),J1=eh(Kd);function Nl(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function nh(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function e2(e,t){return(nh(t)?Nl:rh)(e,t)}function rh(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Ht(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function ah(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Qe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ih(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Ht(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var ws=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Po=new RegExp(ws.source,"g");function t2(e){return function(){return e}}function n2(e){return function(t){return e(t)+""}}function Fl(e,t){var n=ws.lastIndex=Po.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=ws.exec(e))&&(a=Po.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Qe(r,a)})),n=Po.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?n2(l[0].x):t2(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function Ht(e,t){var n=typeof t,r;return t==null||n==="boolean"?Yi(t):(n==="number"?Qe:n==="string"?(r=Bt(t))?(t=r,Lr):Fl:t instanceof Bt?Lr:t instanceof Date?ah:nh(t)?Nl:Array.isArray(t)?rh:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ih:Qe)(e,t)}function r2(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function a2(e,t){var n=Hi(+e,+t);return function(r){var a=n(r);return a-360*Math.floor(a/360)}}function Vi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var eu=180/Math.PI,_s={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function oh(e,t,n,r,a,i){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*eu,skewX:Math.atan(l)*eu,scaleX:o,scaleY:s}}var ma;function i2(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_s:oh(t.a,t.b,t.c,t.d,t.e,t.f)}function o2(e){return e==null||(ma||(ma=document.createElementNS("http://www.w3.org/2000/svg","g")),ma.setAttribute("transform",e),!(e=ma.transform.baseVal.consolidate()))?_s:(e=e.matrix,oh(e.a,e.b,e.c,e.d,e.e,e.f))}function sh(e,t,n,r){function a(c){return c.length?c.pop()+" ":""}function i(c,u,d,f,h,m){if(c!==d||u!==f){var g=h.push("translate(",null,t,null,n);m.push({i:g-4,x:Qe(c,d)},{i:g-2,x:Qe(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(a(d)+"rotate(",null,r)-2,x:Qe(c,u)})):u&&d.push(a(d)+"rotate("+u+r)}function s(c,u,d,f){c!==u?f.push({i:d.push(a(d)+"skewX(",null,r)-2,x:Qe(c,u)}):u&&d.push(a(d)+"skewX("+u+r)}function l(c,u,d,f,h,m){if(c!==d||u!==f){var g=h.push(a(h)+"scale(",null,",",null,")");m.push({i:g-4,x:Qe(c,d)},{i:g-2,x:Qe(u,f)})}else(d!==1||f!==1)&&h.push(a(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),s(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var m=-1,g=f.length,p;++m<g;)d[(p=f[m]).i]=p.x(h);return d.join("")}}}var lh=sh(i2,"px, ","px)","deg)"),ch=sh(o2,", ",")",")"),s2=1e-12;function tu(e){return((e=Math.exp(e))+1/e)/2}function l2(e){return((e=Math.exp(e))-1/e)/2}function c2(e){return((e=Math.exp(2*e))-1)/(e+1)}const uh=function e(t,n,r){function a(i,o){var s=i[0],l=i[1],c=i[2],u=o[0],d=o[1],f=o[2],h=u-s,m=d-l,g=h*h+m*m,p,y;if(g<s2)y=Math.log(f/c)/t,p=function(C){return[s+C*h,l+C*m,c*Math.exp(t*C*y)]};else{var x=Math.sqrt(g),b=(f*f-c*c+r*g)/(2*c*n*x),v=(f*f-c*c-r*g)/(2*f*n*x),w=Math.log(Math.sqrt(b*b+1)-b),_=Math.log(Math.sqrt(v*v+1)-v);y=(_-w)/t,p=function(C){var $=C*y,E=tu(w),A=c/(n*x)*(E*c2(t*$+w)-l2(w));return[s+A*h,l+A*m,c*E/tu(t*$+w)]}}return p.duration=y*1e3*t/Math.SQRT2,p}return a.rho=function(i){var o=Math.max(.001,+i),s=o*o,l=s*s;return e(o,s,l)},a}(Math.SQRT2,2,4);function fh(e){return function(t,n){var r=e((t=Qa(t)).h,(n=Qa(n)).h),a=xe(t.s,n.s),i=xe(t.l,n.l),o=xe(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=a(s),t.l=i(s),t.opacity=o(s),t+""}}}const u2=fh(Hi);var f2=fh(xe);function d2(e,t){var n=xe((e=Ja(e)).l,(t=Ja(t)).l),r=xe(e.a,t.a),a=xe(e.b,t.b),i=xe(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=a(o),e.opacity=i(o),e+""}}function dh(e){return function(t,n){var r=e((t=ei(t)).h,(n=ei(n)).h),a=xe(t.c,n.c),i=xe(t.l,n.l),o=xe(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=a(s),t.l=i(s),t.opacity=o(s),t+""}}}const h2=dh(Hi);var p2=dh(xe);function hh(e){return function t(n){n=+n;function r(a,i){var o=e((a=ot(a)).h,(i=ot(i)).h),s=xe(a.s,i.s),l=xe(a.l,i.l),c=xe(a.opacity,i.opacity);return function(u){return a.h=o(u),a.s=s(u),a.l=l(Math.pow(u,n)),a.opacity=c(u),a+""}}return r.gamma=t,r}(1)}const m2=hh(Hi);var Gi=hh(xe);function ph(e,t){t===void 0&&(t=e,e=Ht);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function g2(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var Hn=0,br=0,ur=0,mh=1e3,ti,xr,ni=0,un=0,Xi=0,Ur=typeof performance=="object"&&performance.now?performance:Date,gh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ta(){return un||(gh(y2),un=Ur.now()+Xi)}function y2(){un=0}function Wr(){this._call=this._time=this._next=null}Wr.prototype=ji.prototype={constructor:Wr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ta():+n)+(t==null?0:+t),!this._next&&xr!==this&&(xr?xr._next=this:ti=this,xr=this),this._call=e,this._time=n,ks()},stop:function(){this._call&&(this._call=null,this._time=1/0,ks())}};function ji(e,t,n){var r=new Wr;return r.restart(e,t,n),r}function yh(){ta(),++Hn;for(var e=ti,t;e;)(t=un-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Hn}function nu(){un=(ni=Ur.now())+Xi,Hn=br=0;try{yh()}finally{Hn=0,b2(),un=0}}function v2(){var e=Ur.now(),t=e-ni;t>mh&&(Xi-=t,ni=e)}function b2(){for(var e,t=ti,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ti=n);xr=e,ks(r)}function ks(e){if(!Hn){br&&(br=clearTimeout(br));var t=e-un;t>24?(e<1/0&&(br=setTimeout(nu,e-Ur.now()-Xi)),ur&&(ur=clearInterval(ur))):(ur||(ni=Ur.now(),ur=setInterval(v2,mh)),Hn=1,gh(nu))}}function Ms(e,t,n){var r=new Wr;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}function x2(e,t,n){var r=new Wr,a=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(i,o,s){o=+o,s=s==null?ta():+s,r._restart(function l(c){c+=a,r._restart(l,a+=o,s),i(c)},o,s)},r.restart(e,t,n),r)}var w2=gn("start","end","cancel","interrupt"),_2=[],vh=0,Ss=1,Ts=2,za=3,ru=4,Cs=5,Ia=6;function Zi(e,t,n,r,a,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;k2(e,n,{name:t,index:r,group:a,on:w2,tween:_2,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:vh})}function Rl(e,t){var n=st(e,t);if(n.state>vh)throw new Error("too late; already scheduled");return n}function yt(e,t){var n=st(e,t);if(n.state>za)throw new Error("too late; already running");return n}function st(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function k2(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=ji(i,0,n.time);function i(c){n.state=Ss,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,h;if(n.state!==Ss)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===za)return Ms(o);h.state===ru?(h.state=Ia,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=Ia,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Ms(function(){n.state===za&&(n.state=ru,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=Ts,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ts){for(n.state=za,a=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=h);a.length=d+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Cs,1),d=-1,f=a.length;++d<f;)a[d].call(e,u);n.state===Cs&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Ia,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function rn(e,t){var n=e.__transition,r,a,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}a=r.state>Ts&&r.state<Cs,r.state=Ia,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function M2(e){return this.each(function(){rn(this,e)})}function S2(e,t){var n,r;return function(){var a=yt(this,e),i=a.tween;if(i!==n){r=n=i;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function T2(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=yt(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var s={name:t,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=s;break}l===c&&a.push(s)}i.tween=a}}function C2(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=st(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?S2:T2)(n,e,t))}function Pl(e,t,n){var r=e._id;return e.each(function(){var a=yt(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return st(a,r).value[t]}}function bh(e,t){var n;return(typeof t=="number"?Qe:t instanceof Bt?Lr:(n=Bt(t))?(t=n,Lr):Fl)(e,t)}function A2(e){return function(){this.removeAttribute(e)}}function E2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $2(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function q2(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function N2(e,t,n){var r,a,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=s+"",o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s)))}}function F2(e,t,n){var r,a,i;return function(){var o,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=s+"",o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s)))}}function R2(e,t){var n=Jr(e),r=n==="transform"?ch:bh;return this.attrTween(e,typeof t=="function"?(n.local?F2:N2)(n,r,Pl(this,"attr."+e,t)):t==null?(n.local?E2:A2)(n):(n.local?q2:$2)(n,r,t))}function P2(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function z2(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function I2(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&z2(e,i)),n}return a._value=t,a}function D2(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&P2(e,i)),n}return a._value=t,a}function O2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Jr(e);return this.tween(n,(r.local?I2:D2)(r,t))}function B2(e,t){return function(){Rl(this,e).delay=+t.apply(this,arguments)}}function L2(e,t){return t=+t,function(){Rl(this,e).delay=t}}function U2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?B2:L2)(t,e)):st(this.node(),t).delay}function W2(e,t){return function(){yt(this,e).duration=+t.apply(this,arguments)}}function Y2(e,t){return t=+t,function(){yt(this,e).duration=t}}function H2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?W2:Y2)(t,e)):st(this.node(),t).duration}function V2(e,t){if(typeof t!="function")throw new Error;return function(){yt(this,e).ease=t}}function G2(e){var t=this._id;return arguments.length?this.each(V2(t,e)):st(this.node(),t).ease}function X2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;yt(this,e).ease=n}}function j2(e){if(typeof e!="function")throw new Error;return this.each(X2(this._id,e))}function Z2(e){typeof e!="function"&&(e=Sl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,s=r[a]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&s.push(l);return new ht(r,this._parents,this._name,this._id)}function Q2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var l=t[s],c=n[s],u=l.length,d=o[s]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;s<r;++s)o[s]=t[s];return new ht(o,this._parents,this._name,this._id)}function K2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function J2(e,t,n){var r,a,i=K2(t)?Rl:yt;return function(){var o=i(this,e),s=o.on;s!==r&&(a=(r=s).copy()).on(t,n),o.on=a}}function ev(e,t){var n=this._id;return arguments.length<2?st(this.node(),n).on.on(e):this.each(J2(n,e,t))}function tv(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function nv(){return this.on("end.remove",tv(this._id))}function rv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Bi(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s=r[o],l=s.length,c=i[o]=new Array(l),u,d,f=0;f<l;++f)(u=s[f])&&(d=e.call(u,u.__data__,f,s))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Zi(c[f],t,n,f,c,st(u,n)));return new ht(i,this._parents,t,n)}function av(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ml(e));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var l=r[s],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),h,m=st(u,n),g=0,p=f.length;g<p;++g)(h=f[g])&&Zi(h,t,n,g,f,m);i.push(f),o.push(u)}return new ht(i,o,t,n)}var iv=yn.prototype.constructor;function ov(){return new iv(this._groups,this._parents)}function sv(e,t){var n,r,a;return function(){var i=ln(this,e),o=(this.style.removeProperty(e),ln(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}function xh(e){return function(){this.style.removeProperty(e)}}function lv(e,t,n){var r,a=n+"",i;return function(){var o=ln(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}function cv(e,t,n){var r,a,i;return function(){var o=ln(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),ln(this,e))),o===l?null:o===r&&l===a?i:(a=l,i=t(r=o,s))}}function uv(e,t){var n,r,a,i="style."+t,o="end."+i,s;return function(){var l=yt(this,e),c=l.on,u=l.value[i]==null?s||(s=xh(t)):void 0;(c!==n||a!==u)&&(r=(n=c).copy()).on(o,a=u),l.on=r}}function fv(e,t,n){var r=(e+="")=="transform"?lh:bh;return t==null?this.styleTween(e,sv(e,r)).on("end.style."+e,xh(e)):typeof t=="function"?this.styleTween(e,cv(e,r,Pl(this,"style."+e,t))).each(uv(this._id,e)):this.styleTween(e,lv(e,r,t),n).on("end.style."+e,null)}function dv(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function hv(e,t,n){var r,a;function i(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&dv(e,o,n)),r}return i._value=t,i}function pv(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,hv(e,t,n??""))}function mv(e){return function(){this.textContent=e}}function gv(e){return function(){var t=e(this);this.textContent=t??""}}function yv(e){return this.tween("text",typeof e=="function"?gv(Pl(this,"text",e)):mv(e==null?"":e+""))}function vv(e){return function(t){this.textContent=e.call(this,t)}}function bv(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&vv(a)),t}return r._value=e,r}function xv(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,bv(e))}function wv(){for(var e=this._name,t=this._id,n=_h(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,l,c=0;c<s;++c)if(l=o[c]){var u=st(l,t);Zi(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ht(r,this._parents,e,n)}function _v(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--a===0&&i()}};n.each(function(){var c=yt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),c.on=t}),a===0&&i()})}var kv=0;function ht(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function wh(e){return yn().transition(e)}function _h(){return++kv}var bt=yn.prototype;ht.prototype=wh.prototype={constructor:ht,select:rv,selectAll:av,selectChild:bt.selectChild,selectChildren:bt.selectChildren,filter:Z2,merge:Q2,selection:ov,transition:wv,call:bt.call,nodes:bt.nodes,node:bt.node,size:bt.size,empty:bt.empty,each:bt.each,on:ev,attr:R2,attrTween:O2,style:fv,styleTween:pv,text:yv,textTween:xv,remove:nv,tween:C2,delay:U2,duration:H2,ease:G2,easeVarying:j2,end:_v,[Symbol.iterator]:bt[Symbol.iterator]};const kh=e=>+e;function Mv(e){return e*e}function Sv(e){return e*(2-e)}function au(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function Tv(e){return e*e*e}function Cv(e){return--e*e*e+1}function As(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zl=3,Av=function e(t){t=+t;function n(r){return Math.pow(r,t)}return n.exponent=e,n}(zl),Ev=function e(t){t=+t;function n(r){return 1-Math.pow(1-r,t)}return n.exponent=e,n}(zl),iu=function e(t){t=+t;function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return n.exponent=e,n}(zl),Mh=Math.PI,Sh=Mh/2;function $v(e){return+e==1?1:1-Math.cos(e*Sh)}function qv(e){return Math.sin(e*Sh)}function ou(e){return(1-Math.cos(Mh*e))/2}function Lt(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function Nv(e){return Lt(1-+e)}function Fv(e){return 1-Lt(e)}function su(e){return((e*=2)<=1?Lt(1-e):2-Lt(e-1))/2}function Rv(e){return 1-Math.sqrt(1-e*e)}function Pv(e){return Math.sqrt(1- --e*e)}function lu(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Es=4/11,zv=6/11,Iv=8/11,Dv=3/4,Ov=9/11,Bv=10/11,Lv=15/16,Uv=21/22,Wv=63/64,ga=1/Es/Es;function Yv(e){return 1-Yr(1-e)}function Yr(e){return(e=+e)<Es?ga*e*e:e<Iv?ga*(e-=zv)*e+Dv:e<Bv?ga*(e-=Ov)*e+Lv:ga*(e-=Uv)*e+Wv}function Hv(e){return((e*=2)<=1?1-Yr(1-e):Yr(e-1)+1)/2}var Il=1.70158,Vv=function e(t){t=+t;function n(r){return(r=+r)*r*(t*(r-1)+r)}return n.overshoot=e,n}(Il),Gv=function e(t){t=+t;function n(r){return--r*r*((r+1)*t+r)+1}return n.overshoot=e,n}(Il),cu=function e(t){t=+t;function n(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return n.overshoot=e,n}(Il),Vn=2*Math.PI,Dl=1,Ol=.3,Xv=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Vn);function a(i){return t*Lt(- --i)*Math.sin((r-i)/n)}return a.amplitude=function(i){return e(i,n*Vn)},a.period=function(i){return e(t,i)},a}(Dl,Ol),uu=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Vn);function a(i){return 1-t*Lt(i=+i)*Math.sin((i+r)/n)}return a.amplitude=function(i){return e(i,n*Vn)},a.period=function(i){return e(t,i)},a}(Dl,Ol),jv=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Vn);function a(i){return((i=i*2-1)<0?t*Lt(-i)*Math.sin((r-i)/n):2-t*Lt(i)*Math.sin((r+i)/n))/2}return a.amplitude=function(i){return e(i,n*Vn)},a.period=function(i){return e(t,i)},a}(Dl,Ol),Zv={time:null,delay:0,duration:250,ease:As};function Qv(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Kv(e){var t,n;e instanceof ht?(t=e._id,e=e._name):(t=_h(),(n=Zv).time=ta(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],s=o.length,l,c=0;c<s;++c)(l=o[c])&&Zi(l,e,t,c,o,n||Qv(l,t));return new ht(r,this._parents,e,t)}yn.prototype.interrupt=M2;yn.prototype.transition=Kv;var Jv=[null];function eb(e,t){var n=e.__transition,r,a;if(n){t=t==null?null:t+"";for(a in n)if((r=n[a]).state>Ss&&r.name===t)return new ht([[e]],Jv,t,+a)}return null}const zo=e=>()=>e;function tb(e,{sourceEvent:t,target:n,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}function nb(e){e.stopImmediatePropagation()}function Io(e){e.preventDefault(),e.stopImmediatePropagation()}var fu={name:"drag"},Do={name:"space"},Mn={name:"handle"},Sn={name:"center"};const{abs:du,max:Se,min:Te}=Math;function hu(e){return[+e[0],+e[1]]}function $s(e){return[hu(e[0]),hu(e[1])]}var Da={name:"x",handles:["w","e"].map(Hr),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Oa={name:"y",handles:["n","s"].map(Hr),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},rb={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Hr),input:function(e){return e==null?null:$s(e)},output:function(e){return e}},xt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},pu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},mu={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ab={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ib={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Hr(e){return{type:e}}function ob(e){return!e.ctrlKey&&!e.button}function sb(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function lb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Oo(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function cb(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function ub(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function fb(){return Bl(Da)}function db(){return Bl(Oa)}function hb(){return Bl(rb)}function Bl(e){var t=sb,n=ob,r=lb,a=!0,i=gn("start","brush","end"),o=6,s;function l(p){var y=p.property("__brush",g).selectAll(".overlay").data([Hr("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",xt.overlay).merge(y).each(function(){var b=Oo(this).extent;ke(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),p.selectAll(".selection").data([Hr("selection")]).enter().append("rect").attr("class","selection").attr("cursor",xt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var x=p.selectAll(".handle").data(e.handles,function(b){return b.type});x.exit().remove(),x.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return xt[b.type]}),p.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(p,y,x){p.tween?p.on("start.brush",function(b){u(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){u(this,arguments).end(b)}).tween("brush",function(){var b=this,v=b.__brush,w=u(b,arguments),_=v.selection,C=e.input(typeof y=="function"?y.apply(this,arguments):y,v.extent),$=Ht(_,C);function E(A){v.selection=A===1&&C===null?null:$(A),c.call(b),w.brush()}return _!==null&&C!==null?E:E(1)}):p.each(function(){var b=this,v=arguments,w=b.__brush,_=e.input(typeof y=="function"?y.apply(b,v):y,w.extent),C=u(b,v).beforestart();rn(b),w.selection=_===null?null:_,c.call(b),C.start(x).brush(x).end(x)})},l.clear=function(p,y){l.move(p,null,y)};function c(){var p=ke(this),y=Oo(this).selection;y?(p.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(x){return x.type[x.type.length-1]==="e"?y[1][0]-o/2:y[0][0]-o/2}).attr("y",function(x){return x.type[0]==="s"?y[1][1]-o/2:y[0][1]-o/2}).attr("width",function(x){return x.type==="n"||x.type==="s"?y[1][0]-y[0][0]+o:o}).attr("height",function(x){return x.type==="e"||x.type==="w"?y[1][1]-y[0][1]+o:o})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(p,y,x){var b=p.__brush.emitter;return b&&(!x||!b.clean)?b:new d(p,y,x)}function d(p,y,x){this.that=p,this.args=y,this.state=p.__brush,this.active=0,this.clean=x}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,y){return this.starting?(this.starting=!1,this.emit("start",p,y)):this.emit("brush",p),this},brush:function(p,y){return this.emit("brush",p,y),this},end:function(p,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,y)),this},emit:function(p,y,x){var b=ke(this.that).datum();i.call(p,this.that,new tb(p,{sourceEvent:y,target:l,selection:e.output(this.state.selection),mode:x,dispatch:i}),b)}};function f(p){if(s&&!p.touches||!n.apply(this,arguments))return;var y=this,x=p.target.__data__.type,b=(a&&p.metaKey?x="overlay":x)==="selection"?fu:a&&p.altKey?Sn:Mn,v=e===Oa?null:ab[x],w=e===Da?null:ib[x],_=Oo(y),C=_.extent,$=_.selection,E=C[0][0],A,M,F=C[0][1],q,k,T=C[1][0],S,N,P=C[1][1],R,I,B=0,U=0,ne,J=v&&w&&a&&p.shiftKey,K,me,ee=Array.from(p.touches||[p],H=>{const fe=H.identifier;return H=Ge(H,y),H.point0=H.slice(),H.identifier=fe,H});rn(y);var pe=u(y,arguments,!0).beforestart();if(x==="overlay"){$&&(ne=!0);const H=[ee[0],ee[1]||ee[0]];_.selection=$=[[A=e===Oa?E:Te(H[0][0],H[1][0]),q=e===Da?F:Te(H[0][1],H[1][1])],[S=e===Oa?T:Se(H[0][0],H[1][0]),R=e===Da?P:Se(H[0][1],H[1][1])]],ee.length>1&&ue(p)}else A=$[0][0],q=$[0][1],S=$[1][0],R=$[1][1];M=A,k=q,N=S,I=R;var D=ke(y).attr("pointer-events","none"),V=D.selectAll(".overlay").attr("cursor",xt[x]);if(p.touches)pe.moved=z,pe.ended=re;else{var j=ke(p.view).on("mousemove.brush",z,!0).on("mouseup.brush",re,!0);a&&j.on("keydown.brush",$e,!0).on("keyup.brush",qe,!0),Li(p.view)}c.call(y),pe.start(p,b.name);function z(H){for(const fe of H.changedTouches||[H])for(const lr of ee)lr.identifier===fe.identifier&&(lr.cur=Ge(fe,y));if(J&&!K&&!me&&ee.length===1){const fe=ee[0];du(fe.cur[0]-fe[0])>du(fe.cur[1]-fe[1])?me=!0:K=!0}for(const fe of ee)fe.cur&&(fe[0]=fe.cur[0],fe[1]=fe.cur[1]);ne=!0,Io(H),ue(H)}function ue(H){const fe=ee[0],lr=fe.point0;var Nt;switch(B=fe[0]-lr[0],U=fe[1]-lr[1],b){case Do:case fu:{v&&(B=Se(E-A,Te(T-S,B)),M=A+B,N=S+B),w&&(U=Se(F-q,Te(P-R,U)),k=q+U,I=R+U);break}case Mn:{ee[1]?(v&&(M=Se(E,Te(T,ee[0][0])),N=Se(E,Te(T,ee[1][0])),v=1),w&&(k=Se(F,Te(P,ee[0][1])),I=Se(F,Te(P,ee[1][1])),w=1)):(v<0?(B=Se(E-A,Te(T-A,B)),M=A+B,N=S):v>0&&(B=Se(E-S,Te(T-S,B)),M=A,N=S+B),w<0?(U=Se(F-q,Te(P-q,U)),k=q+U,I=R):w>0&&(U=Se(F-R,Te(P-R,U)),k=q,I=R+U));break}case Sn:{v&&(M=Se(E,Te(T,A-B*v)),N=Se(E,Te(T,S+B*v))),w&&(k=Se(F,Te(P,q-U*w)),I=Se(F,Te(P,R+U*w)));break}}N<M&&(v*=-1,Nt=A,A=S,S=Nt,Nt=M,M=N,N=Nt,x in pu&&V.attr("cursor",xt[x=pu[x]])),I<k&&(w*=-1,Nt=q,q=R,R=Nt,Nt=k,k=I,I=Nt,x in mu&&V.attr("cursor",xt[x=mu[x]])),_.selection&&($=_.selection),K&&(M=$[0][0],N=$[1][0]),me&&(k=$[0][1],I=$[1][1]),($[0][0]!==M||$[0][1]!==k||$[1][0]!==N||$[1][1]!==I)&&(_.selection=[[M,k],[N,I]],c.call(y),pe.brush(H,b.name))}function re(H){if(nb(H),H.touches){if(H.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else Ui(H.view,ne),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),V.attr("cursor",xt.overlay),_.selection&&($=_.selection),cb($)&&(_.selection=null,c.call(y)),pe.end(H,b.name)}function $e(H){switch(H.keyCode){case 16:{J=v&&w;break}case 18:{b===Mn&&(v&&(S=N-B*v,A=M+B*v),w&&(R=I-U*w,q=k+U*w),b=Sn,ue(H));break}case 32:{(b===Mn||b===Sn)&&(v<0?S=N-B:v>0&&(A=M-B),w<0?R=I-U:w>0&&(q=k-U),b=Do,V.attr("cursor",xt.selection),ue(H));break}default:return}Io(H)}function qe(H){switch(H.keyCode){case 16:{J&&(K=me=J=!1,ue(H));break}case 18:{b===Sn&&(v<0?S=N:v>0&&(A=M),w<0?R=I:w>0&&(q=k),b=Mn,ue(H));break}case 32:{b===Do&&(H.altKey?(v&&(S=N-B*v,A=M+B*v),w&&(R=I-U*w,q=k+U*w),b=Sn):(v<0?S=N:v>0&&(A=M),w<0?R=I:w>0&&(q=k),b=Mn),V.attr("cursor",xt[x]),ue(H));break}default:return}Io(H)}}function h(p){u(this,arguments).moved(p)}function m(p){u(this,arguments).ended(p)}function g(){var p=this.__brush||{selection:null};return p.extent=$s(t.apply(this,arguments)),p.dim=e,p}return l.extent=function(p){return arguments.length?(t=typeof p=="function"?p:zo($s(p)),l):t},l.filter=function(p){return arguments.length?(n=typeof p=="function"?p:zo(!!p),l):n},l.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:zo(!!p),l):r},l.handleSize=function(p){return arguments.length?(o=+p,l):o},l.keyModifiers=function(p){return arguments.length?(a=!!p,l):a},l.on=function(){var p=i.on.apply(i,arguments);return p===i?l:p},l}var gu=Math.abs,Tn=Math.cos,Cn=Math.sin,Th=Math.PI,ya=Th/2,yu=Th*2,vu=Math.max,Bo=1e-12;function Lo(e,t){return Array.from({length:t-e},(n,r)=>e+r)}function pb(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function Ch(){return Ll(!1,!1)}function mb(){return Ll(!1,!0)}function gb(){return Ll(!0,!1)}function Ll(e,t){var n=0,r=null,a=null,i=null;function o(s){var l=s.length,c=new Array(l),u=Lo(0,l),d=new Array(l*l),f=new Array(l),h=0,m;s=Float64Array.from({length:l*l},t?(g,p)=>s[p%l][p/l|0]:(g,p)=>s[p/l|0][p%l]);for(let g=0;g<l;++g){let p=0;for(let y=0;y<l;++y)p+=s[g*l+y]+e*s[y*l+g];h+=c[g]=p}h=vu(0,yu-n*l)/h,m=h?n:yu/l;{let g=0;r&&u.sort((p,y)=>r(c[p],c[y]));for(const p of u){const y=g;if(e){const x=Lo(~l+1,l).filter(b=>b<0?s[~b*l+p]:s[p*l+b]);a&&x.sort((b,v)=>a(b<0?-s[~b*l+p]:s[p*l+b],v<0?-s[~v*l+p]:s[p*l+v]));for(const b of x)if(b<0){const v=d[~b*l+p]||(d[~b*l+p]={source:null,target:null});v.target={index:p,startAngle:g,endAngle:g+=s[~b*l+p]*h,value:s[~b*l+p]}}else{const v=d[p*l+b]||(d[p*l+b]={source:null,target:null});v.source={index:p,startAngle:g,endAngle:g+=s[p*l+b]*h,value:s[p*l+b]}}f[p]={index:p,startAngle:y,endAngle:g,value:c[p]}}else{const x=Lo(0,l).filter(b=>s[p*l+b]||s[b*l+p]);a&&x.sort((b,v)=>a(s[p*l+b],s[p*l+v]));for(const b of x){let v;if(p<b?(v=d[p*l+b]||(d[p*l+b]={source:null,target:null}),v.source={index:p,startAngle:g,endAngle:g+=s[p*l+b]*h,value:s[p*l+b]}):(v=d[b*l+p]||(d[b*l+p]={source:null,target:null}),v.target={index:p,startAngle:g,endAngle:g+=s[p*l+b]*h,value:s[p*l+b]},p===b&&(v.source=v.target)),v.source&&v.target&&v.source.value<v.target.value){const w=v.source;v.source=v.target,v.target=w}}f[p]={index:p,startAngle:y,endAngle:g,value:c[p]}}g+=m}}return d=Object.values(d),d.groups=f,i?d.sort(i):d}return o.padAngle=function(s){return arguments.length?(n=vu(0,s),o):n},o.sortGroups=function(s){return arguments.length?(r=s,o):r},o.sortSubgroups=function(s){return arguments.length?(a=s,o):a},o.sortChords=function(s){return arguments.length?(s==null?i=null:(i=pb(s))._=s,o):i&&i._},o}const qs=Math.PI,Ns=2*qs,Zt=1e-6,yb=Ns-Zt;function Ah(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vb(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ah;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}let na=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ah:vb(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,u=o-t,d=s-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Zt)if(!(Math.abs(d*l-c*u)>Zt)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,m=a-s,g=l*l+c*c,p=h*h+m*m,y=Math.sqrt(g),x=Math.sqrt(f),b=i*Math.tan((qs-Math.acos((g+f-p)/(2*y*x)))/2),v=b/x,w=b/y;Math.abs(v-1)>Zt&&this._append`L${t+v*u},${n+v*d}`,this._append`A${i},${i},0,0,${+(d*h>u*m)},${this._x1=t+w*l},${this._y1=n+w*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,u=n+l,d=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Zt||Math.abs(this._y1-u)>Zt)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%Ns+Ns),f>yb?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>Zt&&this._append`A${r},${r},0,${+(f>=qs)},${d},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};function Ul(){return new na}Ul.prototype=na.prototype;function bb(e=3){return new na(+e)}var xb=Array.prototype.slice;function Xt(e){return function(){return e}}function wb(e){return e.source}function _b(e){return e.target}function bu(e){return e.radius}function kb(e){return e.startAngle}function Mb(e){return e.endAngle}function Sb(){return 0}function Tb(){return 10}function Eh(e){var t=wb,n=_b,r=bu,a=bu,i=kb,o=Mb,s=Sb,l=null;function c(){var u,d=t.apply(this,arguments),f=n.apply(this,arguments),h=s.apply(this,arguments)/2,m=xb.call(arguments),g=+r.apply(this,(m[0]=d,m)),p=i.apply(this,m)-ya,y=o.apply(this,m)-ya,x=+a.apply(this,(m[0]=f,m)),b=i.apply(this,m)-ya,v=o.apply(this,m)-ya;if(l||(l=u=Ul()),h>Bo&&(gu(y-p)>h*2+Bo?y>p?(p+=h,y-=h):(p-=h,y+=h):p=y=(p+y)/2,gu(v-b)>h*2+Bo?v>b?(b+=h,v-=h):(b-=h,v+=h):b=v=(b+v)/2),l.moveTo(g*Tn(p),g*Cn(p)),l.arc(0,0,g,p,y),p!==b||y!==v)if(e){var w=+e.apply(this,arguments),_=x-w,C=(b+v)/2;l.quadraticCurveTo(0,0,_*Tn(b),_*Cn(b)),l.lineTo(x*Tn(C),x*Cn(C)),l.lineTo(_*Tn(v),_*Cn(v))}else l.quadraticCurveTo(0,0,x*Tn(b),x*Cn(b)),l.arc(0,0,x,b,v);if(l.quadraticCurveTo(0,0,g*Tn(p),g*Cn(p)),l.closePath(),u)return l=null,u+""||null}return e&&(c.headRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Xt(+u),c):e}),c.radius=function(u){return arguments.length?(r=a=typeof u=="function"?u:Xt(+u),c):r},c.sourceRadius=function(u){return arguments.length?(r=typeof u=="function"?u:Xt(+u),c):r},c.targetRadius=function(u){return arguments.length?(a=typeof u=="function"?u:Xt(+u),c):a},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Xt(+u),c):i},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Xt(+u),c):o},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Xt(+u),c):s},c.source=function(u){return arguments.length?(t=u,c):t},c.target=function(u){return arguments.length?(n=u,c):n},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function Cb(){return Eh()}function Ab(){return Eh(Tb)}var Eb=Array.prototype,$h=Eb.slice;function $b(e,t){return e-t}function qb(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}const Ft=e=>()=>e;function Nb(e,t){for(var n=-1,r=t.length,a;++n<r;)if(a=Fb(e,t[n]))return a;return 0}function Fb(e,t){for(var n=t[0],r=t[1],a=-1,i=0,o=e.length,s=o-1;i<o;s=i++){var l=e[i],c=l[0],u=l[1],d=e[s],f=d[0],h=d[1];if(Rb(l,d,t))return 0;u>r!=h>r&&n<(f-c)*(r-u)/(h-u)+c&&(a=-a)}return a}function Rb(e,t,n){var r;return Pb(e,t,n)&&zb(e[r=+(e[0]===t[0])],n[r],t[r])}function Pb(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function zb(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function Ib(){}var wt=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Fs(){var e=1,t=1,n=xl,r=l;function a(c){var u=n(c);if(Array.isArray(u))u=u.slice().sort($b);else{const d=It(c,Db);for(u=on(...bl(d[0],d[1],u),u);u[u.length-1]>=d[1];)u.pop();for(;u[1]<d[0];)u.shift()}return u.map(d=>i(c,d))}function i(c,u){const d=u==null?NaN:+u;if(isNaN(d))throw new Error(`invalid value: ${u}`);var f=[],h=[];return o(c,d,function(m){r(m,c,d),qb(m)>0?f.push([m]):h.push(m)}),h.forEach(function(m){for(var g=0,p=f.length,y;g<p;++g)if(Nb((y=f[g])[0],m)!==-1){y.push(m);return}}),{type:"MultiPolygon",value:u,coordinates:f}}function o(c,u,d){var f=new Array,h=new Array,m,g,p,y,x,b;for(m=g=-1,y=jt(c[0],u),wt[y<<1].forEach(v);++m<e-1;)p=y,y=jt(c[m+1],u),wt[p|y<<1].forEach(v);for(wt[y<<0].forEach(v);++g<t-1;){for(m=-1,y=jt(c[g*e+e],u),x=jt(c[g*e],u),wt[y<<1|x<<2].forEach(v);++m<e-1;)p=y,y=jt(c[g*e+e+m+1],u),b=x,x=jt(c[g*e+m+1],u),wt[p|y<<1|x<<2|b<<3].forEach(v);wt[y|x<<3].forEach(v)}for(m=-1,x=c[g*e]>=u,wt[x<<2].forEach(v);++m<e-1;)b=x,x=jt(c[g*e+m+1],u),wt[x<<2|b<<3].forEach(v);wt[x<<3].forEach(v);function v(w){var _=[w[0][0]+m,w[0][1]+g],C=[w[1][0]+m,w[1][1]+g],$=s(_),E=s(C),A,M;(A=h[$])?(M=f[E])?(delete h[A.end],delete f[M.start],A===M?(A.ring.push(C),d(A.ring)):f[A.start]=h[M.end]={start:A.start,end:M.end,ring:A.ring.concat(M.ring)}):(delete h[A.end],A.ring.push(C),h[A.end=E]=A):(A=f[E])?(M=h[$])?(delete f[A.start],delete h[M.end],A===M?(A.ring.push(C),d(A.ring)):f[M.start]=h[A.end]={start:M.start,end:A.end,ring:M.ring.concat(A.ring)}):(delete f[A.start],A.ring.unshift(_),f[A.start=$]=A):f[$]=h[E]={start:$,end:E,ring:[_,C]}}}function s(c){return c[0]*2+c[1]*(e+1)*4}function l(c,u,d){c.forEach(function(f){var h=f[0],m=f[1],g=h|0,p=m|0,y=Uo(u[p*e+g]);h>0&&h<e&&g===h&&(f[0]=xu(h,Uo(u[p*e+g-1]),y,d)),m>0&&m<t&&p===m&&(f[1]=xu(m,Uo(u[(p-1)*e+g]),y,d))})}return a.contour=i,a.size=function(c){if(!arguments.length)return[e,t];var u=Math.floor(c[0]),d=Math.floor(c[1]);if(!(u>=0&&d>=0))throw new Error("invalid size");return e=u,t=d,a},a.thresholds=function(c){return arguments.length?(n=typeof c=="function"?c:Array.isArray(c)?Ft($h.call(c)):Ft(c),a):n},a.smooth=function(c){return arguments.length?(r=c?l:Ib,a):r===l},a}function Db(e){return isFinite(e)?e:NaN}function jt(e,t){return e==null?!1:+e>=t}function Uo(e){return e==null||isNaN(e=+e)?-1/0:e}function xu(e,t,n,r){const a=r-t,i=n-t,o=isFinite(a)||isFinite(i)?a/i:Math.sign(a)/Math.sign(i);return isNaN(o)?e:e+o-.5}function Ob(e){return e[0]}function Bb(e){return e[1]}function Lb(){return 1}function Ub(){var e=Ob,t=Bb,n=Lb,r=960,a=500,i=20,o=2,s=i*3,l=r+s*2>>o,c=a+s*2>>o,u=Ft(20);function d(x){var b=new Float32Array(l*c),v=Math.pow(2,-o),w=-1;for(const q of x){var _=(e(q,++w,x)+s)*v,C=(t(q,w,x)+s)*v,$=+n(q,w,x);if($&&_>=0&&_<l&&C>=0&&C<c){var E=Math.floor(_),A=Math.floor(C),M=_-E-.5,F=C-A-.5;b[E+A*l]+=(1-M)*(1-F)*$,b[E+1+A*l]+=M*(1-F)*$,b[E+1+(A+1)*l]+=M*F*$,b[E+(A+1)*l]+=(1-M)*F*$}}return ad({data:b,width:l,height:c},i*v),b}function f(x){var b=d(x),v=u(b),w=Math.pow(2,2*o);return Array.isArray(v)||(v=on(Number.MIN_VALUE,Un(b)/w,v)),Fs().size([l,c]).thresholds(v.map(_=>_*w))(b).map((_,C)=>(_.value=+v[C],h(_)))}f.contours=function(x){var b=d(x),v=Fs().size([l,c]),w=Math.pow(2,2*o),_=C=>{C=+C;var $=h(v.contour(b,C*w));return $.value=C,$};return Object.defineProperty(_,"max",{get:()=>Un(b)/w}),_};function h(x){return x.coordinates.forEach(m),x}function m(x){x.forEach(g)}function g(x){x.forEach(p)}function p(x){x[0]=x[0]*Math.pow(2,o)-s,x[1]=x[1]*Math.pow(2,o)-s}function y(){return s=i*3,l=r+s*2>>o,c=a+s*2>>o,f}return f.x=function(x){return arguments.length?(e=typeof x=="function"?x:Ft(+x),f):e},f.y=function(x){return arguments.length?(t=typeof x=="function"?x:Ft(+x),f):t},f.weight=function(x){return arguments.length?(n=typeof x=="function"?x:Ft(+x),f):n},f.size=function(x){if(!arguments.length)return[r,a];var b=+x[0],v=+x[1];if(!(b>=0&&v>=0))throw new Error("invalid size");return r=b,a=v,y()},f.cellSize=function(x){if(!arguments.length)return 1<<o;if(!((x=+x)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(x)/Math.LN2),y()},f.thresholds=function(x){return arguments.length?(u=typeof x=="function"?x:Array.isArray(x)?Ft($h.call(x)):Ft(x),f):u},f.bandwidth=function(x){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((x=+x)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*x*x+1)-1)/2,y()},f}const At=11102230246251565e-32,Ce=134217729,Wb=(3+8*At)*At;function Wo(e,t,n,r,a){let i,o,s,l,c=t[0],u=r[0],d=0,f=0;u>c==u>-c?(i=c,c=t[++d]):(i=u,u=r[++f]);let h=0;if(d<e&&f<n)for(u>c==u>-c?(o=c+i,s=i-(o-c),c=t[++d]):(o=u+i,s=i-(o-u),u=r[++f]),i=o,s!==0&&(a[h++]=s);d<e&&f<n;)u>c==u>-c?(o=i+c,l=o-i,s=i-(o-l)+(c-l),c=t[++d]):(o=i+u,l=o-i,s=i-(o-l)+(u-l),u=r[++f]),i=o,s!==0&&(a[h++]=s);for(;d<e;)o=i+c,l=o-i,s=i-(o-l)+(c-l),c=t[++d],i=o,s!==0&&(a[h++]=s);for(;f<n;)o=i+u,l=o-i,s=i-(o-l)+(u-l),u=r[++f],i=o,s!==0&&(a[h++]=s);return(i!==0||h===0)&&(a[h++]=i),h}function Yb(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function ra(e){return new Float64Array(e)}const Hb=(3+16*At)*At,Vb=(2+12*At)*At,Gb=(9+64*At)*At*At,An=ra(4),wu=ra(8),_u=ra(12),ku=ra(16),Ne=ra(4);function Xb(e,t,n,r,a,i,o){let s,l,c,u,d,f,h,m,g,p,y,x,b,v,w,_,C,$;const E=e-a,A=n-a,M=t-i,F=r-i;v=E*F,f=Ce*E,h=f-(f-E),m=E-h,f=Ce*F,g=f-(f-F),p=F-g,w=m*p-(v-h*g-m*g-h*p),_=M*A,f=Ce*M,h=f-(f-M),m=M-h,f=Ce*A,g=f-(f-A),p=A-g,C=m*p-(_-h*g-m*g-h*p),y=w-C,d=w-y,An[0]=w-(y+d)+(d-C),x=v+y,d=x-v,b=v-(x-d)+(y-d),y=b-_,d=b-y,An[1]=b-(y+d)+(d-_),$=x+y,d=$-x,An[2]=x-($-d)+(y-d),An[3]=$;let q=Yb(4,An),k=Vb*o;if(q>=k||-q>=k||(d=e-E,s=e-(E+d)+(d-a),d=n-A,c=n-(A+d)+(d-a),d=t-M,l=t-(M+d)+(d-i),d=r-F,u=r-(F+d)+(d-i),s===0&&l===0&&c===0&&u===0)||(k=Gb*o+Wb*Math.abs(q),q+=E*u+F*s-(M*c+A*l),q>=k||-q>=k))return q;v=s*F,f=Ce*s,h=f-(f-s),m=s-h,f=Ce*F,g=f-(f-F),p=F-g,w=m*p-(v-h*g-m*g-h*p),_=l*A,f=Ce*l,h=f-(f-l),m=l-h,f=Ce*A,g=f-(f-A),p=A-g,C=m*p-(_-h*g-m*g-h*p),y=w-C,d=w-y,Ne[0]=w-(y+d)+(d-C),x=v+y,d=x-v,b=v-(x-d)+(y-d),y=b-_,d=b-y,Ne[1]=b-(y+d)+(d-_),$=x+y,d=$-x,Ne[2]=x-($-d)+(y-d),Ne[3]=$;const T=Wo(4,An,4,Ne,wu);v=E*u,f=Ce*E,h=f-(f-E),m=E-h,f=Ce*u,g=f-(f-u),p=u-g,w=m*p-(v-h*g-m*g-h*p),_=M*c,f=Ce*M,h=f-(f-M),m=M-h,f=Ce*c,g=f-(f-c),p=c-g,C=m*p-(_-h*g-m*g-h*p),y=w-C,d=w-y,Ne[0]=w-(y+d)+(d-C),x=v+y,d=x-v,b=v-(x-d)+(y-d),y=b-_,d=b-y,Ne[1]=b-(y+d)+(d-_),$=x+y,d=$-x,Ne[2]=x-($-d)+(y-d),Ne[3]=$;const S=Wo(T,wu,4,Ne,_u);v=s*u,f=Ce*s,h=f-(f-s),m=s-h,f=Ce*u,g=f-(f-u),p=u-g,w=m*p-(v-h*g-m*g-h*p),_=l*c,f=Ce*l,h=f-(f-l),m=l-h,f=Ce*c,g=f-(f-c),p=c-g,C=m*p-(_-h*g-m*g-h*p),y=w-C,d=w-y,Ne[0]=w-(y+d)+(d-C),x=v+y,d=x-v,b=v-(x-d)+(y-d),y=b-_,d=b-y,Ne[1]=b-(y+d)+(d-_),$=x+y,d=$-x,Ne[2]=x-($-d)+(y-d),Ne[3]=$;const N=Wo(S,_u,4,Ne,ku);return ku[N-1]}function va(e,t,n,r,a,i){const o=(t-i)*(n-a),s=(e-a)*(r-i),l=o-s,c=Math.abs(o+s);return Math.abs(l)>=Hb*c?l:-Xb(e,t,n,r,a,i,c)}const Mu=Math.pow(2,-52),ba=new Uint32Array(512);class ri{static from(t,n=Jb,r=ex){const a=t.length,i=new Float64Array(a*2);for(let o=0;o<a;o++){const s=t[o];i[2*o]=n(s),i[2*o+1]=r(s)}return new ri(i)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:a,_hullHash:i}=this,o=t.length>>1;let s=1/0,l=1/0,c=-1/0,u=-1/0;for(let E=0;E<o;E++){const A=t[2*E],M=t[2*E+1];A<s&&(s=A),M<l&&(l=M),A>c&&(c=A),M>u&&(u=M),this._ids[E]=E}const d=(s+c)/2,f=(l+u)/2;let h,m,g;for(let E=0,A=1/0;E<o;E++){const M=Yo(d,f,t[2*E],t[2*E+1]);M<A&&(h=E,A=M)}const p=t[2*h],y=t[2*h+1];for(let E=0,A=1/0;E<o;E++){if(E===h)continue;const M=Yo(p,y,t[2*E],t[2*E+1]);M<A&&M>0&&(m=E,A=M)}let x=t[2*m],b=t[2*m+1],v=1/0;for(let E=0;E<o;E++){if(E===h||E===m)continue;const A=Qb(p,y,x,b,t[2*E],t[2*E+1]);A<v&&(g=E,v=A)}let w=t[2*g],_=t[2*g+1];if(v===1/0){for(let M=0;M<o;M++)this._dists[M]=t[2*M]-t[0]||t[2*M+1]-t[1];Fn(this._ids,this._dists,0,o-1);const E=new Uint32Array(o);let A=0;for(let M=0,F=-1/0;M<o;M++){const q=this._ids[M],k=this._dists[q];k>F&&(E[A++]=q,F=k)}this.hull=E.subarray(0,A),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(va(p,y,x,b,w,_)<0){const E=m,A=x,M=b;m=g,x=w,b=_,g=E,w=A,_=M}const C=Kb(p,y,x,b,w,_);this._cx=C.x,this._cy=C.y;for(let E=0;E<o;E++)this._dists[E]=Yo(t[2*E],t[2*E+1],C.x,C.y);Fn(this._ids,this._dists,0,o-1),this._hullStart=h;let $=3;r[h]=n[g]=m,r[m]=n[h]=g,r[g]=n[m]=h,a[h]=0,a[m]=1,a[g]=2,i.fill(-1),i[this._hashKey(p,y)]=h,i[this._hashKey(x,b)]=m,i[this._hashKey(w,_)]=g,this.trianglesLen=0,this._addTriangle(h,m,g,-1,-1,-1);for(let E=0,A,M;E<this._ids.length;E++){const F=this._ids[E],q=t[2*F],k=t[2*F+1];if(E>0&&Math.abs(q-A)<=Mu&&Math.abs(k-M)<=Mu||(A=q,M=k,F===h||F===m||F===g))continue;let T=0;for(let I=0,B=this._hashKey(q,k);I<this._hashSize&&(T=i[(B+I)%this._hashSize],!(T!==-1&&T!==r[T]));I++);T=n[T];let S=T,N;for(;N=r[S],va(q,k,t[2*S],t[2*S+1],t[2*N],t[2*N+1])>=0;)if(S=N,S===T){S=-1;break}if(S===-1)continue;let P=this._addTriangle(S,F,r[S],-1,-1,a[S]);a[F]=this._legalize(P+2),a[S]=P,$++;let R=r[S];for(;N=r[R],va(q,k,t[2*R],t[2*R+1],t[2*N],t[2*N+1])<0;)P=this._addTriangle(R,F,N,a[F],-1,a[R]),a[F]=this._legalize(P+2),r[R]=R,$--,R=N;if(S===T)for(;N=n[S],va(q,k,t[2*N],t[2*N+1],t[2*S],t[2*S+1])<0;)P=this._addTriangle(N,F,S,-1,a[S],a[N]),this._legalize(P+2),a[N]=P,r[S]=S,$--,S=N;this._hullStart=n[F]=S,r[S]=n[R]=F,r[F]=R,i[this._hashKey(q,k)]=F,i[this._hashKey(t[2*S],t[2*S+1])]=S}this.hull=new Uint32Array($);for(let E=0,A=this._hullStart;E<$;E++)this.hull[E]=A,A=r[A];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(jb(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:a}=this;let i=0,o=0;for(;;){const s=r[t],l=t-t%3;if(o=l+(t+2)%3,s===-1){if(i===0)break;t=ba[--i];continue}const c=s-s%3,u=l+(t+1)%3,d=c+(s+2)%3,f=n[o],h=n[t],m=n[u],g=n[d];if(Zb(a[2*f],a[2*f+1],a[2*h],a[2*h+1],a[2*m],a[2*m+1],a[2*g],a[2*g+1])){n[t]=g,n[s]=f;const y=r[d];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===d){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(s,r[o]),this._link(o,d);const x=c+(s+1)%3;i<ba.length&&(ba[i++]=x)}else{if(i===0)break;t=ba[--i]}}return o}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,a,i,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=r,this._link(s,a),this._link(s+1,i),this._link(s+2,o),this.trianglesLen+=3,s}}function jb(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Yo(e,t,n,r){const a=e-n,i=t-r;return a*a+i*i}function Zb(e,t,n,r,a,i,o,s){const l=e-o,c=t-s,u=n-o,d=r-s,f=a-o,h=i-s,m=l*l+c*c,g=u*u+d*d,p=f*f+h*h;return l*(d*p-g*h)-c*(u*p-g*f)+m*(u*h-d*f)<0}function Qb(e,t,n,r,a,i){const o=n-e,s=r-t,l=a-e,c=i-t,u=o*o+s*s,d=l*l+c*c,f=.5/(o*c-s*l),h=(c*u-s*d)*f,m=(o*d-l*u)*f;return h*h+m*m}function Kb(e,t,n,r,a,i){const o=n-e,s=r-t,l=a-e,c=i-t,u=o*o+s*s,d=l*l+c*c,f=.5/(o*c-s*l),h=e+(c*u-s*d)*f,m=t+(o*d-l*u)*f;return{x:h,y:m}}function Fn(e,t,n,r){if(r-n<=20)for(let a=n+1;a<=r;a++){const i=e[a],o=t[i];let s=a-1;for(;s>=n&&t[e[s]]>o;)e[s+1]=e[s--];e[s+1]=i}else{const a=n+r>>1;let i=n+1,o=r;fr(e,a,i),t[e[n]]>t[e[r]]&&fr(e,n,r),t[e[i]]>t[e[r]]&&fr(e,i,r),t[e[n]]>t[e[i]]&&fr(e,n,i);const s=e[i],l=t[s];for(;;){do i++;while(t[e[i]]<l);do o--;while(t[e[o]]>l);if(o<i)break;fr(e,i,o)}e[n+1]=e[o],e[o]=s,r-i+1>=o-n?(Fn(e,t,i,r),Fn(e,t,n,o-1)):(Fn(e,t,n,o-1),Fn(e,t,i,r))}}function fr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Jb(e){return e[0]}function ex(e){return e[1]}const Su=1e-6;class en{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const a=t+r,i=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${a},${i}`:(Math.abs(this._x1-a)>Su||Math.abs(this._y1-i)>Su)&&(this._+="L"+a+","+i),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=a},${this._y1=i}`)}rect(t,n,r,a){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+a}h${-r}Z`}value(){return this._||null}}class Rs{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class qh{constructor(t,[n,r,a,i]=[0,0,960,500]){if(!((a=+a)>=(n=+n))||!((i=+i)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=a,this.xmin=n,this.ymax=i,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:a}=this;let i,o;const s=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,p=0,y=r.length,x,b;g<y;g+=3,p+=2){const v=r[g]*2,w=r[g+1]*2,_=r[g+2]*2,C=t[v],$=t[v+1],E=t[w],A=t[w+1],M=t[_],F=t[_+1],q=E-C,k=A-$,T=M-C,S=F-$,N=(q*S-k*T)*2;if(Math.abs(N)<1e-9){if(i===void 0){i=o=0;for(const R of n)i+=t[R*2],o+=t[R*2+1];i/=n.length,o/=n.length}const P=1e9*Math.sign((i-C)*S-(o-$)*T);x=(C+M)/2-P*S,b=($+F)/2+P*T}else{const P=1/N,R=q*q+k*k,I=T*T+S*S;x=C+(S*R-k*I)*P,b=$+(q*I-T*R)*P}s[p]=x,s[p+1]=b}let l=n[n.length-1],c,u=l*4,d,f=t[2*l],h,m=t[2*l+1];a.fill(0);for(let g=0;g<n.length;++g)l=n[g],c=u,d=f,h=m,u=l*4,f=t[2*l],m=t[2*l+1],a[c+2]=a[u]=h-m,a[c+3]=a[u+1]=f-d}render(t){const n=t==null?t=new en:void 0,{delaunay:{halfedges:r,inedges:a,hull:i},circumcenters:o,vectors:s}=this;if(i.length<=1)return null;for(let u=0,d=r.length;u<d;++u){const f=r[u];if(f<u)continue;const h=Math.floor(u/3)*2,m=Math.floor(f/3)*2,g=o[h],p=o[h+1],y=o[m],x=o[m+1];this._renderSegment(g,p,y,x,t)}let l,c=i[i.length-1];for(let u=0;u<i.length;++u){l=c,c=i[u];const d=Math.floor(a[c]/3)*2,f=o[d],h=o[d+1],m=l*4,g=this._project(f,h,s[m+2],s[m+3]);g&&this._renderSegment(f,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new en:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new en:void 0,a=this._clip(t);if(a===null||!a.length)return;n.moveTo(a[0],a[1]);let i=a.length;for(;a[0]===a[i-2]&&a[1]===a[i-1]&&i>1;)i-=2;for(let o=2;o<i;o+=2)(a[o]!==a[o-2]||a[o+1]!==a[o-1])&&n.lineTo(a[o],a[o+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const a=this.cellPolygon(n);a&&(a.index=n,yield a)}}cellPolygon(t){const n=new Rs;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,a,i){let o;const s=this._regioncode(t,n),l=this._regioncode(r,a);s===0&&l===0?(i.moveTo(t,n),i.lineTo(r,a)):(o=this._clipSegment(t,n,r,a,s,l))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const a=this._clip(r);if(a){e:for(let i=0,o=n.length;i<o;i+=2)for(let s=0,l=a.length;s<l;s+=2)if(n[i]===a[s]&&n[i+1]===a[s+1]&&n[(i+2)%o]===a[(s+l-2)%l]&&n[(i+3)%o]===a[(s+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:a,triangles:i}}=this,o=r[t];if(o===-1)return null;const s=[];let l=o;do{const c=Math.floor(l/3);if(s.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,i[l]!==t)break;l=a[l]}while(l!==o&&l!==-1);return s}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,a=t*4;return this._simplify(r[a]||r[a+1]?this._clipInfinite(t,n,r[a],r[a+1],r[a+2],r[a+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let a=null,i,o,s=n[r-2],l=n[r-1],c,u=this._regioncode(s,l),d,f=0;for(let h=0;h<r;h+=2)if(i=s,o=l,s=n[h],l=n[h+1],c=u,u=this._regioncode(s,l),c===0&&u===0)d=f,f=0,a?a.push(s,l):a=[s,l];else{let m,g,p,y,x;if(c===0){if((m=this._clipSegment(i,o,s,l,c,u))===null)continue;[g,p,y,x]=m}else{if((m=this._clipSegment(s,l,i,o,u,c))===null)continue;[y,x,g,p]=m,d=f,f=this._edgecode(g,p),d&&f&&this._edge(t,d,f,a,a.length),a?a.push(g,p):a=[g,p]}d=f,f=this._edgecode(y,x),d&&f&&this._edge(t,d,f,a,a.length),a?a.push(y,x):a=[y,x]}if(a)d=f,f=this._edgecode(a[0],a[1]),d&&f&&this._edge(t,d,f,a,a.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return a}_clipSegment(t,n,r,a,i,o){const s=i<o;for(s&&([t,n,r,a,i,o]=[r,a,t,n,o,i]);;){if(i===0&&o===0)return s?[r,a,t,n]:[t,n,r,a];if(i&o)return null;let l,c,u=i||o;u&8?(l=t+(r-t)*(this.ymax-n)/(a-n),c=this.ymax):u&4?(l=t+(r-t)*(this.ymin-n)/(a-n),c=this.ymin):u&2?(c=n+(a-n)*(this.xmax-t)/(r-t),l=this.xmax):(c=n+(a-n)*(this.xmin-t)/(r-t),l=this.xmin),i?(t=l,n=c,i=this._regioncode(t,n)):(r=l,a=c,o=this._regioncode(r,a))}}_clipInfinite(t,n,r,a,i,o){let s=Array.from(n),l;if((l=this._project(s[0],s[1],r,a))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(l[0],l[1]),s=this._clipFinite(t,s))for(let c=0,u=s.length,d,f=this._edgecode(s[u-2],s[u-1]);c<u;c+=2)d=f,f=this._edgecode(s[c],s[c+1]),d&&f&&(c=this._edge(t,d,f,s,c),u=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,r,a,i){for(;n!==r;){let o,s;switch(n){case 5:n=4;continue;case 4:n=6,o=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,o=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,o=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,o=this.xmin,s=this.ymin;break}(a[i]!==o||a[i+1]!==s)&&this.contains(t,o,s)&&(a.splice(i,0,o,s),i+=2)}return i}_project(t,n,r,a){let i=1/0,o,s,l;if(a<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/a)<i&&(l=this.ymin,s=t+(i=o)*r)}else if(a>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/a)<i&&(l=this.ymax,s=t+(i=o)*r)}if(r>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/r)<i&&(s=this.xmax,l=n+(i=o)*a)}else if(r<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/r)<i&&(s=this.xmin,l=n+(i=o)*a)}return[s,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,a=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[a]||t[n+1]===t[r+1]&&t[r+1]===t[a+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}}const tx=2*Math.PI,En=Math.pow;function nx(e){return e[0]}function rx(e){return e[1]}function ax(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const a=2*t[r],i=2*t[r+1],o=2*t[r+2];if((n[o]-n[a])*(n[i+1]-n[a+1])-(n[i]-n[a])*(n[o+1]-n[a+1])>1e-10)return!1}return!0}function ix(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Wl{static from(t,n=nx,r=rx,a){return new Wl("length"in t?ox(t,n,r,a):Float64Array.from(sx(t,n,r,a)))}constructor(t){this._delaunator=new ri(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&ax(t)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],d=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let f=0,h=n.length/2;f<h;++f){const m=ix(n[2*f],n[2*f+1],d);n[2*f]=m[0],n[2*f+1]=m[1]}this._delaunator=new ri(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,a=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=i[l%3===2?l-2:l+1];(r[l]===-1||o[u]===-1)&&(o[u]=l)}for(let l=0,c=a.length;l<c;++l)s[a[l]]=l;a.length<=2&&a.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=a[0],o[a[0]]=1,a.length===2&&(o[a[1]]=0,this.triangles[1]=a[1],this.triangles[2]=a[1]))}voronoi(t){return new qh(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:a,halfedges:i,triangles:o,collinear:s}=this;if(s){const d=s.indexOf(t);d>0&&(yield s[d-1]),d<s.length-1&&(yield s[d+1]);return}const l=n[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=o[c],c=c%3===2?c-2:c+1,o[c]!==t)return;if(c=i[c],c===-1){const d=r[(a[t]+1)%r.length];d!==u&&(yield d);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const a=r;let i;for(;(i=this._step(r,t,n))>=0&&i!==r&&i!==a;)r=i;return i}_step(t,n,r){const{inedges:a,hull:i,_hullIndex:o,halfedges:s,triangles:l,points:c}=this;if(a[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,d=En(n-c[t*2],2)+En(r-c[t*2+1],2);const f=a[t];let h=f;do{let m=l[h];const g=En(n-c[m*2],2)+En(r-c[m*2+1],2);if(g<d&&(d=g,u=m),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=s[h],h===-1){if(h=i[(o[t]+1)%i.length],h!==m&&En(n-c[h*2],2)+En(r-c[h*2+1],2)<d)return h;break}}while(h!==f);return u}render(t){const n=t==null?t=new en:void 0,{points:r,halfedges:a,triangles:i}=this;for(let o=0,s=a.length;o<s;++o){const l=a[o];if(l<o)continue;const c=i[o]*2,u=i[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[u],r[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new en:void 0,{points:a}=this;for(let i=0,o=a.length;i<o;i+=2){const s=a[i],l=a[i+1];t.moveTo(s+n,l),t.arc(s,l,n,0,tx)}return r&&r.value()}renderHull(t){const n=t==null?t=new en:void 0,{hull:r,points:a}=this,i=r[0]*2,o=r.length;t.moveTo(a[i],a[i+1]);for(let s=1;s<o;++s){const l=2*r[s];t.lineTo(a[l],a[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Rs;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new en:void 0,{points:a,triangles:i}=this,o=i[t*=3]*2,s=i[t+1]*2,l=i[t+2]*2;return n.moveTo(a[o],a[o+1]),n.lineTo(a[s],a[s+1]),n.lineTo(a[l],a[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Rs;return this.renderTriangle(t,n),n.value()}}function ox(e,t,n,r){const a=e.length,i=new Float64Array(a*2);for(let o=0;o<a;++o){const s=e[o];i[o*2]=t.call(r,s,o,e),i[o*2+1]=n.call(r,s,o,e)}return i}function*sx(e,t,n,r){let a=0;for(const i of e)yield t.call(r,i,a,e),yield n.call(r,i,a,e),++a}var Tu={},Ho={},Vo=34,dr=10,Go=13;function Nh(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function lx(e,t){var n=Nh(e);return function(r,a){return t(n(r),a,e)}}function Cu(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var a in r)a in t||n.push(t[a]=a)}),n}function We(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function cx(e){return e<0?"-"+We(-e,6):e>9999?"+"+We(e,6):We(e,4)}function ux(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":cx(e.getUTCFullYear())+"-"+We(e.getUTCMonth()+1,2)+"-"+We(e.getUTCDate(),2)+(a?"T"+We(t,2)+":"+We(n,2)+":"+We(r,2)+"."+We(a,3)+"Z":r?"T"+We(t,2)+":"+We(n,2)+":"+We(r,2)+"Z":n||t?"T"+We(t,2)+":"+We(n,2)+"Z":"")}function Qi(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,f){var h,m,g=a(d,function(p,y){if(h)return h(p,y-1);m=p,h=f?lx(p,f):Nh(p)});return g.columns=m||[],g}function a(d,f){var h=[],m=d.length,g=0,p=0,y,x=m<=0,b=!1;d.charCodeAt(m-1)===dr&&--m,d.charCodeAt(m-1)===Go&&--m;function v(){if(x)return Ho;if(b)return b=!1,Tu;var _,C=g,$;if(d.charCodeAt(C)===Vo){for(;g++<m&&d.charCodeAt(g)!==Vo||d.charCodeAt(++g)===Vo;);return(_=g)>=m?x=!0:($=d.charCodeAt(g++))===dr?b=!0:$===Go&&(b=!0,d.charCodeAt(g)===dr&&++g),d.slice(C+1,_-1).replace(/""/g,'"')}for(;g<m;){if(($=d.charCodeAt(_=g++))===dr)b=!0;else if($===Go)b=!0,d.charCodeAt(g)===dr&&++g;else if($!==n)continue;return d.slice(C,_)}return x=!0,d.slice(C,m)}for(;(y=v())!==Ho;){for(var w=[];y!==Tu&&y!==Ho;)w.push(y),y=v();f&&(w=f(w,p++))==null||h.push(w)}return h}function i(d,f){return d.map(function(h){return f.map(function(m){return u(h[m])}).join(e)})}function o(d,f){return f==null&&(f=Cu(d)),[f.map(u).join(e)].concat(i(d,f)).join(`
`)}function s(d,f){return f==null&&(f=Cu(d)),i(d,f).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(u).join(e)}function u(d){return d==null?"":d instanceof Date?ux(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:a,format:o,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}var vn=Qi(","),Fh=vn.parse,fx=vn.parseRows,dx=vn.format,hx=vn.formatBody,px=vn.formatRows,mx=vn.formatRow,gx=vn.formatValue,bn=Qi("	"),Rh=bn.parse,yx=bn.parseRows,vx=bn.format,bx=bn.formatBody,xx=bn.formatRows,wx=bn.formatRow,_x=bn.formatValue;function kx(e){for(var t in e){var n=e[t].trim(),r,a;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(a=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Mx&&a[4]&&!a[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const Mx=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Sx(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function Tx(e,t){return fetch(e,t).then(Sx)}function Cx(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function Ax(e,t){return fetch(e,t).then(Cx)}function Ex(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Ki(e,t){return fetch(e,t).then(Ex)}function Ph(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Ki(t,n).then(function(a){return e(a,r)})}}function $x(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var a=Qi(e);return Ki(t,n).then(function(i){return a.parse(i,r)})}var qx=Ph(Fh),Nx=Ph(Rh);function Fx(e,t){return new Promise(function(n,r){var a=new Image;for(var i in t)a[i]=t[i];a.onerror=r,a.onload=function(){n(a)},a.src=e})}function Rx(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function Px(e,t){return fetch(e,t).then(Rx)}function Yl(e){return(t,n)=>Ki(t,n).then(r=>new DOMParser().parseFromString(r,e))}const zx=Yl("application/xml");var Ix=Yl("text/html"),Dx=Yl("image/svg+xml");function zh(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function a(){var i,o=n.length,s,l=0,c=0;for(i=0;i<o;++i)s=n[i],l+=s.x,c+=s.y;for(l=(l/o-e)*r,c=(c/o-t)*r,i=0;i<o;++i)s=n[i],s.x-=l,s.y-=c}return a.initialize=function(i){n=i},a.x=function(i){return arguments.length?(e=+i,a):e},a.y=function(i){return arguments.length?(t=+i,a):t},a.strength=function(i){return arguments.length?(r=+i,a):r},a}function Ox(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Ih(this.cover(t,n),t,n,e)}function Ih(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,i=e._root,o={data:r},s=e._x0,l=e._y0,c=e._x1,u=e._y1,d,f,h,m,g,p,y,x;if(!i)return e._root=o,e;for(;i.length;)if((g=t>=(d=(s+c)/2))?s=d:c=d,(p=n>=(f=(l+u)/2))?l=f:u=f,a=i,!(i=i[y=p<<1|g]))return a[y]=o,e;if(h=+e._x.call(null,i.data),m=+e._y.call(null,i.data),t===h&&n===m)return o.next=i,a?a[y]=o:e._root=o,e;do a=a?a[y]=new Array(4):e._root=new Array(4),(g=t>=(d=(s+c)/2))?s=d:c=d,(p=n>=(f=(l+u)/2))?l=f:u=f;while((y=p<<1|g)===(x=(m>=f)<<1|h>=d));return a[x]=i,a[y]=o,e}function Bx(e){var t,n,r=e.length,a,i,o=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(a=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=a,s[n]=i,a<l&&(l=a),a>u&&(u=a),i<c&&(c=i),i>d&&(d=i));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<r;++n)Ih(this,o[n],s[n],e[n]);return this}function Lx(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var o=a-n||1,s=this._root,l,c;n>e||e>=a||r>t||t>=i;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=s,s=l,o*=2,c){case 0:a=n+o,i=r+o;break;case 1:n=a-o,i=r+o;break;case 2:a=n+o,r=i-o;break;case 3:n=a-o,r=i-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=a,this._y1=i,this}function Ux(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Wx(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ze(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a}function Yx(e,t,n){var r,a=this._x0,i=this._y0,o,s,l,c,u=this._x1,d=this._y1,f=[],h=this._root,m,g;for(h&&f.push(new ze(h,a,i,u,d)),n==null?n=1/0:(a=e-n,i=t-n,u=e+n,d=t+n,n*=n);m=f.pop();)if(!(!(h=m.node)||(o=m.x0)>u||(s=m.y0)>d||(l=m.x1)<a||(c=m.y1)<i))if(h.length){var p=(o+l)/2,y=(s+c)/2;f.push(new ze(h[3],p,y,l,c),new ze(h[2],o,y,p,c),new ze(h[1],p,s,l,y),new ze(h[0],o,s,p,y)),(g=(t>=y)<<1|e>=p)&&(m=f[f.length-1],f[f.length-1]=f[f.length-1-g],f[f.length-1-g]=m)}else{var x=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),v=x*x+b*b;if(v<n){var w=Math.sqrt(n=v);a=e-w,i=t-w,u=e+w,d=t+w,r=h.data}}return r}function Hx(e){if(isNaN(u=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,a,i,o=this._x0,s=this._y0,l=this._x1,c=this._y1,u,d,f,h,m,g,p,y;if(!n)return this;if(n.length)for(;;){if((m=u>=(f=(o+l)/2))?o=f:l=f,(g=d>=(h=(s+c)/2))?s=h:c=h,t=n,!(n=n[p=g<<1|m]))return this;if(!n.length)break;(t[p+1&3]||t[p+2&3]||t[p+3&3])&&(r=t,y=p)}for(;n.data!==e;)if(a=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,a?(i?a.next=i:delete a.next,this):t?(i?t[p]=i:delete t[p],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=i,this)}function Vx(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Gx(){return this._root}function Xx(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function jx(e){var t=[],n,r=this._root,a,i,o,s,l;for(r&&t.push(new ze(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,i=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(i+s)/2,u=(o+l)/2;(a=r[3])&&t.push(new ze(a,c,u,s,l)),(a=r[2])&&t.push(new ze(a,i,u,c,l)),(a=r[1])&&t.push(new ze(a,c,o,s,u)),(a=r[0])&&t.push(new ze(a,i,o,c,u))}return this}function Zx(e){var t=[],n=[],r;for(this._root&&t.push(new ze(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var a=r.node;if(a.length){var i,o=r.x0,s=r.y0,l=r.x1,c=r.y1,u=(o+l)/2,d=(s+c)/2;(i=a[0])&&t.push(new ze(i,o,s,u,d)),(i=a[1])&&t.push(new ze(i,u,s,l,d)),(i=a[2])&&t.push(new ze(i,o,d,u,c)),(i=a[3])&&t.push(new ze(i,u,d,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Qx(e){return e[0]}function Kx(e){return arguments.length?(this._x=e,this):this._x}function Jx(e){return e[1]}function ew(e){return arguments.length?(this._y=e,this):this._y}function Ji(e,t,n){var r=new Hl(t??Qx,n??Jx,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Hl(e,t,n,r,a,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function Au(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ue=Ji.prototype=Hl.prototype;Ue.copy=function(){var e=new Hl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Au(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var a=0;a<4;++a)(r=t.source[a])&&(r.length?n.push({source:r,target:t.target[a]=new Array(4)}):t.target[a]=Au(r));return e};Ue.add=Ox;Ue.addAll=Bx;Ue.cover=Lx;Ue.data=Ux;Ue.extent=Wx;Ue.find=Yx;Ue.remove=Hx;Ue.removeAll=Vx;Ue.root=Gx;Ue.size=Xx;Ue.visit=jx;Ue.visitAfter=Zx;Ue.x=Kx;Ue.y=ew;function ye(e){return function(){return e}}function zt(e){return(e()-.5)*1e-6}function tw(e){return e.x+e.vx}function nw(e){return e.y+e.vy}function rw(e){var t,n,r,a=1,i=1;typeof e!="function"&&(e=ye(e==null?1:+e));function o(){for(var c,u=t.length,d,f,h,m,g,p,y=0;y<i;++y)for(d=Ji(t,tw,nw).visitAfter(s),c=0;c<u;++c)f=t[c],g=n[f.index],p=g*g,h=f.x+f.vx,m=f.y+f.vy,d.visit(x);function x(b,v,w,_,C){var $=b.data,E=b.r,A=g+E;if($){if($.index>f.index){var M=h-$.x-$.vx,F=m-$.y-$.vy,q=M*M+F*F;q<A*A&&(M===0&&(M=zt(r),q+=M*M),F===0&&(F=zt(r),q+=F*F),q=(A-(q=Math.sqrt(q)))/q*a,f.vx+=(M*=q)*(A=(E*=E)/(p+E)),f.vy+=(F*=q)*A,$.vx-=M*(A=1-A),$.vy-=F*A)}return}return v>h+A||_<h-A||w>m+A||C<m-A}}function s(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,d;for(n=new Array(u),c=0;c<u;++c)d=t[c],n[d.index]=+e(d,c,t)}}return o.initialize=function(c,u){t=c,r=u,l()},o.iterations=function(c){return arguments.length?(i=+c,o):i},o.strength=function(c){return arguments.length?(a=+c,o):a},o.radius=function(c){return arguments.length?(e=typeof c=="function"?c:ye(+c),l(),o):e},o}function aw(e){return e.index}function Eu(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function Dh(e){var t=aw,n=d,r,a=ye(30),i,o,s,l,c,u=1;e==null&&(e=[]);function d(p){return 1/Math.min(s[p.source.index],s[p.target.index])}function f(p){for(var y=0,x=e.length;y<u;++y)for(var b=0,v,w,_,C,$,E,A;b<x;++b)v=e[b],w=v.source,_=v.target,C=_.x+_.vx-w.x-w.vx||zt(c),$=_.y+_.vy-w.y-w.vy||zt(c),E=Math.sqrt(C*C+$*$),E=(E-i[b])/E*p*r[b],C*=E,$*=E,_.vx-=C*(A=l[b]),_.vy-=$*A,w.vx+=C*(A=1-A),w.vy+=$*A}function h(){if(o){var p,y=o.length,x=e.length,b=new Map(o.map((w,_)=>[t(w,_,o),w])),v;for(p=0,s=new Array(y);p<x;++p)v=e[p],v.index=p,typeof v.source!="object"&&(v.source=Eu(b,v.source)),typeof v.target!="object"&&(v.target=Eu(b,v.target)),s[v.source.index]=(s[v.source.index]||0)+1,s[v.target.index]=(s[v.target.index]||0)+1;for(p=0,l=new Array(x);p<x;++p)v=e[p],l[p]=s[v.source.index]/(s[v.source.index]+s[v.target.index]);r=new Array(x),m(),i=new Array(x),g()}}function m(){if(o)for(var p=0,y=e.length;p<y;++p)r[p]=+n(e[p],p,e)}function g(){if(o)for(var p=0,y=e.length;p<y;++p)i[p]=+a(e[p],p,e)}return f.initialize=function(p,y){o=p,c=y,h()},f.links=function(p){return arguments.length?(e=p,h(),f):e},f.id=function(p){return arguments.length?(t=p,f):t},f.iterations=function(p){return arguments.length?(u=+p,f):u},f.strength=function(p){return arguments.length?(n=typeof p=="function"?p:ye(+p),m(),f):n},f.distance=function(p){return arguments.length?(a=typeof p=="function"?p:ye(+p),g(),f):a},f}const iw=1664525,ow=1013904223,$u=4294967296;function sw(){let e=1;return()=>(e=(iw*e+ow)%$u)/$u}function lw(e){return e.x}function cw(e){return e.y}var uw=10,fw=Math.PI*(3-Math.sqrt(5));function Oh(e){var t,n=1,r=.001,a=1-Math.pow(r,1/300),i=0,o=.6,s=new Map,l=ji(d),c=gn("tick","end"),u=sw();e==null&&(e=[]);function d(){f(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function f(g){var p,y=e.length,x;g===void 0&&(g=1);for(var b=0;b<g;++b)for(n+=(i-n)*a,s.forEach(function(v){v(n)}),p=0;p<y;++p)x=e[p],x.fx==null?x.x+=x.vx*=o:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=o:(x.y=x.fy,x.vy=0);return t}function h(){for(var g=0,p=e.length,y;g<p;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var x=uw*Math.sqrt(.5+g),b=g*fw;y.x=x*Math.cos(b),y.y=x*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(g){return g.initialize&&g.initialize(e,u),g}return h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),s.forEach(m),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(a=+g,t):+a},alphaTarget:function(g){return arguments.length?(i=+g,t):i},velocityDecay:function(g){return arguments.length?(o=1-g,t):1-o},randomSource:function(g){return arguments.length?(u=g,s.forEach(m),t):u},force:function(g,p){return arguments.length>1?(p==null?s.delete(g):s.set(g,m(p)),t):s.get(g)},find:function(g,p,y){var x=0,b=e.length,v,w,_,C,$;for(y==null?y=1/0:y*=y,x=0;x<b;++x)C=e[x],v=g-C.x,w=p-C.y,_=v*v+w*w,_<y&&($=C,y=_);return $},on:function(g,p){return arguments.length>1?(c.on(g,p),t):c.on(g)}}}function Bh(){var e,t,n,r,a=ye(-30),i,o=1,s=1/0,l=.81;function c(h){var m,g=e.length,p=Ji(e,lw,cw).visitAfter(d);for(r=h,m=0;m<g;++m)t=e[m],p.visit(f)}function u(){if(e){var h,m=e.length,g;for(i=new Array(m),h=0;h<m;++h)g=e[h],i[g.index]=+a(g,h,e)}}function d(h){var m=0,g,p,y=0,x,b,v;if(h.length){for(x=b=v=0;v<4;++v)(g=h[v])&&(p=Math.abs(g.value))&&(m+=g.value,y+=p,x+=p*g.x,b+=p*g.y);h.x=x/y,h.y=b/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do m+=i[g.data.index];while(g=g.next)}h.value=m}function f(h,m,g,p){if(!h.value)return!0;var y=h.x-t.x,x=h.y-t.y,b=p-m,v=y*y+x*x;if(b*b/l<v)return v<s&&(y===0&&(y=zt(n),v+=y*y),x===0&&(x=zt(n),v+=x*x),v<o&&(v=Math.sqrt(o*v)),t.vx+=y*h.value*r/v,t.vy+=x*h.value*r/v),!0;if(h.length||v>=s)return;(h.data!==t||h.next)&&(y===0&&(y=zt(n),v+=y*y),x===0&&(x=zt(n),v+=x*x),v<o&&(v=Math.sqrt(o*v)));do h.data!==t&&(b=i[h.data.index]*r/v,t.vx+=y*b,t.vy+=x*b);while(h=h.next)}return c.initialize=function(h,m){e=h,n=m,u()},c.strength=function(h){return arguments.length?(a=typeof h=="function"?h:ye(+h),u(),c):a},c.distanceMin=function(h){return arguments.length?(o=h*h,c):Math.sqrt(o)},c.distanceMax=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function dw(e,t,n){var r,a=ye(.1),i,o;typeof e!="function"&&(e=ye(+e)),t==null&&(t=0),n==null&&(n=0);function s(c){for(var u=0,d=r.length;u<d;++u){var f=r[u],h=f.x-t||1e-6,m=f.y-n||1e-6,g=Math.sqrt(h*h+m*m),p=(o[u]-g)*i[u]*c/g;f.vx+=h*p,f.vy+=m*p}}function l(){if(r){var c,u=r.length;for(i=new Array(u),o=new Array(u),c=0;c<u;++c)o[c]=+e(r[c],c,r),i[c]=isNaN(o[c])?0:+a(r[c],c,r)}}return s.initialize=function(c){r=c,l()},s.strength=function(c){return arguments.length?(a=typeof c=="function"?c:ye(+c),l(),s):a},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:ye(+c),l(),s):e},s.x=function(c){return arguments.length?(t=+c,s):t},s.y=function(c){return arguments.length?(n=+c,s):n},s}function Lh(e){var t=ye(.1),n,r,a;typeof e!="function"&&(e=ye(e==null?0:+e));function i(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(a[l]-u.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),a=new Array(l),s=0;s<l;++s)r[s]=isNaN(a[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return i.initialize=function(s){n=s,o()},i.strength=function(s){return arguments.length?(t=typeof s=="function"?s:ye(+s),o(),i):t},i.x=function(s){return arguments.length?(e=typeof s=="function"?s:ye(+s),o(),i):e},i}function Uh(e){var t=ye(.1),n,r,a;typeof e!="function"&&(e=ye(e==null?0:+e));function i(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(a[l]-u.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),a=new Array(l),s=0;s<l;++s)r[s]=isNaN(a[s]=+e(n[s],s,n))?0:+t(n[s],s,n)}}return i.initialize=function(s){n=s,o()},i.strength=function(s){return arguments.length?(t=typeof s=="function"?s:ye(+s),o(),i):t},i.y=function(s){return arguments.length?(e=typeof s=="function"?s:ye(+s),o(),i):e},i}function hw(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ai(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Gn(e){return e=ai(Math.abs(e)),e?e[1]:NaN}function pw(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function mw(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xn(e){if(!(t=gw.exec(e)))throw new Error("invalid format: "+e);var t;return new eo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xn.prototype=eo.prototype;function eo(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yw(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Wh;function vw(e,t){var n=ai(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Wh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ai(e,Math.max(0,t+i-1))[0]}function qu(e,t){var n=ai(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Nu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hw,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qu(e*100,t),r:qu,s:vw,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Fu(e){return e}var Ru=Array.prototype.map,Pu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Yh(e){var t=e.grouping===void 0||e.thousands===void 0?Fu:pw(Ru.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Fu:mw(Ru.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Xn(d);var f=d.fill,h=d.align,m=d.sign,g=d.symbol,p=d.zero,y=d.width,x=d.comma,b=d.precision,v=d.trim,w=d.type;w==="n"?(x=!0,w="g"):Nu[w]||(b===void 0&&(b=12),v=!0,w="g"),(p||f==="0"&&h==="=")&&(p=!0,f="0",h="=");var _=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",C=g==="$"?r:/[%p]/.test(w)?o:"",$=Nu[w],E=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(M){var F=_,q=C,k,T,S;if(w==="c")q=$(M)+q,M="";else{M=+M;var N=M<0||1/M<0;if(M=isNaN(M)?l:$(Math.abs(M),b),v&&(M=yw(M)),N&&+M==0&&m!=="+"&&(N=!1),F=(N?m==="("?m:s:m==="-"||m==="("?"":m)+F,q=(w==="s"?Pu[8+Wh/3]:"")+q+(N&&m==="("?")":""),E){for(k=-1,T=M.length;++k<T;)if(S=M.charCodeAt(k),48>S||S>57){q=(S===46?a+M.slice(k+1):M.slice(k))+q,M=M.slice(0,k);break}}}x&&!p&&(M=t(M,1/0));var P=F.length+M.length+q.length,R=P<y?new Array(y-P+1).join(f):"";switch(x&&p&&(M=t(R+M,R.length?y-q.length:1/0),R=""),h){case"<":M=F+M+q+R;break;case"=":M=F+R+M+q;break;case"^":M=R.slice(0,P=R.length>>1)+F+M+q+R.slice(P);break;default:M=R+F+M+q;break}return i(M)}return A.toString=function(){return d+""},A}function u(d,f){var h=c((d=Xn(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Gn(f)/3)))*3,g=Math.pow(10,-m),p=Pu[8+m/3];return function(y){return h(g*y)+p}}return{format:c,formatPrefix:u}}var xa,to,Vl;Hh({thousands:",",grouping:[3],currency:["$",""]});function Hh(e){return xa=Yh(e),to=xa.format,Vl=xa.formatPrefix,xa}function Vh(e){return Math.max(0,-Gn(Math.abs(e)))}function Gh(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gn(t)/3)))*3-Gn(Math.abs(e)))}function Xh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gn(t)-Gn(e))+1}var W=1e-6,Vr=1e-12,Z=Math.PI,he=Z/2,ii=Z/4,Oe=Z*2,ae=180/Z,Y=Z/180,Q=Math.abs,or=Math.atan,Be=Math.atan2,L=Math.cos,wa=Math.ceil,jh=Math.exp,Ps=Math.hypot,oi=Math.log,Xo=Math.pow,O=Math.sin,Je=Math.sign||function(e){return e>0?1:e<0?-1:0},we=Math.sqrt,Gl=Math.tan;function Zh(e){return e>1?0:e<-1?Z:Math.acos(e)}function Le(e){return e>1?he:e<-1?-he:Math.asin(e)}function zu(e){return(e=O(e/2))*e}function ce(){}function si(e,t){e&&Du.hasOwnProperty(e.type)&&Du[e.type](e,t)}var Iu={Feature:function(e,t){si(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)si(n[r].geometry,t)}},Du={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){zs(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)zs(n[r],t,0)},Polygon:function(e,t){Ou(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)Ou(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)si(n[r],t)}};function zs(e,t,n){var r=-1,a=e.length-n,i;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function Ou(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)zs(e[n],t,1);t.polygonEnd()}function rt(e,t){e&&Iu.hasOwnProperty(e.type)?Iu[e.type](e,t):si(e,t)}var li=new ve,ci=new ve,Qh,Kh,Is,Ds,Os,pt={point:ce,lineStart:ce,lineEnd:ce,polygonStart:function(){li=new ve,pt.lineStart=bw,pt.lineEnd=xw},polygonEnd:function(){var e=+li;ci.add(e<0?Oe+e:e),this.lineStart=this.lineEnd=this.point=ce},sphere:function(){ci.add(Oe)}};function bw(){pt.point=ww}function xw(){Jh(Qh,Kh)}function ww(e,t){pt.point=Jh,Qh=e,Kh=t,e*=Y,t*=Y,Is=e,Ds=L(t=t/2+ii),Os=O(t)}function Jh(e,t){e*=Y,t*=Y,t=t/2+ii;var n=e-Is,r=n>=0?1:-1,a=r*n,i=L(t),o=O(t),s=Os*o,l=Ds*i+s*L(a),c=s*r*O(a);li.add(Be(c,l)),Is=e,Ds=i,Os=o}function _w(e){return ci=new ve,rt(e,pt),ci*2}function ui(e){return[Be(e[1],e[0]),Le(e[2])]}function fn(e){var t=e[0],n=e[1],r=L(n);return[r*L(t),r*O(t),O(n)]}function _a(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function jn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function jo(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ka(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function fi(e){var t=we(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var le,He,de,Xe,Qt,e0,t0,Dn,$r,Rt,Et,kt={point:Bs,lineStart:Bu,lineEnd:Lu,polygonStart:function(){kt.point=r0,kt.lineStart=kw,kt.lineEnd=Mw,$r=new ve,pt.polygonStart()},polygonEnd:function(){pt.polygonEnd(),kt.point=Bs,kt.lineStart=Bu,kt.lineEnd=Lu,li<0?(le=-(de=180),He=-(Xe=90)):$r>W?Xe=90:$r<-W&&(He=-90),Et[0]=le,Et[1]=de},sphere:function(){le=-(de=180),He=-(Xe=90)}};function Bs(e,t){Rt.push(Et=[le=e,de=e]),t<He&&(He=t),t>Xe&&(Xe=t)}function n0(e,t){var n=fn([e*Y,t*Y]);if(Dn){var r=jn(Dn,n),a=[r[1],-r[0],0],i=jn(a,r);fi(i),i=ui(i);var o=e-Qt,s=o>0?1:-1,l=i[0]*ae*s,c,u=Q(o)>180;u^(s*Qt<l&&l<s*e)?(c=i[1]*ae,c>Xe&&(Xe=c)):(l=(l+360)%360-180,u^(s*Qt<l&&l<s*e)?(c=-i[1]*ae,c<He&&(He=c)):(t<He&&(He=t),t>Xe&&(Xe=t))),u?e<Qt?Ve(le,e)>Ve(le,de)&&(de=e):Ve(e,de)>Ve(le,de)&&(le=e):de>=le?(e<le&&(le=e),e>de&&(de=e)):e>Qt?Ve(le,e)>Ve(le,de)&&(de=e):Ve(e,de)>Ve(le,de)&&(le=e)}else Rt.push(Et=[le=e,de=e]);t<He&&(He=t),t>Xe&&(Xe=t),Dn=n,Qt=e}function Bu(){kt.point=n0}function Lu(){Et[0]=le,Et[1]=de,kt.point=Bs,Dn=null}function r0(e,t){if(Dn){var n=e-Qt;$r.add(Q(n)>180?n+(n>0?360:-360):n)}else e0=e,t0=t;pt.point(e,t),n0(e,t)}function kw(){pt.lineStart()}function Mw(){r0(e0,t0),pt.lineEnd(),Q($r)>W&&(le=-(de=180)),Et[0]=le,Et[1]=de,Dn=null}function Ve(e,t){return(t-=e)<0?t+360:t}function Sw(e,t){return e[0]-t[0]}function Uu(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Tw(e){var t,n,r,a,i,o,s;if(Xe=de=-(le=He=1/0),Rt=[],rt(e,kt),n=Rt.length){for(Rt.sort(Sw),t=1,r=Rt[0],i=[r];t<n;++t)a=Rt[t],Uu(r,a[0])||Uu(r,a[1])?(Ve(r[0],a[1])>Ve(r[0],r[1])&&(r[1]=a[1]),Ve(a[0],r[1])>Ve(r[0],r[1])&&(r[0]=a[0])):i.push(r=a);for(o=-1/0,n=i.length-1,t=0,r=i[n];t<=n;r=a,++t)a=i[t],(s=Ve(r[1],a[0]))>o&&(o=s,le=a[0],de=r[1])}return Rt=Et=null,le===1/0||He===1/0?[[NaN,NaN],[NaN,NaN]]:[[le,He],[de,Xe]]}var wr,di,hi,pi,mi,gi,yi,vi,Ls,Us,Ws,a0,i0,Fe,Re,Pe,at={sphere:ce,point:Xl,lineStart:Wu,lineEnd:Yu,polygonStart:function(){at.lineStart=Ew,at.lineEnd=$w},polygonEnd:function(){at.lineStart=Wu,at.lineEnd=Yu}};function Xl(e,t){e*=Y,t*=Y;var n=L(t);aa(n*L(e),n*O(e),O(t))}function aa(e,t,n){++wr,hi+=(e-hi)/wr,pi+=(t-pi)/wr,mi+=(n-mi)/wr}function Wu(){at.point=Cw}function Cw(e,t){e*=Y,t*=Y;var n=L(t);Fe=n*L(e),Re=n*O(e),Pe=O(t),at.point=Aw,aa(Fe,Re,Pe)}function Aw(e,t){e*=Y,t*=Y;var n=L(t),r=n*L(e),a=n*O(e),i=O(t),o=Be(we((o=Re*i-Pe*a)*o+(o=Pe*r-Fe*i)*o+(o=Fe*a-Re*r)*o),Fe*r+Re*a+Pe*i);di+=o,gi+=o*(Fe+(Fe=r)),yi+=o*(Re+(Re=a)),vi+=o*(Pe+(Pe=i)),aa(Fe,Re,Pe)}function Yu(){at.point=Xl}function Ew(){at.point=qw}function $w(){o0(a0,i0),at.point=Xl}function qw(e,t){a0=e,i0=t,e*=Y,t*=Y,at.point=o0;var n=L(t);Fe=n*L(e),Re=n*O(e),Pe=O(t),aa(Fe,Re,Pe)}function o0(e,t){e*=Y,t*=Y;var n=L(t),r=n*L(e),a=n*O(e),i=O(t),o=Re*i-Pe*a,s=Pe*r-Fe*i,l=Fe*a-Re*r,c=Ps(o,s,l),u=Le(c),d=c&&-u/c;Ls.add(d*o),Us.add(d*s),Ws.add(d*l),di+=u,gi+=u*(Fe+(Fe=r)),yi+=u*(Re+(Re=a)),vi+=u*(Pe+(Pe=i)),aa(Fe,Re,Pe)}function Nw(e){wr=di=hi=pi=mi=gi=yi=vi=0,Ls=new ve,Us=new ve,Ws=new ve,rt(e,at);var t=+Ls,n=+Us,r=+Ws,a=Ps(t,n,r);return a<Vr&&(t=gi,n=yi,r=vi,di<W&&(t=hi,n=pi,r=mi),a=Ps(t,n,r),a<Vr)?[NaN,NaN]:[Be(n,t)*ae,Le(r/a)*ae]}function $n(e){return function(){return e}}function Ys(e,t){function n(r,a){return r=e(r,a),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,a){return r=t.invert(r,a),r&&e.invert(r[0],r[1])}),n}function Hs(e,t){return Q(e)>Z&&(e-=Math.round(e/Oe)*Oe),[e,t]}Hs.invert=Hs;function jl(e,t,n){return(e%=Oe)?t||n?Ys(Vu(e),Gu(t,n)):Vu(e):t||n?Gu(t,n):Hs}function Hu(e){return function(t,n){return t+=e,Q(t)>Z&&(t-=Math.round(t/Oe)*Oe),[t,n]}}function Vu(e){var t=Hu(e);return t.invert=Hu(-e),t}function Gu(e,t){var n=L(e),r=O(e),a=L(t),i=O(t);function o(s,l){var c=L(l),u=L(s)*c,d=O(s)*c,f=O(l),h=f*n+u*r;return[Be(d*a-h*i,u*n-f*r),Le(h*a+d*i)]}return o.invert=function(s,l){var c=L(l),u=L(s)*c,d=O(s)*c,f=O(l),h=f*a-d*i;return[Be(d*a+f*i,u*n+h*r),Le(h*n-u*r)]},o}function s0(e){e=jl(e[0]*Y,e[1]*Y,e.length>2?e[2]*Y:0);function t(n){return n=e(n[0]*Y,n[1]*Y),n[0]*=ae,n[1]*=ae,n}return t.invert=function(n){return n=e.invert(n[0]*Y,n[1]*Y),n[0]*=ae,n[1]*=ae,n},t}function l0(e,t,n,r,a,i){if(n){var o=L(t),s=O(t),l=r*n;a==null?(a=t+r*Oe,i=t-l/2):(a=Xu(o,a),i=Xu(o,i),(r>0?a<i:a>i)&&(a+=r*Oe));for(var c,u=a;r>0?u>i:u<i;u-=l)c=ui([o,-s*L(u),-s*O(u)]),e.point(c[0],c[1])}}function Xu(e,t){t=fn(t),t[0]-=e,fi(t);var n=Zh(-t[1]);return((-t[2]<0?-n:n)+Oe-W)%Oe}function Fw(){var e=$n([0,0]),t=$n(90),n=$n(2),r,a,i={point:o};function o(l,c){r.push(l=a(l,c)),l[0]*=ae,l[1]*=ae}function s(){var l=e.apply(this,arguments),c=t.apply(this,arguments)*Y,u=n.apply(this,arguments)*Y;return r=[],a=jl(-l[0]*Y,-l[1]*Y,0).invert,l0(i,c,u,1),l={type:"Polygon",coordinates:[r]},r=a=null,l}return s.center=function(l){return arguments.length?(e=typeof l=="function"?l:$n([+l[0],+l[1]]),s):e},s.radius=function(l){return arguments.length?(t=typeof l=="function"?l:$n(+l),s):t},s.precision=function(l){return arguments.length?(n=typeof l=="function"?l:$n(+l),s):n},s}function c0(){var e=[],t;return{point:function(n,r,a){t.push([n,r,a])},lineStart:function(){e.push(t=[])},lineEnd:ce,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ba(e,t){return Q(e[0]-t[0])<W&&Q(e[1]-t[1])<W}function Ma(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function u0(e,t,n,r,a){var i=[],o=[],s,l;if(e.forEach(function(m){if(!((g=m.length-1)<=0)){var g,p=m[0],y=m[g],x;if(Ba(p,y)){if(!p[2]&&!y[2]){for(a.lineStart(),s=0;s<g;++s)a.point((p=m[s])[0],p[1]);a.lineEnd();return}y[0]+=2*W}i.push(x=new Ma(p,m,null,!0)),o.push(x.o=new Ma(p,null,x,!1)),i.push(x=new Ma(y,m,null,!1)),o.push(x.o=new Ma(y,null,x,!0))}}),!!i.length){for(o.sort(t),ju(i),ju(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var c=i[0],u,d;;){for(var f=c,h=!0;f.v;)if((f=f.n)===c)return;u=f.z,a.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(s=0,l=u.length;s<l;++s)a.point((d=u[s])[0],d[1]);else r(f.x,f.n.x,1,a);f=f.n}else{if(h)for(u=f.p.z,s=u.length-1;s>=0;--s)a.point((d=u[s])[0],d[1]);else r(f.x,f.p.x,-1,a);f=f.p}f=f.o,u=f.z,h=!h}while(!f.v);a.lineEnd()}}}function ju(e){if(t=e.length){for(var t,n=0,r=e[0],a;++n<t;)r.n=a=e[n],a.p=r,r=a;r.n=a=e[0],a.p=r}}function Zo(e){return Q(e[0])<=Z?e[0]:Je(e[0])*((Q(e[0])+Z)%Oe-Z)}function f0(e,t){var n=Zo(t),r=t[1],a=O(r),i=[O(n),-L(n),0],o=0,s=0,l=new ve;a===1?r=he+W:a===-1&&(r=-he-W);for(var c=0,u=e.length;c<u;++c)if(f=(d=e[c]).length)for(var d,f,h=d[f-1],m=Zo(h),g=h[1]/2+ii,p=O(g),y=L(g),x=0;x<f;++x,m=v,p=_,y=C,h=b){var b=d[x],v=Zo(b),w=b[1]/2+ii,_=O(w),C=L(w),$=v-m,E=$>=0?1:-1,A=E*$,M=A>Z,F=p*_;if(l.add(Be(F*E*O(A),y*C+F*L(A))),o+=M?$+E*Oe:$,M^m>=n^v>=n){var q=jn(fn(h),fn(b));fi(q);var k=jn(i,q);fi(k);var T=(M^$>=0?-1:1)*Le(k[2]);(r>T||r===T&&(q[0]||q[1]))&&(s+=M^$>=0?1:-1)}}return(o<-W||o<W&&l<-Vr)^s&1}function d0(e,t,n,r){return function(a){var i=t(a),o=c0(),s=t(o),l=!1,c,u,d,f={point:h,lineStart:g,lineEnd:p,polygonStart:function(){f.point=y,f.lineStart=x,f.lineEnd=b,u=[],c=[]},polygonEnd:function(){f.point=h,f.lineStart=g,f.lineEnd=p,u=kl(u);var v=f0(c,r);u.length?(l||(a.polygonStart(),l=!0),u0(u,Pw,v,n,a)):v&&(l||(a.polygonStart(),l=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),l&&(a.polygonEnd(),l=!1),u=c=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(v,w){e(v,w)&&a.point(v,w)}function m(v,w){i.point(v,w)}function g(){f.point=m,i.lineStart()}function p(){f.point=h,i.lineEnd()}function y(v,w){d.push([v,w]),s.point(v,w)}function x(){s.lineStart(),d=[]}function b(){y(d[0][0],d[0][1]),s.lineEnd();var v=s.clean(),w=o.result(),_,C=w.length,$,E,A;if(d.pop(),c.push(d),d=null,!!C){if(v&1){if(E=w[0],($=E.length-1)>0){for(l||(a.polygonStart(),l=!0),a.lineStart(),_=0;_<$;++_)a.point((A=E[_])[0],A[1]);a.lineEnd()}return}C>1&&v&2&&w.push(w.pop().concat(w.shift())),u.push(w.filter(Rw))}}return f}}function Rw(e){return e.length>1}function Pw(e,t){return((e=e.x)[0]<0?e[1]-he-W:he-e[1])-((t=t.x)[0]<0?t[1]-he-W:he-t[1])}const Vs=d0(function(){return!0},zw,Dw,[-Z,-he]);function zw(e){var t=NaN,n=NaN,r=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(i,o){var s=i>0?Z:-Z,l=Q(i-t);Q(l-Z)<W?(e.point(t,n=(n+o)/2>0?he:-he),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(i,n),a=0):r!==s&&l>=Z&&(Q(t-r)<W&&(t-=r*W),Q(i-s)<W&&(i-=s*W),n=Iw(t,n,i,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),a=0),e.point(t=i,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-a}}}function Iw(e,t,n,r){var a,i,o=O(e-n);return Q(o)>W?or((O(t)*(i=L(r))*O(n)-O(r)*(a=L(t))*O(e))/(a*i*o)):(t+r)/2}function Dw(e,t,n,r){var a;if(e==null)a=n*he,r.point(-Z,a),r.point(0,a),r.point(Z,a),r.point(Z,0),r.point(Z,-a),r.point(0,-a),r.point(-Z,-a),r.point(-Z,0),r.point(-Z,a);else if(Q(e[0]-t[0])>W){var i=e[0]<t[0]?Z:-Z;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(t[0],t[1])}function h0(e){var t=L(e),n=2*Y,r=t>0,a=Q(t)>W;function i(u,d,f,h){l0(h,e,n,f,u,d)}function o(u,d){return L(u)*L(d)>t}function s(u){var d,f,h,m,g;return{lineStart:function(){m=h=!1,g=1},point:function(p,y){var x=[p,y],b,v=o(p,y),w=r?v?0:c(p,y):v?c(p+(p<0?Z:-Z),y):0;if(!d&&(m=h=v)&&u.lineStart(),v!==h&&(b=l(d,x),(!b||Ba(d,b)||Ba(x,b))&&(x[2]=1)),v!==h)g=0,v?(u.lineStart(),b=l(x,d),u.point(b[0],b[1])):(b=l(d,x),u.point(b[0],b[1],2),u.lineEnd()),d=b;else if(a&&d&&r^v){var _;!(w&f)&&(_=l(x,d,!0))&&(g=0,r?(u.lineStart(),u.point(_[0][0],_[0][1]),u.point(_[1][0],_[1][1]),u.lineEnd()):(u.point(_[1][0],_[1][1]),u.lineEnd(),u.lineStart(),u.point(_[0][0],_[0][1],3)))}v&&(!d||!Ba(d,x))&&u.point(x[0],x[1]),d=x,h=v,f=w},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return g|(m&&h)<<1}}}function l(u,d,f){var h=fn(u),m=fn(d),g=[1,0,0],p=jn(h,m),y=_a(p,p),x=p[0],b=y-x*x;if(!b)return!f&&u;var v=t*y/b,w=-t*x/b,_=jn(g,p),C=ka(g,v),$=ka(p,w);jo(C,$);var E=_,A=_a(C,E),M=_a(E,E),F=A*A-M*(_a(C,C)-1);if(!(F<0)){var q=we(F),k=ka(E,(-A-q)/M);if(jo(k,C),k=ui(k),!f)return k;var T=u[0],S=d[0],N=u[1],P=d[1],R;S<T&&(R=T,T=S,S=R);var I=S-T,B=Q(I-Z)<W,U=B||I<W;if(!B&&P<N&&(R=N,N=P,P=R),U?B?N+P>0^k[1]<(Q(k[0]-T)<W?N:P):N<=k[1]&&k[1]<=P:I>Z^(T<=k[0]&&k[0]<=S)){var ne=ka(E,(-A+q)/M);return jo(ne,C),[k,ui(ne)]}}}function c(u,d){var f=r?e:Z-e,h=0;return u<-f?h|=1:u>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return d0(o,s,i,r?[0,-e]:[-Z,e-Z])}function Ow(e,t,n,r,a,i){var o=e[0],s=e[1],l=t[0],c=t[1],u=0,d=1,f=l-o,h=c-s,m;if(m=n-o,!(!f&&m>0)){if(m/=f,f<0){if(m<u)return;m<d&&(d=m)}else if(f>0){if(m>d)return;m>u&&(u=m)}if(m=a-o,!(!f&&m<0)){if(m/=f,f<0){if(m>d)return;m>u&&(u=m)}else if(f>0){if(m<u)return;m<d&&(d=m)}if(m=r-s,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>u&&(u=m)}if(m=i-s,!(!h&&m<0)){if(m/=h,h<0){if(m>d)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<d&&(d=m)}return u>0&&(e[0]=o+u*f,e[1]=s+u*h),d<1&&(t[0]=o+d*f,t[1]=s+d*h),!0}}}}}var _r=1e9,Sa=-_r;function no(e,t,n,r){function a(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function i(c,u,d,f){var h=0,m=0;if(c==null||(h=o(c,d))!==(m=o(u,d))||l(c,u)<0^d>0)do f.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==m);else f.point(u[0],u[1])}function o(c,u){return Q(c[0]-e)<W?u>0?0:3:Q(c[0]-n)<W?u>0?2:1:Q(c[1]-t)<W?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var d=o(c,1),f=o(u,1);return d!==f?d-f:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=c0(),f,h,m,g,p,y,x,b,v,w,_,C={point:$,lineStart:F,lineEnd:q,polygonStart:A,polygonEnd:M};function $(T,S){a(T,S)&&u.point(T,S)}function E(){for(var T=0,S=0,N=h.length;S<N;++S)for(var P=h[S],R=1,I=P.length,B=P[0],U,ne,J=B[0],K=B[1];R<I;++R)U=J,ne=K,B=P[R],J=B[0],K=B[1],ne<=r?K>r&&(J-U)*(r-ne)>(K-ne)*(e-U)&&++T:K<=r&&(J-U)*(r-ne)<(K-ne)*(e-U)&&--T;return T}function A(){u=d,f=[],h=[],_=!0}function M(){var T=E(),S=_&&T,N=(f=kl(f)).length;(S||N)&&(c.polygonStart(),S&&(c.lineStart(),i(null,null,1,c),c.lineEnd()),N&&u0(f,s,T,i,c),c.polygonEnd()),u=c,f=h=m=null}function F(){C.point=k,h&&h.push(m=[]),w=!0,v=!1,x=b=NaN}function q(){f&&(k(g,p),y&&v&&d.rejoin(),f.push(d.result())),C.point=$,v&&u.lineEnd()}function k(T,S){var N=a(T,S);if(h&&m.push([T,S]),w)g=T,p=S,y=N,w=!1,N&&(u.lineStart(),u.point(T,S));else if(N&&v)u.point(T,S);else{var P=[x=Math.max(Sa,Math.min(_r,x)),b=Math.max(Sa,Math.min(_r,b))],R=[T=Math.max(Sa,Math.min(_r,T)),S=Math.max(Sa,Math.min(_r,S))];Ow(P,R,e,t,n,r)?(v||(u.lineStart(),u.point(P[0],P[1])),u.point(R[0],R[1]),N||u.lineEnd(),_=!1):N&&(u.lineStart(),u.point(T,S),_=!1)}x=T,b=S,v=N}return C}}function Bw(){var e=0,t=0,n=960,r=500,a,i,o;return o={stream:function(s){return a&&i===s?a:a=no(e,t,n,r)(i=s)},extent:function(s){return arguments.length?(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1],a=i=null,o):[[e,t],[n,r]]}}}var Gs,Xs,La,Ua,Zn={sphere:ce,point:ce,lineStart:Lw,lineEnd:ce,polygonStart:ce,polygonEnd:ce};function Lw(){Zn.point=Ww,Zn.lineEnd=Uw}function Uw(){Zn.point=Zn.lineEnd=ce}function Ww(e,t){e*=Y,t*=Y,Xs=e,La=O(t),Ua=L(t),Zn.point=Yw}function Yw(e,t){e*=Y,t*=Y;var n=O(t),r=L(t),a=Q(e-Xs),i=L(a),o=O(a),s=r*o,l=Ua*n-La*r*i,c=La*n+Ua*r*i;Gs.add(Be(we(s*s+l*l),c)),Xs=e,La=n,Ua=r}function p0(e){return Gs=new ve,rt(e,Zn),+Gs}var js=[null,null],Hw={type:"LineString",coordinates:js};function bi(e,t){return js[0]=e,js[1]=t,p0(Hw)}var Zu={Feature:function(e,t){return xi(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)if(xi(n[r].geometry,t))return!0;return!1}},Qu={Sphere:function(){return!0},Point:function(e,t){return Ku(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)if(Ku(n[r],t))return!0;return!1},LineString:function(e,t){return Ju(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)if(Ju(n[r],t))return!0;return!1},Polygon:function(e,t){return ef(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)if(ef(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)if(xi(n[r],t))return!0;return!1}};function xi(e,t){return e&&Qu.hasOwnProperty(e.type)?Qu[e.type](e,t):!1}function Ku(e,t){return bi(e,t)===0}function Ju(e,t){for(var n,r,a,i=0,o=e.length;i<o;i++){if(r=bi(e[i],t),r===0||i>0&&(a=bi(e[i],e[i-1]),a>0&&n<=a&&r<=a&&(n+r-a)*(1-Math.pow((n-r)/a,2))<Vr*a))return!0;n=r}return!1}function ef(e,t){return!!f0(e.map(Vw),m0(t))}function Vw(e){return e=e.map(m0),e.pop(),e}function m0(e){return[e[0]*Y,e[1]*Y]}function Gw(e,t){return(e&&Zu.hasOwnProperty(e.type)?Zu[e.type]:xi)(e,t)}function tf(e,t,n){var r=Pt(e,t-W,n).concat(t);return function(a){return r.map(function(i){return[a,i]})}}function nf(e,t,n){var r=Pt(e,t-W,n).concat(t);return function(a){return r.map(function(i){return[i,a]})}}function g0(){var e,t,n,r,a,i,o,s,l=10,c=l,u=90,d=360,f,h,m,g,p=2.5;function y(){return{type:"MultiLineString",coordinates:x()}}function x(){return Pt(wa(r/u)*u,n,u).map(m).concat(Pt(wa(s/d)*d,o,d).map(g)).concat(Pt(wa(t/l)*l,e,l).filter(function(b){return Q(b%u)>W}).map(f)).concat(Pt(wa(i/c)*c,a,c).filter(function(b){return Q(b%d)>W}).map(h))}return y.lines=function(){return x().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(g(o).slice(1),m(n).reverse().slice(1),g(s).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],s=+b[0][1],o=+b[1][1],r>n&&(b=r,r=n,n=b),s>o&&(b=s,s=o,o=b),y.precision(p)):[[r,s],[n,o]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],i=+b[0][1],a=+b[1][1],t>e&&(b=t,t=e,e=b),i>a&&(b=i,i=a,a=b),y.precision(p)):[[t,i],[e,a]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(u=+b[0],d=+b[1],y):[u,d]},y.stepMinor=function(b){return arguments.length?(l=+b[0],c=+b[1],y):[l,c]},y.precision=function(b){return arguments.length?(p=+b,f=tf(i,a,90),h=nf(t,e,p),m=tf(s,o,90),g=nf(r,n,p),y):p},y.extentMajor([[-180,-90+W],[180,90-W]]).extentMinor([[-180,-80-W],[180,80+W]])}function Xw(){return g0()()}function jw(e,t){var n=e[0]*Y,r=e[1]*Y,a=t[0]*Y,i=t[1]*Y,o=L(r),s=O(r),l=L(i),c=O(i),u=o*L(n),d=o*O(n),f=l*L(a),h=l*O(a),m=2*Le(we(zu(i-r)+o*l*zu(a-n))),g=O(m),p=m?function(y){var x=O(y*=m)/g,b=O(m-y)/g,v=b*u+x*f,w=b*d+x*h,_=b*s+x*c;return[Be(w,v)*ae,Be(_,we(v*v+w*w))*ae]}:function(){return[n*ae,r*ae]};return p.distance=m,p}const Gr=e=>e;var Qo=new ve,Zs=new ve,y0,v0,Qs,Ks,Mt={point:ce,lineStart:ce,lineEnd:ce,polygonStart:function(){Mt.lineStart=Zw,Mt.lineEnd=Kw},polygonEnd:function(){Mt.lineStart=Mt.lineEnd=Mt.point=ce,Qo.add(Q(Zs)),Zs=new ve},result:function(){var e=Qo/2;return Qo=new ve,e}};function Zw(){Mt.point=Qw}function Qw(e,t){Mt.point=b0,y0=Qs=e,v0=Ks=t}function b0(e,t){Zs.add(Ks*e-Qs*t),Qs=e,Ks=t}function Kw(){b0(y0,v0)}var Qn=1/0,wi=Qn,Xr=-Qn,_i=Xr,ki={point:Jw,lineStart:ce,lineEnd:ce,polygonStart:ce,polygonEnd:ce,result:function(){var e=[[Qn,wi],[Xr,_i]];return Xr=_i=-(wi=Qn=1/0),e}};function Jw(e,t){e<Qn&&(Qn=e),e>Xr&&(Xr=e),t<wi&&(wi=t),t>_i&&(_i=t)}var Js=0,el=0,kr=0,Mi=0,Si=0,Rn=0,tl=0,nl=0,Mr=0,x0,w0,lt,ct,Ke={point:dn,lineStart:rf,lineEnd:af,polygonStart:function(){Ke.lineStart=n5,Ke.lineEnd=r5},polygonEnd:function(){Ke.point=dn,Ke.lineStart=rf,Ke.lineEnd=af},result:function(){var e=Mr?[tl/Mr,nl/Mr]:Rn?[Mi/Rn,Si/Rn]:kr?[Js/kr,el/kr]:[NaN,NaN];return Js=el=kr=Mi=Si=Rn=tl=nl=Mr=0,e}};function dn(e,t){Js+=e,el+=t,++kr}function rf(){Ke.point=e5}function e5(e,t){Ke.point=t5,dn(lt=e,ct=t)}function t5(e,t){var n=e-lt,r=t-ct,a=we(n*n+r*r);Mi+=a*(lt+e)/2,Si+=a*(ct+t)/2,Rn+=a,dn(lt=e,ct=t)}function af(){Ke.point=dn}function n5(){Ke.point=a5}function r5(){_0(x0,w0)}function a5(e,t){Ke.point=_0,dn(x0=lt=e,w0=ct=t)}function _0(e,t){var n=e-lt,r=t-ct,a=we(n*n+r*r);Mi+=a*(lt+e)/2,Si+=a*(ct+t)/2,Rn+=a,a=ct*e-lt*t,tl+=a*(lt+e),nl+=a*(ct+t),Mr+=a*3,dn(lt=e,ct=t)}function k0(e){this._context=e}k0.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Oe);break}}},result:ce};var rl=new ve,Ko,M0,S0,Sr,Tr,jr={point:ce,lineStart:function(){jr.point=i5},lineEnd:function(){Ko&&T0(M0,S0),jr.point=ce},polygonStart:function(){Ko=!0},polygonEnd:function(){Ko=null},result:function(){var e=+rl;return rl=new ve,e}};function i5(e,t){jr.point=T0,M0=Sr=e,S0=Tr=t}function T0(e,t){Sr-=e,Tr-=t,rl.add(we(Sr*Sr+Tr*Tr)),Sr=e,Tr=t}let of,Ti,sf,lf;class cf{constructor(t){this._append=t==null?C0:o5(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==sf||this._append!==Ti){const r=this._radius,a=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,sf=r,Ti=this._append,lf=this._,this._=a}this._+=lf;break}}}result(){const t=this._;return this._="",t.length?t:null}}function C0(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function o5(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return C0;if(t!==of){const n=10**t;of=t,Ti=function(a){let i=1;this._+=a[0];for(const o=a.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+a[i]}}return Ti}function A0(e,t){let n=3,r=4.5,a,i;function o(s){return s&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),rt(s,a(i))),i.result()}return o.area=function(s){return rt(s,a(Mt)),Mt.result()},o.measure=function(s){return rt(s,a(jr)),jr.result()},o.bounds=function(s){return rt(s,a(ki)),ki.result()},o.centroid=function(s){return rt(s,a(Ke)),Ke.result()},o.projection=function(s){return arguments.length?(a=s==null?(e=null,Gr):(e=s).stream,o):e},o.context=function(s){return arguments.length?(i=s==null?(t=null,new cf(n)):new k0(t=s),typeof r!="function"&&i.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(i.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return t===null&&(i=new cf(n)),o},o.projection(e).digits(n).context(t)}function s5(e){return{stream:ia(e)}}function ia(e){return function(t){var n=new al;for(var r in e)n[r]=e[r];return n.stream=t,n}}function al(){}al.prototype={constructor:al,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zl(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),rt(n,e.stream(ki)),t(ki.result()),r!=null&&e.clipExtent(r),e}function ro(e,t,n){return Zl(e,function(r){var a=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(a/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),s=+t[0][0]+(a-o*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,l])},n)}function Ql(e,t,n){return ro(e,[[0,0],t],n)}function Kl(e,t,n){return Zl(e,function(r){var a=+t,i=a/(r[1][0]-r[0][0]),o=(a-i*(r[1][0]+r[0][0]))/2,s=-i*r[0][1];e.scale(150*i).translate([o,s])},n)}function Jl(e,t,n){return Zl(e,function(r){var a=+t,i=a/(r[1][1]-r[0][1]),o=-i*r[0][0],s=(a-i*(r[1][1]+r[0][1]))/2;e.scale(150*i).translate([o,s])},n)}var uf=16,l5=L(30*Y);function ff(e,t){return+t?u5(e,t):c5(e)}function c5(e){return ia({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function u5(e,t){function n(r,a,i,o,s,l,c,u,d,f,h,m,g,p){var y=c-r,x=u-a,b=y*y+x*x;if(b>4*t&&g--){var v=o+f,w=s+h,_=l+m,C=we(v*v+w*w+_*_),$=Le(_/=C),E=Q(Q(_)-1)<W||Q(i-d)<W?(i+d)/2:Be(w,v),A=e(E,$),M=A[0],F=A[1],q=M-r,k=F-a,T=x*q-y*k;(T*T/b>t||Q((y*q+x*k)/b-.5)>.3||o*f+s*h+l*m<l5)&&(n(r,a,i,o,s,l,M,F,E,v/=C,w/=C,_,g,p),p.point(M,F),n(M,F,E,v,w,_,c,u,d,f,h,m,g,p))}}return function(r){var a,i,o,s,l,c,u,d,f,h,m,g,p={point:y,lineStart:x,lineEnd:v,polygonStart:function(){r.polygonStart(),p.lineStart=w},polygonEnd:function(){r.polygonEnd(),p.lineStart=x}};function y($,E){$=e($,E),r.point($[0],$[1])}function x(){d=NaN,p.point=b,r.lineStart()}function b($,E){var A=fn([$,E]),M=e($,E);n(d,f,u,h,m,g,d=M[0],f=M[1],u=$,h=A[0],m=A[1],g=A[2],uf,r),r.point(d,f)}function v(){p.point=y,r.lineEnd()}function w(){x(),p.point=_,p.lineEnd=C}function _($,E){b(a=$,E),i=d,o=f,s=h,l=m,c=g,p.point=b}function C(){n(d,f,u,h,m,g,i,o,a,s,l,c,uf,r),p.lineEnd=v,v()}return p}}var f5=ia({point:function(e,t){this.stream.point(e*Y,t*Y)}});function d5(e){return ia({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function h5(e,t,n,r,a){function i(o,s){return o*=r,s*=a,[t+e*o,n-e*s]}return i.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*a]},i}function df(e,t,n,r,a,i){if(!i)return h5(e,t,n,r,a);var o=L(i),s=O(i),l=o*e,c=s*e,u=o/e,d=s/e,f=(s*n-o*t)/e,h=(s*t+o*n)/e;function m(g,p){return g*=r,p*=a,[l*g-c*p+t,n-c*g-l*p]}return m.invert=function(g,p){return[r*(u*g-d*p+f),a*(h-d*g-u*p)]},m}function vt(e){return ec(function(){return e})()}function ec(e){var t,n=150,r=480,a=250,i=0,o=0,s=0,l=0,c=0,u,d=0,f=1,h=1,m=null,g=Vs,p=null,y,x,b,v=Gr,w=.5,_,C,$,E,A;function M(T){return $(T[0]*Y,T[1]*Y)}function F(T){return T=$.invert(T[0],T[1]),T&&[T[0]*ae,T[1]*ae]}M.stream=function(T){return E&&A===T?E:E=f5(d5(u)(g(_(v(A=T)))))},M.preclip=function(T){return arguments.length?(g=T,m=void 0,k()):g},M.postclip=function(T){return arguments.length?(v=T,p=y=x=b=null,k()):v},M.clipAngle=function(T){return arguments.length?(g=+T?h0(m=T*Y):(m=null,Vs),k()):m*ae},M.clipExtent=function(T){return arguments.length?(v=T==null?(p=y=x=b=null,Gr):no(p=+T[0][0],y=+T[0][1],x=+T[1][0],b=+T[1][1]),k()):p==null?null:[[p,y],[x,b]]},M.scale=function(T){return arguments.length?(n=+T,q()):n},M.translate=function(T){return arguments.length?(r=+T[0],a=+T[1],q()):[r,a]},M.center=function(T){return arguments.length?(i=T[0]%360*Y,o=T[1]%360*Y,q()):[i*ae,o*ae]},M.rotate=function(T){return arguments.length?(s=T[0]%360*Y,l=T[1]%360*Y,c=T.length>2?T[2]%360*Y:0,q()):[s*ae,l*ae,c*ae]},M.angle=function(T){return arguments.length?(d=T%360*Y,q()):d*ae},M.reflectX=function(T){return arguments.length?(f=T?-1:1,q()):f<0},M.reflectY=function(T){return arguments.length?(h=T?-1:1,q()):h<0},M.precision=function(T){return arguments.length?(_=ff(C,w=T*T),k()):we(w)},M.fitExtent=function(T,S){return ro(M,T,S)},M.fitSize=function(T,S){return Ql(M,T,S)},M.fitWidth=function(T,S){return Kl(M,T,S)},M.fitHeight=function(T,S){return Jl(M,T,S)};function q(){var T=df(n,0,0,f,h,d).apply(null,t(i,o)),S=df(n,r-T[0],a-T[1],f,h,d);return u=jl(s,l,c),C=Ys(t,S),$=Ys(u,C),_=ff(C,w),k()}function k(){return E=A=null,M}return function(){return t=e.apply(this,arguments),M.invert=t.invert&&F,q()}}function tc(e){var t=0,n=Z/3,r=ec(e),a=r(t,n);return a.parallels=function(i){return arguments.length?r(t=i[0]*Y,n=i[1]*Y):[t*ae,n*ae]},a}function p5(e){var t=L(e);function n(r,a){return[r*t,O(a)/t]}return n.invert=function(r,a){return[r/t,Le(a*t)]},n}function E0(e,t){var n=O(e),r=(n+O(t))/2;if(Q(r)<W)return p5(e);var a=1+n*(2*r-n),i=we(a)/r;function o(s,l){var c=we(a-2*r*O(l))/r;return[c*O(s*=r),i-c*L(s)]}return o.invert=function(s,l){var c=i-l,u=Be(s,Q(c))*Je(c);return c*r<0&&(u-=Z*Je(s)*Je(c)),[u/r,Le((a-(s*s+c*c)*r*r)/(2*r))]},o}function Ci(){return tc(E0).scale(155.424).center([0,33.6442])}function $0(){return Ci().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function m5(e){var t=e.length;return{point:function(n,r){for(var a=-1;++a<t;)e[a].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function g5(){var e,t,n=$0(),r,a=Ci().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,o=Ci().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(f,h){l=[f,h]}};function u(f){var h=f[0],m=f[1];return l=null,r.point(h,m),l||(i.point(h,m),l)||(s.point(h,m),l)}u.invert=function(f){var h=n.scale(),m=n.translate(),g=(f[0]-m[0])/h,p=(f[1]-m[1])/h;return(p>=.12&&p<.234&&g>=-.425&&g<-.214?a:p>=.166&&p<.234&&g>=-.214&&g<-.115?o:n).invert(f)},u.stream=function(f){return e&&t===f?e:e=m5([n.stream(t=f),a.stream(f),o.stream(f)])},u.precision=function(f){return arguments.length?(n.precision(f),a.precision(f),o.precision(f),d()):n.precision()},u.scale=function(f){return arguments.length?(n.scale(f),a.scale(f*.35),o.scale(f),u.translate(n.translate())):n.scale()},u.translate=function(f){if(!arguments.length)return n.translate();var h=n.scale(),m=+f[0],g=+f[1];return r=n.translate(f).clipExtent([[m-.455*h,g-.238*h],[m+.455*h,g+.238*h]]).stream(c),i=a.translate([m-.307*h,g+.201*h]).clipExtent([[m-.425*h+W,g+.12*h+W],[m-.214*h-W,g+.234*h-W]]).stream(c),s=o.translate([m-.205*h,g+.212*h]).clipExtent([[m-.214*h+W,g+.166*h+W],[m-.115*h-W,g+.234*h-W]]).stream(c),d()},u.fitExtent=function(f,h){return ro(u,f,h)},u.fitSize=function(f,h){return Ql(u,f,h)},u.fitWidth=function(f,h){return Kl(u,f,h)},u.fitHeight=function(f,h){return Jl(u,f,h)};function d(){return e=t=null,u}return u.scale(1070)}function q0(e){return function(t,n){var r=L(t),a=L(n),i=e(r*a);return i===1/0?[2,0]:[i*a*O(t),i*O(n)]}}function oa(e){return function(t,n){var r=we(t*t+n*n),a=e(r),i=O(a),o=L(a);return[Be(t*i,r*o),Le(r&&n*i/r)]}}var nc=q0(function(e){return we(2/(1+e))});nc.invert=oa(function(e){return 2*Le(e/2)});function y5(){return vt(nc).scale(124.75).clipAngle(180-.001)}var rc=q0(function(e){return(e=Zh(e))&&e/O(e)});rc.invert=oa(function(e){return e});function v5(){return vt(rc).scale(79.4188).clipAngle(180-.001)}function sa(e,t){return[e,oi(Gl((he+t)/2))]}sa.invert=function(e,t){return[e,2*or(jh(t))-he]};function b5(){return N0(sa).scale(961/Oe)}function N0(e){var t=vt(e),n=t.center,r=t.scale,a=t.translate,i=t.clipExtent,o=null,s,l,c;t.scale=function(d){return arguments.length?(r(d),u()):r()},t.translate=function(d){return arguments.length?(a(d),u()):a()},t.center=function(d){return arguments.length?(n(d),u()):n()},t.clipExtent=function(d){return arguments.length?(d==null?o=s=l=c=null:(o=+d[0][0],s=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):o==null?null:[[o,s],[l,c]]};function u(){var d=Z*r(),f=t(s0(t.rotate()).invert([0,0]));return i(o==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===sa?[[Math.max(f[0]-d,o),s],[Math.min(f[0]+d,l),c]]:[[o,Math.max(f[1]-d,s)],[l,Math.min(f[1]+d,c)]])}return u()}function Ta(e){return Gl((he+e)/2)}function F0(e,t){var n=L(e),r=e===t?O(e):oi(n/L(t))/oi(Ta(t)/Ta(e)),a=n*Xo(Ta(e),r)/r;if(!r)return sa;function i(o,s){a>0?s<-he+W&&(s=-he+W):s>he-W&&(s=he-W);var l=a/Xo(Ta(s),r);return[l*O(r*o),a-l*L(r*o)]}return i.invert=function(o,s){var l=a-s,c=Je(r)*we(o*o+l*l),u=Be(o,Q(l))*Je(l);return l*r<0&&(u-=Z*Je(o)*Je(l)),[u/r,2*or(Xo(a/c,1/r))-he]},i}function x5(){return tc(F0).scale(109.5).parallels([30,30])}function Zr(e,t){return[e,t]}Zr.invert=Zr;function w5(){return vt(Zr).scale(152.63)}function R0(e,t){var n=L(e),r=e===t?O(e):(n-L(t))/(t-e),a=n/r+e;if(Q(r)<W)return Zr;function i(o,s){var l=a-s,c=r*o;return[l*O(c),a-l*L(c)]}return i.invert=function(o,s){var l=a-s,c=Be(o,Q(l))*Je(l);return l*r<0&&(c-=Z*Je(o)*Je(l)),[c/r,a-Je(r)*we(o*o+l*l)]},i}function _5(){return tc(R0).scale(131.154).center([0,13.9389])}var qr=1.340264,Nr=-.081106,Fr=893e-6,Rr=.003796,Ai=we(3)/2,k5=12;function ac(e,t){var n=Le(Ai*O(t)),r=n*n,a=r*r*r;return[e*L(n)/(Ai*(qr+3*Nr*r+a*(7*Fr+9*Rr*r))),n*(qr+Nr*r+a*(Fr+Rr*r))]}ac.invert=function(e,t){for(var n=t,r=n*n,a=r*r*r,i=0,o,s,l;i<k5&&(s=n*(qr+Nr*r+a*(Fr+Rr*r))-t,l=qr+3*Nr*r+a*(7*Fr+9*Rr*r),n-=o=s/l,r=n*n,a=r*r*r,!(Q(o)<Vr));++i);return[Ai*e*(qr+3*Nr*r+a*(7*Fr+9*Rr*r))/L(n),Le(O(n)/Ai)]};function M5(){return vt(ac).scale(177.158)}function ic(e,t){var n=L(t),r=L(e)*n;return[n*O(e)/r,O(t)/r]}ic.invert=oa(or);function S5(){return vt(ic).scale(144.049).clipAngle(60)}function T5(){var e=1,t=0,n=0,r=1,a=1,i=0,o,s,l=null,c,u,d,f=1,h=1,m=ia({point:function(v,w){var _=b([v,w]);this.stream.point(_[0],_[1])}}),g=Gr,p,y;function x(){return f=e*r,h=e*a,p=y=null,b}function b(v){var w=v[0]*f,_=v[1]*h;if(i){var C=_*o-w*s;w=w*o+_*s,_=C}return[w+t,_+n]}return b.invert=function(v){var w=v[0]-t,_=v[1]-n;if(i){var C=_*o+w*s;w=w*o-_*s,_=C}return[w/f,_/h]},b.stream=function(v){return p&&y===v?p:p=m(g(y=v))},b.postclip=function(v){return arguments.length?(g=v,l=c=u=d=null,x()):g},b.clipExtent=function(v){return arguments.length?(g=v==null?(l=c=u=d=null,Gr):no(l=+v[0][0],c=+v[0][1],u=+v[1][0],d=+v[1][1]),x()):l==null?null:[[l,c],[u,d]]},b.scale=function(v){return arguments.length?(e=+v,x()):e},b.translate=function(v){return arguments.length?(t=+v[0],n=+v[1],x()):[t,n]},b.angle=function(v){return arguments.length?(i=v%360*Y,s=O(i),o=L(i),x()):i*ae},b.reflectX=function(v){return arguments.length?(r=v?-1:1,x()):r<0},b.reflectY=function(v){return arguments.length?(a=v?-1:1,x()):a<0},b.fitExtent=function(v,w){return ro(b,v,w)},b.fitSize=function(v,w){return Ql(b,v,w)},b.fitWidth=function(v,w){return Kl(b,v,w)},b.fitHeight=function(v,w){return Jl(b,v,w)},b}function oc(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}oc.invert=function(e,t){var n=t,r=25,a;do{var i=n*n,o=i*i;n-=a=(n*(1.007226+i*(.015085+o*(-.044475+.028874*i-.005916*o)))-t)/(1.007226+i*(.015085*3+o*(-.044475*7+.028874*9*i-.005916*11*o)))}while(Q(a)>W&&--r>0);return[e/(.8707+(i=n*n)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),n]};function C5(){return vt(oc).scale(175.295)}function sc(e,t){return[L(t)*O(e),O(t)]}sc.invert=oa(Le);function A5(){return vt(sc).scale(249.5).clipAngle(90+W)}function lc(e,t){var n=L(t),r=1+L(e)*n;return[n*O(e)/r,O(t)/r]}lc.invert=oa(function(e){return 2*or(e)});function E5(){return vt(lc).scale(250).clipAngle(142)}function cc(e,t){return[oi(Gl((he+t)/2)),-e]}cc.invert=function(e,t){return[-t,2*or(jh(e))-he]};function $5(){var e=N0(cc),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function q5(e,t){return e.parent===t.parent?1:2}function N5(e){return e.reduce(F5,0)/e.length}function F5(e,t){return e+t.x}function R5(e){return 1+e.reduce(P5,0)}function P5(e,t){return Math.max(e,t.y)}function z5(e){for(var t;t=e.children;)e=t[0];return e}function I5(e){for(var t;t=e.children;)e=t[t.length-1];return e}function P0(){var e=q5,t=1,n=1,r=!1;function a(i){var o,s=0;i.eachAfter(function(f){var h=f.children;h?(f.x=N5(h),f.y=R5(h)):(f.x=o?s+=e(f,o):0,f.y=0,o=f)});var l=z5(i),c=I5(i),u=l.x-e(l,c)/2,d=c.x+e(c,l)/2;return i.eachAfter(r?function(f){f.x=(f.x-i.x)*t,f.y=(i.y-f.y)*n}:function(f){f.x=(f.x-u)/(d-u)*t,f.y=(1-(i.y?f.y/i.y:1))*n})}return a.separation=function(i){return arguments.length?(e=i,a):e},a.size=function(i){return arguments.length?(r=!1,t=+i[0],n=+i[1],a):r?null:[t,n]},a.nodeSize=function(i){return arguments.length?(r=!0,t=+i[0],n=+i[1],a):r?[t,n]:null},a}function D5(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function O5(){return this.eachAfter(D5)}function B5(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function L5(e,t){for(var n=this,r=[n],a,i,o=-1;n=r.pop();)if(e.call(t,n,++o,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}function U5(e,t){for(var n=this,r=[n],a=[],i,o,s,l=-1;n=r.pop();)if(a.push(n),i=n.children)for(o=0,s=i.length;o<s;++o)r.push(i[o]);for(;n=a.pop();)e.call(t,n,++l,this);return this}function W5(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Y5(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function H5(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function V5(e){for(var t=this,n=G5(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function G5(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function X5(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function j5(){return Array.from(this)}function Z5(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Q5(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*K5(){var e=this,t,n=[e],r,a,i;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);while(n.length)}function ao(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=t_)):t===void 0&&(t=e_);for(var n=new hn(e),r,a=[n],i,o,s,l;r=a.pop();)if((o=t(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)a.push(i=o[s]=new hn(o[s])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(z0)}function J5(){return ao(this).eachBefore(n_)}function e_(e){return e.children}function t_(e){return Array.isArray(e)?e[1]:null}function n_(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function z0(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function hn(e){this.data=e,this.depth=this.height=0,this.parent=null}hn.prototype=ao.prototype={constructor:hn,count:O5,each:B5,eachAfter:U5,eachBefore:L5,find:W5,sum:Y5,sort:H5,path:V5,ancestors:X5,descendants:j5,leaves:Z5,links:Q5,copy:J5,[Symbol.iterator]:K5};function Wa(e){return e==null?null:I0(e)}function I0(e){if(typeof e!="function")throw new Error;return e}function Kt(){return 0}function Nn(e){return function(){return e}}const r_=1664525,a_=1013904223,hf=4294967296;function uc(){let e=1;return()=>(e=(r_*e+a_)%hf)/hf}function i_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o_(e,t){let n=e.length,r,a;for(;n;)a=t()*n--|0,r=e[n],e[n]=e[a],e[a]=r;return e}function s_(e){return D0(e,uc())}function D0(e,t){for(var n=0,r=(e=o_(Array.from(e),t)).length,a=[],i,o;n<r;)i=e[n],o&&O0(o,i)?++n:(o=c_(a=l_(a,i)),n=0);return o}function l_(e,t){var n,r;if(Jo(t,e))return[t];for(n=0;n<e.length;++n)if(Ca(t,e[n])&&Jo(Cr(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Ca(Cr(e[n],e[r]),t)&&Ca(Cr(e[n],t),e[r])&&Ca(Cr(e[r],t),e[n])&&Jo(B0(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Ca(e,t){var n=e.r-t.r,r=t.x-e.x,a=t.y-e.y;return n<0||n*n<r*r+a*a}function O0(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,a=t.y-e.y;return n>0&&n*n>r*r+a*a}function Jo(e,t){for(var n=0;n<t.length;++n)if(!O0(e,t[n]))return!1;return!0}function c_(e){switch(e.length){case 1:return u_(e[0]);case 2:return Cr(e[0],e[1]);case 3:return B0(e[0],e[1],e[2])}}function u_(e){return{x:e.x,y:e.y,r:e.r}}function Cr(e,t){var n=e.x,r=e.y,a=e.r,i=t.x,o=t.y,s=t.r,l=i-n,c=o-r,u=s-a,d=Math.sqrt(l*l+c*c);return{x:(n+i+l/d*u)/2,y:(r+o+c/d*u)/2,r:(d+a+s)/2}}function B0(e,t,n){var r=e.x,a=e.y,i=e.r,o=t.x,s=t.y,l=t.r,c=n.x,u=n.y,d=n.r,f=r-o,h=r-c,m=a-s,g=a-u,p=l-i,y=d-i,x=r*r+a*a-i*i,b=x-o*o-s*s+l*l,v=x-c*c-u*u+d*d,w=h*m-f*g,_=(m*v-g*b)/(w*2)-r,C=(g*p-m*y)/w,$=(h*b-f*v)/(w*2)-a,E=(f*y-h*p)/w,A=C*C+E*E-1,M=2*(i+_*C+$*E),F=_*_+$*$-i*i,q=-(Math.abs(A)>1e-6?(M+Math.sqrt(M*M-4*A*F))/(2*A):F/M);return{x:r+_+C*q,y:a+$+E*q,r:q}}function pf(e,t,n){var r=e.x-t.x,a,i,o=e.y-t.y,s,l,c=r*r+o*o;c?(i=t.r+n.r,i*=i,l=e.r+n.r,l*=l,i>l?(a=(c+l-i)/(2*c),s=Math.sqrt(Math.max(0,l/c-a*a)),n.x=e.x-a*r-s*o,n.y=e.y-a*o+s*r):(a=(c+i-l)/(2*c),s=Math.sqrt(Math.max(0,i/c-a*a)),n.x=t.x+a*r-s*o,n.y=t.y+a*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function mf(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,a=t.y-e.y;return n>0&&n*n>r*r+a*a}function gf(e){var t=e._,n=e.next._,r=t.r+n.r,a=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return a*a+i*i}function Aa(e){this._=e,this.next=null,this.previous=null}function L0(e,t){if(!(i=(e=i_(e)).length))return 0;var n,r,a,i,o,s,l,c,u,d,f;if(n=e[0],n.x=0,n.y=0,!(i>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(i>2))return n.r+r.r;pf(r,n,a=e[2]),n=new Aa(n),r=new Aa(r),a=new Aa(a),n.next=a.previous=r,r.next=n.previous=a,a.next=r.previous=n;e:for(l=3;l<i;++l){pf(n._,r._,a=e[l]),a=new Aa(a),c=r.next,u=n.previous,d=r._.r,f=n._.r;do if(d<=f){if(mf(c._,a._)){r=c,n.next=r,r.previous=n,--l;continue e}d+=c._.r,c=c.next}else{if(mf(u._,a._)){n=u,n.next=r,r.previous=n,--l;continue e}f+=u._.r,u=u.previous}while(c!==u.next);for(a.previous=n,a.next=r,n.next=r.previous=r=a,o=gf(n);(a=a.next)!==r;)(s=gf(a))<o&&(n=a,o=s);r=n.next}for(n=[r._],a=r;(a=a.next)!==r;)n.push(a._);for(a=D0(n,t),l=0;l<i;++l)n=e[l],n.x-=a.x,n.y-=a.y;return a.r}function f_(e){return L0(e,uc()),e}function d_(e){return Math.sqrt(e.value)}function il(){var e=null,t=1,n=1,r=Kt;function a(i){const o=uc();return i.x=t/2,i.y=n/2,e?i.eachBefore(yf(e)).eachAfter(es(r,.5,o)).eachBefore(vf(1)):i.eachBefore(yf(d_)).eachAfter(es(Kt,1,o)).eachAfter(es(r,i.r/Math.min(t,n),o)).eachBefore(vf(Math.min(t,n)/(2*i.r))),i}return a.radius=function(i){return arguments.length?(e=Wa(i),a):e},a.size=function(i){return arguments.length?(t=+i[0],n=+i[1],a):[t,n]},a.padding=function(i){return arguments.length?(r=typeof i=="function"?i:Nn(+i),a):r},a}function yf(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function es(e,t,n){return function(r){if(a=r.children){var a,i,o=a.length,s=e(r)*t||0,l;if(s)for(i=0;i<o;++i)a[i].r+=s;if(l=L0(a,n),s)for(i=0;i<o;++i)a[i].r-=s;r.r=l+s}}}function vf(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function U0(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function la(e,t,n,r,a){for(var i=e.children,o,s=-1,l=i.length,c=e.value&&(r-t)/e.value;++s<l;)o=i[s],o.y0=n,o.y1=a,o.x0=t,o.x1=t+=o.value*c}function ol(){var e=1,t=1,n=0,r=!1;function a(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/s,o.eachBefore(i(t,s)),r&&o.eachBefore(U0),o}function i(o,s){return function(l){l.children&&la(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var c=l.x0,u=l.y0,d=l.x1-n,f=l.y1-n;d<c&&(c=d=(c+d)/2),f<u&&(u=f=(u+f)/2),l.x0=c,l.y0=u,l.x1=d,l.y1=f}}return a.round=function(o){return arguments.length?(r=!!o,a):r},a.size=function(o){return arguments.length?(e=+o[0],t=+o[1],a):[e,t]},a.padding=function(o){return arguments.length?(n=+o,a):n},a}var h_={depth:-1},bf={},ts={};function p_(e){return e.id}function m_(e){return e.parentId}function g_(){var e=p_,t=m_,n;function r(a){var i=Array.from(a),o=e,s=t,l,c,u,d,f,h,m,g,p=new Map;if(n!=null){const y=i.map((v,w)=>y_(n(v,w,a))),x=y.map(xf),b=new Set(y).add("");for(const v of x)b.has(v)||(b.add(v),y.push(v),x.push(xf(v)),i.push(ts));o=(v,w)=>y[w],s=(v,w)=>x[w]}for(u=0,l=i.length;u<l;++u)c=i[u],h=i[u]=new hn(c),(m=o(c,u,a))!=null&&(m+="")&&(g=h.id=m,p.set(g,p.has(g)?bf:h)),(m=s(c,u,a))!=null&&(m+="")&&(h.parent=m);for(u=0;u<l;++u)if(h=i[u],m=h.parent){if(f=p.get(m),!f)throw new Error("missing: "+m);if(f===bf)throw new Error("ambiguous: "+m);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(n!=null){for(;d.data===ts&&d.children.length===1;)d=d.children[0],--l;for(let y=i.length-1;y>=0&&(h=i[y],h.data===ts);--y)h.data=null}if(d.parent=h_,d.eachBefore(function(y){y.depth=y.parent.depth+1,--l}).eachBefore(z0),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(a){return arguments.length?(e=Wa(a),r):e},r.parentId=function(a){return arguments.length?(t=Wa(a),r):t},r.path=function(a){return arguments.length?(n=Wa(a),r):n},r}function y_(e){e=`${e}`;let t=e.length;return sl(e,t-1)&&!sl(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function xf(e){let t=e.length;if(t<2)return"";for(;--t>1&&!sl(e,t););return e.slice(0,t)}function sl(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function v_(e,t){return e.parent===t.parent?1:2}function ns(e){var t=e.children;return t?t[0]:e.t}function rs(e){var t=e.children;return t?t[t.length-1]:e.t}function b_(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function x_(e){for(var t=0,n=0,r=e.children,a=r.length,i;--a>=0;)i=r[a],i.z+=t,i.m+=t,t+=i.s+(n+=i.c)}function w_(e,t,n){return e.a.parent===t.parent?e.a:n}function Ya(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Ya.prototype=Object.create(hn.prototype);function __(e){for(var t=new Ya(e,0),n,r=[t],a,i,o,s;n=r.pop();)if(i=n._.children)for(n.children=new Array(s=i.length),o=s-1;o>=0;--o)r.push(a=n.children[o]=new Ya(i[o],o)),a.parent=n;return(t.parent=new Ya(null,0)).children=[t],t}function W0(){var e=v_,t=1,n=1,r=null;function a(c){var u=__(c);if(u.eachAfter(i),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(l);else{var d=c,f=c,h=c;c.eachBefore(function(x){x.x<d.x&&(d=x),x.x>f.x&&(f=x),x.depth>h.depth&&(h=x)});var m=d===f?1:e(d,f)/2,g=m-d.x,p=t/(f.x+m+g),y=n/(h.depth||1);c.eachBefore(function(x){x.x=(x.x+g)*p,x.y=x.depth*y})}return c}function i(c){var u=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(u){x_(c);var h=(u[0].z+u[u.length-1].z)/2;f?(c.z=f.z+e(c._,f._),c.m=c.z-h):c.z=h}else f&&(c.z=f.z+e(c._,f._));c.parent.A=s(c,f,c.parent.A||d[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,u,d){if(u){for(var f=c,h=c,m=u,g=f.parent.children[0],p=f.m,y=h.m,x=m.m,b=g.m,v;m=rs(m),f=ns(f),m&&f;)g=ns(g),h=rs(h),h.a=c,v=m.z+x-f.z-p+e(m._,f._),v>0&&(b_(w_(m,c,d),c,v),p+=v,y+=v),x+=m.m,p+=f.m,b+=g.m,y+=h.m;m&&!rs(h)&&(h.t=m,h.m+=x-y),f&&!ns(g)&&(g.t=f,g.m+=p-b,d=c)}return d}function l(c){c.x*=t,c.y=c.depth*n}return a.separation=function(c){return arguments.length?(e=c,a):e},a.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],a):r?null:[t,n]},a.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],a):r?[t,n]:null},a}function io(e,t,n,r,a){for(var i=e.children,o,s=-1,l=i.length,c=e.value&&(a-n)/e.value;++s<l;)o=i[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var Y0=(1+Math.sqrt(5))/2;function H0(e,t,n,r,a,i){for(var o=[],s=t.children,l,c,u=0,d=0,f=s.length,h,m,g=t.value,p,y,x,b,v,w,_;u<f;){h=a-n,m=i-r;do p=s[d++].value;while(!p&&d<f);for(y=x=p,w=Math.max(m/h,h/m)/(g*e),_=p*p*w,v=Math.max(x/_,_/y);d<f;++d){if(p+=c=s[d].value,c<y&&(y=c),c>x&&(x=c),_=p*p*w,b=Math.max(x/_,_/y),b>v){p-=c;break}v=b}o.push(l={value:p,dice:h<m,children:s.slice(u,d)}),l.dice?la(l,n,r,a,g?r+=m*p/g:i):io(l,n,r,g?n+=h*p/g:a,i),g-=p,u=d}return o}const V0=function e(t){function n(r,a,i,o,s){H0(t,r,a,i,o,s)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Y0);function ll(){var e=V0,t=!1,n=1,r=1,a=[0],i=Kt,o=Kt,s=Kt,l=Kt,c=Kt;function u(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),a=[0],t&&f.eachBefore(U0),f}function d(f){var h=a[f.depth],m=f.x0+h,g=f.y0+h,p=f.x1-h,y=f.y1-h;p<m&&(m=p=(m+p)/2),y<g&&(g=y=(g+y)/2),f.x0=m,f.y0=g,f.x1=p,f.y1=y,f.children&&(h=a[f.depth+1]=i(f)/2,m+=c(f)-h,g+=o(f)-h,p-=s(f)-h,y-=l(f)-h,p<m&&(m=p=(m+p)/2),y<g&&(g=y=(g+y)/2),e(f,m,g,p,y))}return u.round=function(f){return arguments.length?(t=!!f,u):t},u.size=function(f){return arguments.length?(n=+f[0],r=+f[1],u):[n,r]},u.tile=function(f){return arguments.length?(e=I0(f),u):e},u.padding=function(f){return arguments.length?u.paddingInner(f).paddingOuter(f):u.paddingInner()},u.paddingInner=function(f){return arguments.length?(i=typeof f=="function"?f:Nn(+f),u):i},u.paddingOuter=function(f){return arguments.length?u.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):u.paddingTop()},u.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:Nn(+f),u):o},u.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:Nn(+f),u):s},u.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:Nn(+f),u):l},u.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:Nn(+f),u):c},u}function k_(e,t,n,r,a){var i=e.children,o,s=i.length,l,c=new Array(s+1);for(c[0]=l=o=0;o<s;++o)c[o+1]=l+=i[o].value;u(0,s,e.value,t,n,r,a);function u(d,f,h,m,g,p,y){if(d>=f-1){var x=i[d];x.x0=m,x.y0=g,x.x1=p,x.y1=y;return}for(var b=c[d],v=h/2+b,w=d+1,_=f-1;w<_;){var C=w+_>>>1;c[C]<v?w=C+1:_=C}v-c[w-1]<c[w]-v&&d+1<w&&--w;var $=c[w]-b,E=h-$;if(p-m>y-g){var A=h?(m*E+p*$)/h:p;u(d,w,$,m,g,A,y),u(w,f,E,A,g,p,y)}else{var M=h?(g*E+y*$)/h:y;u(d,w,$,m,g,p,M),u(w,f,E,m,M,p,y)}}}function M_(e,t,n,r,a){(e.depth&1?io:la)(e,t,n,r,a)}const S_=function e(t){function n(r,a,i,o,s){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,d,f=-1,h,m=l.length,g=r.value;++f<m;){for(c=l[f],u=c.children,d=c.value=0,h=u.length;d<h;++d)c.value+=u[d].value;c.dice?la(c,a,i,o,g?i+=(s-i)*c.value/g:s):io(c,a,i,g?a+=(o-a)*c.value/g:o,s),g-=c.value}else r._squarify=l=H0(t,r,a,i,o,s),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Y0);function T_(e){for(var t=-1,n=e.length,r,a=e[n-1],i=0;++t<n;)r=a,a=e[t],i+=r[1]*a[0]-r[0]*a[1];return i/2}function C_(e){for(var t=-1,n=e.length,r=0,a=0,i,o=e[n-1],s,l=0;++t<n;)i=o,o=e[t],l+=s=i[0]*o[1]-o[0]*i[1],r+=(i[0]+o[0])*s,a+=(i[1]+o[1])*s;return l*=3,[r/l,a/l]}function A_(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function E_(e,t){return e[0]-t[0]||e[1]-t[1]}function wf(e){const t=e.length,n=[0,1];let r=2,a;for(a=2;a<t;++a){for(;r>1&&A_(e[n[r-2]],e[n[r-1]],e[a])<=0;)--r;n[r++]=a}return n.slice(0,r)}function $_(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),a=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(E_),t=0;t<n;++t)a[t]=[r[t][0],-r[t][1]];var i=wf(r),o=wf(a),s=o[0]===i[0],l=o[o.length-1]===i[i.length-1],c=[];for(t=i.length-1;t>=0;--t)c.push(e[r[i[t]][2]]);for(t=+s;t<o.length-l;++t)c.push(e[r[o[t]][2]]);return c}function q_(e,t){for(var n=e.length,r=e[n-1],a=t[0],i=t[1],o=r[0],s=r[1],l,c,u=!1,d=0;d<n;++d)r=e[d],l=r[0],c=r[1],c>i!=s>i&&a<(o-l)*(i-c)/(s-c)+l&&(u=!u),o=l,s=c;return u}function N_(e){for(var t=-1,n=e.length,r=e[n-1],a,i,o=r[0],s=r[1],l=0;++t<n;)a=o,i=s,r=e[t],o=r[0],s=r[1],a-=o,i-=s,l+=Math.hypot(a,i);return l}const Me=Math.random,F_=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,arguments.length===1?(a=r,r=0):a-=r,function(){return t()*a+r}}return n.source=e,n}(Me),R_=function e(t){function n(r,a){return arguments.length<2&&(a=r,r=0),r=Math.floor(r),a=Math.floor(a)-r,function(){return Math.floor(t()*a+r)}}return n.source=e,n}(Me),fc=function e(t){function n(r,a){var i,o;return r=r==null?0:+r,a=a==null?1:+a,function(){var s;if(i!=null)s=i,i=null;else do i=t()*2-1,s=t()*2-1,o=i*i+s*s;while(!o||o>1);return r+a*s*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(Me),P_=function e(t){var n=fc.source(t);function r(){var a=n.apply(this,arguments);return function(){return Math.exp(a())}}return r.source=e,r}(Me),G0=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var a=0,i=r;i>1;--i)a+=t();return a+i*t()}}return n.source=e,n}(Me),z_=function e(t){var n=G0.source(t);function r(a){if((a=+a)==0)return t;var i=n(a);return function(){return i()/a}}return r.source=e,r}(Me),I_=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(Me),D_=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(Me),O_=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(Me),X0=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(Me),dc=function e(t){var n=fc.source(t)();function r(a,i){if((a=+a)<0)throw new RangeError("invalid k");if(a===0)return()=>0;if(i=i==null?1:+i,a===1)return()=>-Math.log1p(-t())*i;var o=(a<1?a+1:a)-1/3,s=1/(3*Math.sqrt(o)),l=a<1?()=>Math.pow(t(),1/a):()=>1;return function(){do{do var c=n(),u=1+s*c;while(u<=0);u*=u*u;var d=1-t()}while(d>=1-.0331*c*c*c*c&&Math.log(d)>=.5*c*c+o*(1-u+Math.log(u)));return o*u*l()*i}}return r.source=e,r}(Me),j0=function e(t){var n=dc.source(t);function r(a,i){var o=n(a),s=n(i);return function(){var l=o();return l===0?0:l/(l+s())}}return r.source=e,r}(Me),Z0=function e(t){var n=X0.source(t),r=j0.source(t);function a(i,o){return i=+i,(o=+o)>=1?()=>i:o<=0?()=>0:function(){for(var s=0,l=i,c=o;l*c>16&&l*(1-c)>16;){var u=Math.floor((l+1)*c),d=r(u,l-u+1)();d<=c?(s+=u,l-=u,c=(c-d)/(1-d)):(l=u-1,c/=d)}for(var f=c<.5,h=f?c:1-c,m=n(h),g=m(),p=0;g<=l;++p)g+=m();return s+(f?p:l-p)}}return a.source=e,a}(Me),B_=function e(t){function n(r,a,i){var o;return(r=+r)==0?o=s=>-Math.log(s):(r=1/r,o=s=>Math.pow(s,r)),a=a==null?0:+a,i=i==null?1:+i,function(){return a+i*o(-Math.log1p(-t()))}}return n.source=e,n}(Me),L_=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){return r+a*Math.tan(Math.PI*t())}}return n.source=e,n}(Me),U_=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){var i=t();return r+a*Math.log(i/(1-i))}}return n.source=e,n}(Me),W_=function e(t){var n=dc.source(t),r=Z0.source(t);function a(i){return function(){for(var o=0,s=i;s>16;){var l=Math.floor(.875*s),c=n(l)();if(c>s)return o+r(l-1,s/c)();o+=l,s-=c}for(var u=-Math.log1p(-t()),d=0;u<=s;++d)u-=Math.log1p(-t());return o+d}}return a.source=e,a}(Me),Y_=1664525,H_=1013904223,_f=1/4294967296;function V_(e=Math.random()){let t=(0<=e&&e<1?e/_f:Math.abs(e))|0;return()=>(t=Y_*t+H_|0,_f*(t>>>0))}function tt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qt(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const cl=Symbol("implicit");function oo(){var e=new Pr,t=[],n=[],r=cl;function a(i){let o=e.get(i);if(o===void 0){if(r!==cl)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Pr;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return oo(t,n).unknown(r)},tt.apply(a,arguments),a}function so(){var e=oo().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,h=a<r,m=h?a:r,g=h?r:a;i=(g-m)/Math.max(1,f-l+c*2),s&&(i=Math.floor(i)),m+=(g-m-i*(f-l))*u,o=i*(1-l),s&&(m=Math.round(m),o=Math.round(o));var p=Pt(f).map(function(y){return m+i*y});return n(h?p.reverse():p)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,d()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(s=!!f,d()):s},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return so(t(),[r,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},tt.apply(d(),arguments)}function Q0(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Q0(t())},e}function K0(){return Q0(so.apply(null,arguments).paddingInner(1))}function G_(e){return function(){return e}}function Ei(e){return+e}var kf=[0,1];function Ie(e){return e}function ul(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:G_(isNaN(t)?NaN:.5)}function X_(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function j_(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=ul(a,r),i=n(o,i)):(r=ul(r,a),i=n(i,o)),function(s){return i(r(s))}}function Z_(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=ul(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=Ot(e,s,1,r)-1;return i[l](a[l](s))}}function ca(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lo(){var e=kf,t=kf,n=Ht,r,a,i,o=Ie,s,l,c;function u(){var f=Math.min(e.length,t.length);return o!==Ie&&(o=X_(e[0],e[f-1])),s=f>2?Z_:j_,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?i:(l||(l=s(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(a((c||(c=s(t,e.map(r),Qe)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Ei),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=Vi,u()},d.clamp=function(f){return arguments.length?(o=f?!0:Ie,u()):o!==Ie},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(i=f,d):i},function(f,h){return r=f,a=h,u()}}function hc(){return lo()(Ie,Ie)}function J0(e,t,n,r){var a=Xa(e,t,n),i;switch(r=Xn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Gh(a,o))&&(r.precision=i),Vl(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Xh(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Vh(a))&&(r.precision=i-(r.type==="%")*2);break}}return to(r)}function Vt(e){var t=e.domain;return e.ticks=function(n){var r=t();return on(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return J0(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);u-- >0;){if(c=sn(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function $i(){var e=hc();return e.copy=function(){return ca(e,$i())},tt.apply(e,arguments),Vt(e)}function pc(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ei),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return pc(e).unknown(t)},e=arguments.length?Array.from(e,Ei):[0,1],Vt(n)}function ep(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Mf(e){return Math.log(e)}function Sf(e){return Math.exp(e)}function Q_(e){return-Math.log(-e)}function K_(e){return-Math.exp(-e)}function J_(e){return isFinite(e)?+("1e"+e):e<0?0:e}function e3(e){return e===10?J_:e===Math.E?Math.exp:t=>Math.pow(e,t)}function t3(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Tf(e){return(t,n)=>-e(-t,n)}function mc(e){const t=e(Mf,Sf),n=t.domain;let r=10,a,i;function o(){return a=t3(r),i=e3(r),n()[0]<0?(a=Tf(a),i=Tf(i),e(Q_,K_)):e(Mf,Sf),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=a(c),h=a(u),m,g;const p=s==null?10:+s;let y=[];if(!(r%1)&&h-f<p){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(m=1;m<r;++m)if(g=f<0?m/i(-f):m*i(f),!(g<c)){if(g>u)break;y.push(g)}}else for(;f<=h;++f)for(m=r-1;m>=1;--m)if(g=f>0?m/i(-f):m*i(f),!(g<c)){if(g>u)break;y.push(g)}y.length*2<p&&(y=on(c,u,p))}else y=on(f,h,Math.min(h-f,p)).map(i);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Xn(l)).precision==null&&(l.trim=!0),l=to(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return u=>{let d=u/i(Math.round(a(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},t.nice=()=>n(ep(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function gc(){const e=mc(lo()).domain([1,10]);return e.copy=()=>ca(e,gc()).base(e.base()),tt.apply(e,arguments),e}function Cf(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Af(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yc(e){var t=1,n=e(Cf(t),Af(t));return n.constant=function(r){return arguments.length?e(Cf(t=+r),Af(t)):t},Vt(n)}function tp(){var e=yc(lo());return e.copy=function(){return ca(e,tp()).constant(e.constant())},tt.apply(e,arguments)}function Ef(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function n3(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function r3(e){return e<0?-e*e:e*e}function vc(e){var t=e(Ie,Ie),n=1;function r(){return n===1?e(Ie,Ie):n===.5?e(n3,r3):e(Ef(n),Ef(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Vt(t)}function co(){var e=vc(lo());return e.copy=function(){return ca(e,co()).exponent(e.exponent())},tt.apply(e,arguments),e}function np(){return co.apply(null,arguments).exponent(.5)}function $f(e){return Math.sign(e)*e*e}function a3(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function bc(){var e=hc(),t=[0,1],n=!1,r;function a(i){var o=a3(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert($f(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ei)).map($f)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return bc(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},tt.apply(a,arguments),Vt(a)}function xc(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=vd(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Ot(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(se),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return xc().domain(e).range(t).unknown(r)},tt.apply(i,arguments)}function wc(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Ot(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return wc().domain([e,t]).range(a).unknown(i)},tt.apply(Vt(o),arguments)}function _c(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Ot(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _c().domain(e).range(t).unknown(n)},tt.apply(a,arguments)}const as=new Date,is=new Date;function ge(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>ge(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(as.setTime(+i),is.setTime(+o),e(as),e(is),Math.floor(n(as,is))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Kn=ge(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ge(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Kn);const qf=Kn.range,St=1e3,et=St*60,Tt=et*60,$t=Tt*24,kc=$t*7,Nf=$t*30,os=$t*365,Ct=ge(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*St)},(e,t)=>(t-e)/St,e=>e.getUTCSeconds()),Ff=Ct.range,uo=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*St)},(e,t)=>{e.setTime(+e+t*et)},(e,t)=>(t-e)/et,e=>e.getMinutes()),i3=uo.range,fo=ge(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*et)},(e,t)=>(t-e)/et,e=>e.getUTCMinutes()),o3=fo.range,ho=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*St-e.getMinutes()*et)},(e,t)=>{e.setTime(+e+t*Tt)},(e,t)=>(t-e)/Tt,e=>e.getHours()),s3=ho.range,po=ge(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tt)},(e,t)=>(t-e)/Tt,e=>e.getUTCHours()),l3=po.range,sr=ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*et)/$t,e=>e.getDate()-1),c3=sr.range,ua=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$t,e=>e.getUTCDate()-1),u3=ua.range,Mc=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$t,e=>Math.floor(e/$t)),f3=Mc.range;function xn(e){return ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*et)/kc)}const Jn=xn(0),Qr=xn(1),rp=xn(2),ap=xn(3),pn=xn(4),ip=xn(5),op=xn(6),Rf=Jn.range,h3=Qr.range,p3=rp.range,m3=ap.range,g3=pn.range,y3=ip.range,v3=op.range;function wn(e){return ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/kc)}const er=wn(0),Kr=wn(1),sp=wn(2),lp=wn(3),mn=wn(4),cp=wn(5),up=wn(6),Pf=er.range,b3=Kr.range,x3=sp.range,w3=lp.range,_3=mn.range,k3=cp.range,M3=up.range,mo=ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),S3=mo.range,go=ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),T3=go.range,mt=ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());mt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});const C3=mt.range,gt=ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});const A3=gt.range;function fp(e,t,n,r,a,i){const o=[[Ct,1,St],[Ct,5,5*St],[Ct,15,15*St],[Ct,30,30*St],[i,1,et],[i,5,5*et],[i,15,15*et],[i,30,30*et],[a,1,Tt],[a,3,3*Tt],[a,6,6*Tt],[a,12,12*Tt],[r,1,$t],[r,2,2*$t],[n,1,kc],[t,1,Nf],[t,3,3*Nf],[e,1,os]];function s(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:l(c,u,d),m=h?h.range(c,+u+1):[];return f?m.reverse():m}function l(c,u,d){const f=Math.abs(u-c)/d,h=Pi(([,,p])=>p).right(o,f);if(h===o.length)return e.every(Xa(c/os,u/os,d));if(h===0)return Kn.every(Math.max(Xa(c,u,d),1));const[m,g]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return m.every(g)}return[s,l]}const[dp,hp]=fp(gt,go,er,Mc,po,fo),[pp,mp]=fp(mt,mo,Jn,sr,ho,uo);function ss(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ls(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function gp(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=pr(a),u=mr(a),d=pr(i),f=mr(i),h=pr(o),m=mr(o),g=pr(s),p=mr(s),y=pr(l),x=mr(l),b={a:N,A:P,b:R,B:I,c:null,d:Lf,e:Lf,f:Q3,g:s8,G:c8,H:X3,I:j3,j:Z3,L:yp,m:K3,M:J3,p:B,q:U,Q:Yf,s:Hf,S:e8,u:t8,U:n8,V:r8,w:a8,W:i8,x:null,X:null,y:o8,Y:l8,Z:u8,"%":Wf},v={a:ne,A:J,b:K,B:me,c:null,d:Uf,e:Uf,f:p8,g:M8,G:T8,H:f8,I:d8,j:h8,L:bp,m:m8,M:g8,p:ee,q:pe,Q:Yf,s:Hf,S:y8,u:v8,U:b8,V:x8,w:w8,W:_8,x:null,X:null,y:k8,Y:S8,Z:C8,"%":Wf},w={a:A,A:M,b:F,B:q,c:k,d:Of,e:Of,f:Y3,g:Df,G:If,H:Bf,I:Bf,j:B3,L:W3,m:O3,M:L3,p:E,q:D3,Q:V3,s:G3,S:U3,u:F3,U:R3,V:P3,w:N3,W:z3,x:T,X:S,y:Df,Y:If,Z:I3,"%":H3};b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),v.x=_(n,v),v.X=_(r,v),v.c=_(t,v);function _(D,V){return function(j){var z=[],ue=-1,re=0,$e=D.length,qe,H,fe;for(j instanceof Date||(j=new Date(+j));++ue<$e;)D.charCodeAt(ue)===37&&(z.push(D.slice(re,ue)),(H=zf[qe=D.charAt(++ue)])!=null?qe=D.charAt(++ue):H=qe==="e"?" ":"0",(fe=V[qe])&&(qe=fe(j,H)),z.push(qe),re=ue+1);return z.push(D.slice(re,ue)),z.join("")}}function C(D,V){return function(j){var z=hr(1900,void 0,1),ue=$(z,D,j+="",0),re,$e;if(ue!=j.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(V&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(re=ls(hr(z.y,0,1)),$e=re.getUTCDay(),re=$e>4||$e===0?Kr.ceil(re):Kr(re),re=ua.offset(re,(z.V-1)*7),z.y=re.getUTCFullYear(),z.m=re.getUTCMonth(),z.d=re.getUTCDate()+(z.w+6)%7):(re=ss(hr(z.y,0,1)),$e=re.getDay(),re=$e>4||$e===0?Qr.ceil(re):Qr(re),re=sr.offset(re,(z.V-1)*7),z.y=re.getFullYear(),z.m=re.getMonth(),z.d=re.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),$e="Z"in z?ls(hr(z.y,0,1)).getUTCDay():ss(hr(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-($e+5)%7:z.w+z.U*7-($e+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,ls(z)):ss(z)}}function $(D,V,j,z){for(var ue=0,re=V.length,$e=j.length,qe,H;ue<re;){if(z>=$e)return-1;if(qe=V.charCodeAt(ue++),qe===37){if(qe=V.charAt(ue++),H=w[qe in zf?V.charAt(ue++):qe],!H||(z=H(D,j,z))<0)return-1}else if(qe!=j.charCodeAt(z++))return-1}return z}function E(D,V,j){var z=c.exec(V.slice(j));return z?(D.p=u.get(z[0].toLowerCase()),j+z[0].length):-1}function A(D,V,j){var z=h.exec(V.slice(j));return z?(D.w=m.get(z[0].toLowerCase()),j+z[0].length):-1}function M(D,V,j){var z=d.exec(V.slice(j));return z?(D.w=f.get(z[0].toLowerCase()),j+z[0].length):-1}function F(D,V,j){var z=y.exec(V.slice(j));return z?(D.m=x.get(z[0].toLowerCase()),j+z[0].length):-1}function q(D,V,j){var z=g.exec(V.slice(j));return z?(D.m=p.get(z[0].toLowerCase()),j+z[0].length):-1}function k(D,V,j){return $(D,t,V,j)}function T(D,V,j){return $(D,n,V,j)}function S(D,V,j){return $(D,r,V,j)}function N(D){return o[D.getDay()]}function P(D){return i[D.getDay()]}function R(D){return l[D.getMonth()]}function I(D){return s[D.getMonth()]}function B(D){return a[+(D.getHours()>=12)]}function U(D){return 1+~~(D.getMonth()/3)}function ne(D){return o[D.getUTCDay()]}function J(D){return i[D.getUTCDay()]}function K(D){return l[D.getUTCMonth()]}function me(D){return s[D.getUTCMonth()]}function ee(D){return a[+(D.getUTCHours()>=12)]}function pe(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var V=_(D+="",b);return V.toString=function(){return D},V},parse:function(D){var V=C(D+="",!1);return V.toString=function(){return D},V},utcFormat:function(D){var V=_(D+="",v);return V.toString=function(){return D},V},utcParse:function(D){var V=C(D+="",!0);return V.toString=function(){return D},V}}}var zf={"-":"",_:" ",0:"0"},_e=/^\s*\d+/,E3=/^%/,$3=/[\\^$*+?|[\]().{}]/g;function te(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function q3(e){return e.replace($3,"\\$&")}function pr(e){return new RegExp("^(?:"+e.map(q3).join("|")+")","i")}function mr(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function N3(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function F3(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function R3(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function P3(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function z3(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function If(e,t,n){var r=_e.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Df(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function I3(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function D3(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function O3(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Of(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function B3(e,t,n){var r=_e.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Bf(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function L3(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function U3(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function W3(e,t,n){var r=_e.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Y3(e,t,n){var r=_e.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function H3(e,t,n){var r=E3.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function V3(e,t,n){var r=_e.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function G3(e,t,n){var r=_e.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Lf(e,t){return te(e.getDate(),t,2)}function X3(e,t){return te(e.getHours(),t,2)}function j3(e,t){return te(e.getHours()%12||12,t,2)}function Z3(e,t){return te(1+sr.count(mt(e),e),t,3)}function yp(e,t){return te(e.getMilliseconds(),t,3)}function Q3(e,t){return yp(e,t)+"000"}function K3(e,t){return te(e.getMonth()+1,t,2)}function J3(e,t){return te(e.getMinutes(),t,2)}function e8(e,t){return te(e.getSeconds(),t,2)}function t8(e){var t=e.getDay();return t===0?7:t}function n8(e,t){return te(Jn.count(mt(e)-1,e),t,2)}function vp(e){var t=e.getDay();return t>=4||t===0?pn(e):pn.ceil(e)}function r8(e,t){return e=vp(e),te(pn.count(mt(e),e)+(mt(e).getDay()===4),t,2)}function a8(e){return e.getDay()}function i8(e,t){return te(Qr.count(mt(e)-1,e),t,2)}function o8(e,t){return te(e.getFullYear()%100,t,2)}function s8(e,t){return e=vp(e),te(e.getFullYear()%100,t,2)}function l8(e,t){return te(e.getFullYear()%1e4,t,4)}function c8(e,t){var n=e.getDay();return e=n>=4||n===0?pn(e):pn.ceil(e),te(e.getFullYear()%1e4,t,4)}function u8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+te(t/60|0,"0",2)+te(t%60,"0",2)}function Uf(e,t){return te(e.getUTCDate(),t,2)}function f8(e,t){return te(e.getUTCHours(),t,2)}function d8(e,t){return te(e.getUTCHours()%12||12,t,2)}function h8(e,t){return te(1+ua.count(gt(e),e),t,3)}function bp(e,t){return te(e.getUTCMilliseconds(),t,3)}function p8(e,t){return bp(e,t)+"000"}function m8(e,t){return te(e.getUTCMonth()+1,t,2)}function g8(e,t){return te(e.getUTCMinutes(),t,2)}function y8(e,t){return te(e.getUTCSeconds(),t,2)}function v8(e){var t=e.getUTCDay();return t===0?7:t}function b8(e,t){return te(er.count(gt(e)-1,e),t,2)}function xp(e){var t=e.getUTCDay();return t>=4||t===0?mn(e):mn.ceil(e)}function x8(e,t){return e=xp(e),te(mn.count(gt(e),e)+(gt(e).getUTCDay()===4),t,2)}function w8(e){return e.getUTCDay()}function _8(e,t){return te(Kr.count(gt(e)-1,e),t,2)}function k8(e,t){return te(e.getUTCFullYear()%100,t,2)}function M8(e,t){return e=xp(e),te(e.getUTCFullYear()%100,t,2)}function S8(e,t){return te(e.getUTCFullYear()%1e4,t,4)}function T8(e,t){var n=e.getUTCDay();return e=n>=4||n===0?mn(e):mn.ceil(e),te(e.getUTCFullYear()%1e4,t,4)}function C8(){return"+0000"}function Wf(){return"%"}function Yf(e){return+e}function Hf(e){return Math.floor(+e/1e3)}var qn,Sc,wp,yo,Tc;_p({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _p(e){return qn=gp(e),Sc=qn.format,wp=qn.parse,yo=qn.utcFormat,Tc=qn.utcParse,qn}var kp="%Y-%m-%dT%H:%M:%S.%LZ";function A8(e){return e.toISOString()}var E8=Date.prototype.toISOString?A8:yo(kp);function $8(e){var t=new Date(e);return isNaN(t)?null:t}var q8=+new Date("2000-01-01T00:00:00.000Z")?$8:Tc(kp);function N8(e){return new Date(e)}function F8(e){return e instanceof Date?+e:+new Date(+e)}function Cc(e,t,n,r,a,i,o,s,l,c){var u=hc(),d=u.invert,f=u.domain,h=c(".%L"),m=c(":%S"),g=c("%I:%M"),p=c("%I %p"),y=c("%a %d"),x=c("%b %d"),b=c("%B"),v=c("%Y");function w(_){return(l(_)<_?h:s(_)<_?m:o(_)<_?g:i(_)<_?p:r(_)<_?a(_)<_?y:x:n(_)<_?b:v)(_)}return u.invert=function(_){return new Date(d(_))},u.domain=function(_){return arguments.length?f(Array.from(_,F8)):f().map(N8)},u.ticks=function(_){var C=f();return e(C[0],C[C.length-1],_??10)},u.tickFormat=function(_,C){return C==null?w:c(C)},u.nice=function(_){var C=f();return(!_||typeof _.range!="function")&&(_=t(C[0],C[C.length-1],_??10)),_?f(ep(C,_)):u},u.copy=function(){return ca(u,Cc(e,t,n,r,a,i,o,s,l,c))},u}function Mp(){return tt.apply(Cc(pp,mp,mt,mo,Jn,sr,ho,uo,Ct,Sc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sp(){return tt.apply(Cc(dp,hp,gt,go,er,ua,po,fo,Ct,yo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vo(){var e=0,t=1,n,r,a,i,o=Ie,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(a===0?.5:(d=(i(d)-n)*a,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(f){var h,m;return arguments.length?([h,m]=f,o=d(h,m),c):[o(0),o(1)]}}return c.range=u(Ht),c.rangeRound=u(Vi),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return i=d,n=d(e),r=d(t),a=n===r?0:1/(r-n),c}}function Gt(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ac(){var e=Vt(vo()(Ie));return e.copy=function(){return Gt(e,Ac())},qt.apply(e,arguments)}function Tp(){var e=mc(vo()).domain([1,10]);return e.copy=function(){return Gt(e,Tp()).base(e.base())},qt.apply(e,arguments)}function Cp(){var e=yc(vo());return e.copy=function(){return Gt(e,Cp()).constant(e.constant())},qt.apply(e,arguments)}function Ec(){var e=vc(vo());return e.copy=function(){return Gt(e,Ec()).exponent(e.exponent())},qt.apply(e,arguments)}function R8(){return Ec.apply(null,arguments).exponent(.5)}function Ap(){var e=[],t=Ie;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ot(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(se),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Ir(e,i/r))},n.copy=function(){return Ap(t).domain(e)},qt.apply(n,arguments)}function bo(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,c=Ie,u,d=!1,f;function h(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-i)*(r*g<r*i?s:l),c(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,a=u(e=+e),i=u(t=+t),o=u(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function m(g){return function(p){var y,x,b;return arguments.length?([y,x,b]=p,c=ph(g,[y,x,b]),h):[c(0),c(.5),c(1)]}}return h.range=m(Ht),h.rangeRound=m(Vi),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return u=g,a=g(e),i=g(t),o=g(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,h}}function $c(){var e=Vt(bo()(Ie));return e.copy=function(){return Gt(e,$c())},qt.apply(e,arguments)}function Ep(){var e=mc(bo()).domain([.1,1,10]);return e.copy=function(){return Gt(e,Ep()).base(e.base())},qt.apply(e,arguments)}function $p(){var e=yc(bo());return e.copy=function(){return Gt(e,$p()).constant(e.constant())},qt.apply(e,arguments)}function qc(){var e=vc(bo());return e.copy=function(){return Gt(e,qc()).exponent(e.exponent())},qt.apply(e,arguments)}function P8(){return qc.apply(null,arguments).exponent(.5)}function X(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const z8=X("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),I8=X("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),D8=X("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),O8=X("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),B8=X("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),L8=X("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),U8=X("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),W8=X("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Y8=X("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),H8=X("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),V8=X("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ie=e=>th(e[e.length-1]);var qp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(X);const G8=ie(qp);var Np=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(X);const X8=ie(Np);var Fp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(X);const j8=ie(Fp);var Rp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(X);const Z8=ie(Rp);var Pp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(X);const Q8=ie(Pp);var zp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(X);const K8=ie(zp);var Ip=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(X);const J8=ie(Ip);var Dp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(X);const e4=ie(Dp);var Op=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(X);const t4=ie(Op);var Bp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(X);const n4=ie(Bp);var Lp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(X);const r4=ie(Lp);var Up=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(X);const a4=ie(Up);var Wp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(X);const i4=ie(Wp);var Yp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(X);const o4=ie(Yp);var Hp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(X);const s4=ie(Hp);var Vp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(X);const l4=ie(Vp);var Gp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(X);const c4=ie(Gp);var Xp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(X);const u4=ie(Xp);var jp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(X);const f4=ie(jp);var Zp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(X);const d4=ie(Zp);var Qp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(X);const h4=ie(Qp);var Kp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(X);const p4=ie(Kp);var Jp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(X);const m4=ie(Jp);var em=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(X);const g4=ie(em);var tm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(X);const y4=ie(tm);var nm=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(X);const v4=ie(nm);var rm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(X);const b4=ie(rm);function x4(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const w4=Gi(ot(300,.5,0),ot(-240,.5,1));var _4=Gi(ot(-100,.75,.35),ot(80,1.5,.8)),k4=Gi(ot(260,.75,.35),ot(80,1.5,.8)),Ea=ot();function M4(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ea.h=360*e-100,Ea.s=1.5-1.5*t,Ea.l=.8-.9*t,Ea+""}var $a=Yn(),S4=Math.PI/3,T4=Math.PI*2/3;function C4(e){var t;return e=(.5-e)*Math.PI,$a.r=255*(t=Math.sin(e))*t,$a.g=255*(t=Math.sin(e+S4))*t,$a.b=255*(t=Math.sin(e+T4))*t,$a+""}function A4(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function xo(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const E4=xo(X("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var $4=xo(X("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),q4=xo(X("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),N4=xo(X("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function G(e){return function(){return e}}const Vf=Math.abs,Ae=Math.atan2,_t=Math.cos,F4=Math.max,On=Math.min,Ye=Math.sin,oe=Math.sqrt,Ee=1e-12,Ut=Math.PI,qi=Ut/2,Dt=2*Ut;function R4(e){return e>1?0:e<-1?Ut:Math.acos(e)}function Gf(e){return e>=1?qi:e<=-1?-qi:Math.asin(e)}function fa(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new na(t)}function P4(e){return e.innerRadius}function z4(e){return e.outerRadius}function I4(e){return e.startAngle}function D4(e){return e.endAngle}function O4(e){return e&&e.padAngle}function B4(e,t,n,r,a,i,o,s){var l=n-e,c=r-t,u=o-a,d=s-i,f=d*l-u*c;if(!(f*f<Ee))return f=(u*(t-i)-d*(e-a))/f,[e+f*l,t+f*c]}function qa(e,t,n,r,a,i,o){var s=e-n,l=t-r,c=(o?i:-i)/oe(s*s+l*l),u=c*l,d=-c*s,f=e+u,h=t+d,m=n+u,g=r+d,p=(f+m)/2,y=(h+g)/2,x=m-f,b=g-h,v=x*x+b*b,w=a-i,_=f*g-m*h,C=(b<0?-1:1)*oe(F4(0,w*w*v-_*_)),$=(_*b-x*C)/v,E=(-_*x-b*C)/v,A=(_*b+x*C)/v,M=(-_*x+b*C)/v,F=$-p,q=E-y,k=A-p,T=M-y;return F*F+q*q>k*k+T*T&&($=A,E=M),{cx:$,cy:E,x01:-u,y01:-d,x11:$*(a/w-1),y11:E*(a/w-1)}}function fl(){var e=P4,t=z4,n=G(0),r=null,a=I4,i=D4,o=O4,s=null,l=fa(c);function c(){var u,d,f=+e.apply(this,arguments),h=+t.apply(this,arguments),m=a.apply(this,arguments)-qi,g=i.apply(this,arguments)-qi,p=Vf(g-m),y=g>m;if(s||(s=u=l()),h<f&&(d=h,h=f,f=d),!(h>Ee))s.moveTo(0,0);else if(p>Dt-Ee)s.moveTo(h*_t(m),h*Ye(m)),s.arc(0,0,h,m,g,!y),f>Ee&&(s.moveTo(f*_t(g),f*Ye(g)),s.arc(0,0,f,g,m,y));else{var x=m,b=g,v=m,w=g,_=p,C=p,$=o.apply(this,arguments)/2,E=$>Ee&&(r?+r.apply(this,arguments):oe(f*f+h*h)),A=On(Vf(h-f)/2,+n.apply(this,arguments)),M=A,F=A,q,k;if(E>Ee){var T=Gf(E/f*Ye($)),S=Gf(E/h*Ye($));(_-=T*2)>Ee?(T*=y?1:-1,v+=T,w-=T):(_=0,v=w=(m+g)/2),(C-=S*2)>Ee?(S*=y?1:-1,x+=S,b-=S):(C=0,x=b=(m+g)/2)}var N=h*_t(x),P=h*Ye(x),R=f*_t(w),I=f*Ye(w);if(A>Ee){var B=h*_t(b),U=h*Ye(b),ne=f*_t(v),J=f*Ye(v),K;if(p<Ut)if(K=B4(N,P,ne,J,B,U,R,I)){var me=N-K[0],ee=P-K[1],pe=B-K[0],D=U-K[1],V=1/Ye(R4((me*pe+ee*D)/(oe(me*me+ee*ee)*oe(pe*pe+D*D)))/2),j=oe(K[0]*K[0]+K[1]*K[1]);M=On(A,(f-j)/(V-1)),F=On(A,(h-j)/(V+1))}else M=F=0}C>Ee?F>Ee?(q=qa(ne,J,N,P,h,F,y),k=qa(B,U,R,I,h,F,y),s.moveTo(q.cx+q.x01,q.cy+q.y01),F<A?s.arc(q.cx,q.cy,F,Ae(q.y01,q.x01),Ae(k.y01,k.x01),!y):(s.arc(q.cx,q.cy,F,Ae(q.y01,q.x01),Ae(q.y11,q.x11),!y),s.arc(0,0,h,Ae(q.cy+q.y11,q.cx+q.x11),Ae(k.cy+k.y11,k.cx+k.x11),!y),s.arc(k.cx,k.cy,F,Ae(k.y11,k.x11),Ae(k.y01,k.x01),!y))):(s.moveTo(N,P),s.arc(0,0,h,x,b,!y)):s.moveTo(N,P),!(f>Ee)||!(_>Ee)?s.lineTo(R,I):M>Ee?(q=qa(R,I,B,U,f,-M,y),k=qa(N,P,ne,J,f,-M,y),s.lineTo(q.cx+q.x01,q.cy+q.y01),M<A?s.arc(q.cx,q.cy,M,Ae(q.y01,q.x01),Ae(k.y01,k.x01),!y):(s.arc(q.cx,q.cy,M,Ae(q.y01,q.x01),Ae(q.y11,q.x11),!y),s.arc(0,0,f,Ae(q.cy+q.y11,q.cx+q.x11),Ae(k.cy+k.y11,k.cx+k.x11),y),s.arc(k.cx,k.cy,M,Ae(k.y11,k.x11),Ae(k.y01,k.x01),!y))):s.arc(0,0,f,w,v,y)}if(s.closePath(),u)return s=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-Ut/2;return[_t(d)*u,Ye(d)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:G(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:G(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:G(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:G(+u),c):r},c.startAngle=function(u){return arguments.length?(a=typeof u=="function"?u:G(+u),c):a},c.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:G(+u),c):i},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:G(+u),c):o},c.context=function(u){return arguments.length?(s=u??null,c):s},c}var L4=Array.prototype.slice;function wo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function am(e){this._context=e}am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function tr(e){return new am(e)}function Nc(e){return e[0]}function Fc(e){return e[1]}function _o(e,t){var n=G(!0),r=null,a=tr,i=null,o=fa(s);e=typeof e=="function"?e:e===void 0?Nc:G(e),t=typeof t=="function"?t:t===void 0?Fc:G(t);function s(l){var c,u=(l=wo(l)).length,d,f=!1,h;for(r==null&&(i=a(h=o())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(d,c,l),+t(d,c,l));if(h)return i=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:G(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:G(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:G(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function Rc(e,t,n){var r=null,a=G(!0),i=null,o=tr,s=null,l=fa(c);e=typeof e=="function"?e:e===void 0?Nc:G(+e),t=typeof t=="function"?t:G(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Fc:G(+n);function c(d){var f,h,m,g=(d=wo(d)).length,p,y=!1,x,b=new Array(g),v=new Array(g);for(i==null&&(s=o(x=l())),f=0;f<=g;++f){if(!(f<g&&a(p=d[f],f,d))===y)if(y=!y)h=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=f-1;m>=h;--m)s.point(b[m],v[m]);s.lineEnd(),s.areaEnd()}y&&(b[f]=+e(p,f,d),v[f]=+t(p,f,d),s.point(r?+r(p,f,d):b[f],n?+n(p,f,d):v[f]))}if(x)return s=null,x+""||null}function u(){return _o().defined(a).curve(o).context(i)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:G(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:G(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:G(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:G(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:G(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:G(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(a=typeof d=="function"?d:G(!!d),c):a},c.curve=function(d){return arguments.length?(o=d,i!=null&&(s=o(i)),c):o},c.context=function(d){return arguments.length?(d==null?i=s=null:s=o(i=d),c):i},c}function U4(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function W4(e){return e}function dl(){var e=W4,t=U4,n=null,r=G(0),a=G(Dt),i=G(0);function o(s){var l,c=(s=wo(s)).length,u,d,f=0,h=new Array(c),m=new Array(c),g=+r.apply(this,arguments),p=Math.min(Dt,Math.max(-Dt,a.apply(this,arguments)-g)),y,x=Math.min(Math.abs(p)/c,i.apply(this,arguments)),b=x*(p<0?-1:1),v;for(l=0;l<c;++l)(v=m[h[l]=l]=+e(s[l],l,s))>0&&(f+=v);for(t!=null?h.sort(function(w,_){return t(m[w],m[_])}):n!=null&&h.sort(function(w,_){return n(s[w],s[_])}),l=0,d=f?(p-c*b)/f:0;l<c;++l,g=y)u=h[l],v=m[u],y=g+(v>0?v*d:0)+b,m[u]={data:s[u],index:l,value:v,startAngle:g,endAngle:y,padAngle:x};return m}return o.value=function(s){return arguments.length?(e=typeof s=="function"?s:G(+s),o):e},o.sortValues=function(s){return arguments.length?(t=s,n=null,o):t},o.sort=function(s){return arguments.length?(n=s,t=null,o):n},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:G(+s),o):r},o.endAngle=function(s){return arguments.length?(a=typeof s=="function"?s:G(+s),o):a},o.padAngle=function(s){return arguments.length?(i=typeof s=="function"?s:G(+s),o):i},o}var im=Pc(tr);function om(e){this._curve=e}om.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function Pc(e){function t(n){return new om(e(n))}return t._curve=e,t}function Ar(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(Pc(n)):t()._curve},e}function Xf(){return Ar(_o().curve(im))}function jf(){var e=Rc().curve(im),t=e.curve,n=e.lineX0,r=e.lineX1,a=e.lineY0,i=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Ar(n())},delete e.lineX0,e.lineEndAngle=function(){return Ar(r())},delete e.lineX1,e.lineInnerRadius=function(){return Ar(a())},delete e.lineY0,e.lineOuterRadius=function(){return Ar(i())},delete e.lineY1,e.curve=function(o){return arguments.length?t(Pc(o)):t()._curve},e}function Er(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}class sm{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}class Y4{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{const r=Er(this._x0,this._y0),a=Er(this._x0,this._y0=(this._y0+n)/2),i=Er(t,this._y0),o=Er(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...a,...i,...o)}this._x0=t,this._y0=n}}function lm(e){return new sm(e,!0)}function cm(e){return new sm(e,!1)}function H4(e){return new Y4(e)}function V4(e){return e.source}function G4(e){return e.target}function ko(e){let t=V4,n=G4,r=Nc,a=Fc,i=null,o=null,s=fa(l);function l(){let c;const u=L4.call(arguments),d=t.apply(this,u),f=n.apply(this,u);if(i==null&&(o=e(c=s())),o.lineStart(),u[0]=d,o.point(+r.apply(this,u),+a.apply(this,u)),u[0]=f,o.point(+r.apply(this,u),+a.apply(this,u)),o.lineEnd(),c)return o=null,c+""||null}return l.source=function(c){return arguments.length?(t=c,l):t},l.target=function(c){return arguments.length?(n=c,l):n},l.x=function(c){return arguments.length?(r=typeof c=="function"?c:G(+c),l):r},l.y=function(c){return arguments.length?(a=typeof c=="function"?c:G(+c),l):a},l.context=function(c){return arguments.length?(c==null?i=o=null:o=e(i=c),l):i},l}function X4(){return ko(lm)}function j4(){return ko(cm)}function Z4(){const e=ko(H4);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const Q4=oe(3),um={draw(e,t){const n=oe(t+On(t/28,.75))*.59436,r=n/2,a=r*Q4;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-a,-r),e.lineTo(a,r),e.moveTo(-a,r),e.lineTo(a,-r)}},Mo={draw(e,t){const n=oe(t/Ut);e.moveTo(n,0),e.arc(0,0,n,0,Dt)}},fm={draw(e,t){const n=oe(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},dm=oe(1/3),K4=dm*2,hm={draw(e,t){const n=oe(t/K4),r=n*dm;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},pm={draw(e,t){const n=oe(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},mm={draw(e,t){const n=oe(t-On(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},gm={draw(e,t){const n=oe(t),r=-n/2;e.rect(r,r,n,n)}},ym={draw(e,t){const n=oe(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},J4=.8908130915292852,vm=Ye(Ut/10)/Ye(7*Ut/10),e6=Ye(Dt/10)*vm,t6=-_t(Dt/10)*vm,bm={draw(e,t){const n=oe(t*J4),r=e6*n,a=t6*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=Dt*i/5,s=_t(o),l=Ye(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},cs=oe(3),xm={draw(e,t){const n=-oe(t/(cs*3));e.moveTo(0,n*2),e.lineTo(-cs*n,-n),e.lineTo(cs*n,-n),e.closePath()}},n6=oe(3),wm={draw(e,t){const n=oe(t)*.6824,r=n/2,a=n*n6/2;e.moveTo(0,-n),e.lineTo(a,r),e.lineTo(-a,r),e.closePath()}},je=-.5,Ze=oe(3)/2,hl=1/oe(12),r6=(hl/2+1)*3,_m={draw(e,t){const n=oe(t/r6),r=n/2,a=n*hl,i=r,o=n*hl+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(je*r-Ze*a,Ze*r+je*a),e.lineTo(je*i-Ze*o,Ze*i+je*o),e.lineTo(je*s-Ze*l,Ze*s+je*l),e.lineTo(je*r+Ze*a,je*a-Ze*r),e.lineTo(je*i+Ze*o,je*o-Ze*i),e.lineTo(je*s+Ze*l,je*l-Ze*s),e.closePath()}},pl={draw(e,t){const n=oe(t-On(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},Zf=[Mo,fm,hm,gm,bm,xm,_m],a6=[Mo,mm,pl,wm,um,ym,pm];function km(e,t){let n=null,r=fa(a);e=typeof e=="function"?e:G(e||Mo),t=typeof t=="function"?t:G(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:G(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:G(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Wt(){}function Ni(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function So(e){this._context=e}So.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ni(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ni(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i6(e){return new So(e)}function Mm(e){this._context=e}Mm.prototype={areaStart:Wt,areaEnd:Wt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ni(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o6(e){return new Mm(e)}function Sm(e){this._context=e}Sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ni(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s6(e){return new Sm(e)}function Tm(e,t){this._basis=new So(e),this._beta=t}Tm.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],a=t[0],i=e[n]-r,o=t[n]-a,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+l*i),this._beta*t[s]+(1-this._beta)*(a+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const l6=function e(t){function n(r){return t===1?new So(r):new Tm(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Fi(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function zc(e,t){this._context=e,this._k=(1-t)/6}zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fi(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Fi(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const c6=function e(t){function n(r){return new zc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ic(e,t){this._context=e,this._k=(1-t)/6}Ic.prototype={areaStart:Wt,areaEnd:Wt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Fi(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const u6=function e(t){function n(r){return new Ic(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Dc(e,t){this._context=e,this._k=(1-t)/6}Dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fi(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const f6=function e(t){function n(r){return new Dc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Oc(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>Ee){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,a=(a*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Ee){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function Cm(e,t){this._context=e,this._alpha=t}Cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Oc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const d6=function e(t){function n(r){return t?new Cm(r,t):new zc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Am(e,t){this._context=e,this._alpha=t}Am.prototype={areaStart:Wt,areaEnd:Wt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Oc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const h6=function e(t){function n(r){return t?new Am(r,t):new Ic(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Em(e,t){this._context=e,this._alpha=t}Em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Oc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const p6=function e(t){function n(r){return t?new Em(r,t):new Dc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function $m(e){this._context=e}$m.prototype={areaStart:Wt,areaEnd:Wt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function m6(e){return new $m(e)}function Qf(e){return e<0?-1:1}function Kf(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(Qf(i)+Qf(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Jf(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function us(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Ri(e){this._context=e}Ri.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:us(this,this._t0,Jf(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,us(this,Jf(this,n=Kf(this,e,t)),n);break;default:us(this,this._t0,n=Kf(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function qm(e){this._context=new Nm(e)}(qm.prototype=Object.create(Ri.prototype)).point=function(e,t){Ri.prototype.point.call(this,t,e)};function Nm(e){this._context=e}Nm.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function g6(e){return new Ri(e)}function y6(e){return new qm(e)}function Fm(e){this._context=e}Fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=ed(e),a=ed(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ed(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function v6(e){return new Fm(e)}function To(e,t){this._context=e,this._t=t}To.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function b6(e){return new To(e,.5)}function x6(e){return new To(e,0)}function w6(e){return new To(e,1)}function nr(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function rr(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _6(e,t){return e[t]}function k6(e){const t=[];return t.key=e,t}function ml(){var e=G([]),t=rr,n=nr,r=_6;function a(i){var o=Array.from(e.apply(this,arguments),k6),s,l=o.length,c=-1,u;for(const d of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(d,o[s].key,c,i)]).data=d;for(s=0,u=wo(t(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:G(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:G(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?rr:typeof i=="function"?i:G(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??nr,a):n},a}function M6(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}nr(e,t)}}function S6(e,t){if((l=e.length)>0)for(var n,r=0,a,i,o,s,l,c=e[t[0]].length;r<c;++r)for(o=s=0,n=0;n<l;++n)(i=(a=e[t[n]][r])[1]-a[0])>0?(a[0]=o,a[1]=o+=i):i<0?(a[1]=s,a[0]=s+=i):(a[0]=0,a[1]=i)}function T6(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}nr(e,t)}}function C6(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[r][1]||0,f=u[r-1][1]||0,h=(d-f)/2,m=0;m<s;++m){var g=e[t[m]],p=g[r][1]||0,y=g[r-1][1]||0;h+=p-y}l+=d,c+=h*d}a[r-1][1]+=a[r-1][0]=n,l&&(n-=c/l)}a[r-1][1]+=a[r-1][0]=n,nr(e,t)}}function Rm(e){var t=e.map(A6);return rr(e).sort(function(n,r){return t[n]-t[r]})}function A6(e){for(var t=-1,n=0,r=e.length,a,i=-1/0;++t<r;)(a=+e[t][1])>i&&(i=a,n=t);return n}function Pm(e){var t=e.map(zm);return rr(e).sort(function(n,r){return t[n]-t[r]})}function zm(e){for(var t=0,n=-1,r=e.length,a;++n<r;)(a=+e[n][1])&&(t+=a);return t}function E6(e){return Pm(e).reverse()}function $6(e){var t=e.length,n,r,a=e.map(zm),i=Rm(e),o=0,s=0,l=[],c=[];for(n=0;n<t;++n)r=i[n],o<s?(o+=a[r],l.push(r)):(s+=a[r],c.push(r));return c.reverse().concat(l)}function q6(e){return rr(e).reverse()}const Na=e=>()=>e;function N6(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function ft(e,t,n){this.k=e,this.x=t,this.y=n}ft.prototype={constructor:ft,scale:function(e){return e===1?this:new ft(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ft(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Co=new ft(1,0,0);Im.prototype=ft.prototype;function Im(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Co;return e.__zoom}function fs(e){e.stopImmediatePropagation()}function gr(e){e.preventDefault(),e.stopImmediatePropagation()}function F6(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function R6(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function td(){return this.__zoom||Co}function P6(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function z6(){return navigator.maxTouchPoints||"ontouchstart"in this}function I6(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function Dm(){var e=F6,t=R6,n=I6,r=P6,a=z6,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=uh,c=gn("start","zoom","end"),u,d,f,h=500,m=150,g=0,p=10;function y(k){k.property("__zoom",td).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",A).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(k,T,S,N){var P=k.selection?k.selection():k;P.property("__zoom",td),k!==P?w(k,T,S,N):P.interrupt().each(function(){_(this,arguments).event(N).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},y.scaleBy=function(k,T,S,N){y.scaleTo(k,function(){var P=this.__zoom.k,R=typeof T=="function"?T.apply(this,arguments):T;return P*R},S,N)},y.scaleTo=function(k,T,S,N){y.transform(k,function(){var P=t.apply(this,arguments),R=this.__zoom,I=S==null?v(P):typeof S=="function"?S.apply(this,arguments):S,B=R.invert(I),U=typeof T=="function"?T.apply(this,arguments):T;return n(b(x(R,U),I,B),P,o)},S,N)},y.translateBy=function(k,T,S,N){y.transform(k,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),o)},null,N)},y.translateTo=function(k,T,S,N,P){y.transform(k,function(){var R=t.apply(this,arguments),I=this.__zoom,B=N==null?v(R):typeof N=="function"?N.apply(this,arguments):N;return n(Co.translate(B[0],B[1]).scale(I.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof S=="function"?-S.apply(this,arguments):-S),R,o)},N,P)};function x(k,T){return T=Math.max(i[0],Math.min(i[1],T)),T===k.k?k:new ft(T,k.x,k.y)}function b(k,T,S){var N=T[0]-S[0]*k.k,P=T[1]-S[1]*k.k;return N===k.x&&P===k.y?k:new ft(k.k,N,P)}function v(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function w(k,T,S,N){k.on("start.zoom",function(){_(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(N).end()}).tween("zoom",function(){var P=this,R=arguments,I=_(P,R).event(N),B=t.apply(P,R),U=S==null?v(B):typeof S=="function"?S.apply(P,R):S,ne=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),J=P.__zoom,K=typeof T=="function"?T.apply(P,R):T,me=l(J.invert(U).concat(ne/J.k),K.invert(U).concat(ne/K.k));return function(ee){if(ee===1)ee=K;else{var pe=me(ee),D=ne/pe[2];ee=new ft(D,U[0]-pe[0]*D,U[1]-pe[1]*D)}I.zoom(null,ee)}})}function _(k,T,S){return!S&&k.__zooming||new C(k,T)}function C(k,T){this.that=k,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,T),this.taps=0}C.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,T){return this.mouse&&k!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var T=ke(this.that).datum();c.call(k,this.that,new N6(k,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:c}),T)}};function $(k,...T){if(!e.apply(this,arguments))return;var S=_(this,T).event(k),N=this.__zoom,P=Math.max(i[0],Math.min(i[1],N.k*Math.pow(2,r.apply(this,arguments)))),R=Ge(k);if(S.wheel)(S.mouse[0][0]!==R[0]||S.mouse[0][1]!==R[1])&&(S.mouse[1]=N.invert(S.mouse[0]=R)),clearTimeout(S.wheel);else{if(N.k===P)return;S.mouse=[R,N.invert(R)],rn(this),S.start()}gr(k),S.wheel=setTimeout(I,m),S.zoom("mouse",n(b(x(N,P),S.mouse[0],S.mouse[1]),S.extent,o));function I(){S.wheel=null,S.end()}}function E(k,...T){if(f||!e.apply(this,arguments))return;var S=k.currentTarget,N=_(this,T,!0).event(k),P=ke(k.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",ne,!0),R=Ge(k,S),I=k.clientX,B=k.clientY;Li(k.view),fs(k),N.mouse=[R,this.__zoom.invert(R)],rn(this),N.start();function U(J){if(gr(J),!N.moved){var K=J.clientX-I,me=J.clientY-B;N.moved=K*K+me*me>g}N.event(J).zoom("mouse",n(b(N.that.__zoom,N.mouse[0]=Ge(J,S),N.mouse[1]),N.extent,o))}function ne(J){P.on("mousemove.zoom mouseup.zoom",null),Ui(J.view,N.moved),gr(J),N.event(J).end()}}function A(k,...T){if(e.apply(this,arguments)){var S=this.__zoom,N=Ge(k.changedTouches?k.changedTouches[0]:k,this),P=S.invert(N),R=S.k*(k.shiftKey?.5:2),I=n(b(x(S,R),N,P),t.apply(this,T),o);gr(k),s>0?ke(this).transition().duration(s).call(w,I,N,k):ke(this).call(y.transform,I,N,k)}}function M(k,...T){if(e.apply(this,arguments)){var S=k.touches,N=S.length,P=_(this,T,k.changedTouches.length===N).event(k),R,I,B,U;for(fs(k),I=0;I<N;++I)B=S[I],U=Ge(B,this),U=[U,this.__zoom.invert(U),B.identifier],P.touch0?!P.touch1&&P.touch0[2]!==U[2]&&(P.touch1=U,P.taps=0):(P.touch0=U,R=!0,P.taps=1+!!u);u&&(u=clearTimeout(u)),R&&(P.taps<2&&(d=U[0],u=setTimeout(function(){u=null},h)),rn(this),P.start())}}function F(k,...T){if(this.__zooming){var S=_(this,T).event(k),N=k.changedTouches,P=N.length,R,I,B,U;for(gr(k),R=0;R<P;++R)I=N[R],B=Ge(I,this),S.touch0&&S.touch0[2]===I.identifier?S.touch0[0]=B:S.touch1&&S.touch1[2]===I.identifier&&(S.touch1[0]=B);if(I=S.that.__zoom,S.touch1){var ne=S.touch0[0],J=S.touch0[1],K=S.touch1[0],me=S.touch1[1],ee=(ee=K[0]-ne[0])*ee+(ee=K[1]-ne[1])*ee,pe=(pe=me[0]-J[0])*pe+(pe=me[1]-J[1])*pe;I=x(I,Math.sqrt(ee/pe)),B=[(ne[0]+K[0])/2,(ne[1]+K[1])/2],U=[(J[0]+me[0])/2,(J[1]+me[1])/2]}else if(S.touch0)B=S.touch0[0],U=S.touch0[1];else return;S.zoom("touch",n(b(I,B,U),S.extent,o))}}function q(k,...T){if(this.__zooming){var S=_(this,T).event(k),N=k.changedTouches,P=N.length,R,I;for(fs(k),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),R=0;R<P;++R)I=N[R],S.touch0&&S.touch0[2]===I.identifier?delete S.touch0:S.touch1&&S.touch1[2]===I.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(I=Ge(I,this),Math.hypot(d[0]-I[0],d[1]-I[1])<p)){var B=ke(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return y.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:Na(+k),y):r},y.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Na(!!k),y):e},y.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:Na(!!k),y):a},y.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Na([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),y):t},y.scaleExtent=function(k){return arguments.length?(i[0]=+k[0],i[1]=+k[1],y):[i[0],i[1]]},y.translateExtent=function(k){return arguments.length?(o[0][0]=+k[0][0],o[1][0]=+k[1][0],o[0][1]=+k[0][1],o[1][1]=+k[1][1],y):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},y.constrain=function(k){return arguments.length?(n=k,y):n},y.duration=function(k){return arguments.length?(s=+k,y):s},y.interpolate=function(k){return arguments.length?(l=k,y):l},y.on=function(){var k=c.on.apply(c,arguments);return k===c?y:k},y.clickDistance=function(k){return arguments.length?(g=(k=+k)*k,y):Math.sqrt(g)},y.tapDistance=function(k){return arguments.length?(p=+k,y):p},y}const yr=Object.freeze(Object.defineProperty({__proto__:null,Adder:ve,Delaunay:Wl,FormatSpecifier:eo,InternMap:Pr,InternSet:an,Node:hn,Path:na,Voronoi:qh,ZoomTransform:ft,active:eb,arc:fl,area:Rc,areaRadial:jf,ascending:se,autoType:kx,axisBottom:gs,axisLeft:Td,axisRight:Sd,axisTop:Md,bin:ps,bisect:Ot,bisectCenter:Ym,bisectLeft:Wm,bisectRight:Ot,bisector:Pi,blob:Tx,blur:Hm,blur2:ad,blurImage:Vm,brush:hb,brushSelection:ub,brushX:fb,brushY:db,buffer:Ax,chord:Ch,chordDirected:gb,chordTranspose:mb,cluster:P0,color:Bt,contourDensity:Ub,contours:Fs,count:zi,create:A1,creator:Oi,cross:Jm,csv:qx,csvFormat:dx,csvFormatBody:hx,csvFormatRow:mx,csvFormatRows:px,csvFormatValue:gx,csvParse:Fh,csvParseRows:fx,cubehelix:ot,cumsum:eg,curveBasis:i6,curveBasisClosed:o6,curveBasisOpen:s6,curveBumpX:lm,curveBumpY:cm,curveBundle:l6,curveCardinal:c6,curveCardinalClosed:u6,curveCardinalOpen:f6,curveCatmullRom:d6,curveCatmullRomClosed:h6,curveCatmullRomOpen:p6,curveLinear:tr,curveLinearClosed:m6,curveMonotoneX:g6,curveMonotoneY:y6,curveNatural:v6,curveStep:b6,curveStepAfter:w6,curveStepBefore:x6,descending:gl,deviation:sd,difference:zg,disjoint:Ig,dispatch:gn,drag:Id,dragDisable:Li,dragEnable:Ui,dsv:$x,dsvFormat:Qi,easeBack:cu,easeBackIn:Vv,easeBackInOut:cu,easeBackOut:Gv,easeBounce:Yr,easeBounceIn:Yv,easeBounceInOut:Hv,easeBounceOut:Yr,easeCircle:lu,easeCircleIn:Rv,easeCircleInOut:lu,easeCircleOut:Pv,easeCubic:As,easeCubicIn:Tv,easeCubicInOut:As,easeCubicOut:Cv,easeElastic:uu,easeElasticIn:Xv,easeElasticInOut:jv,easeElasticOut:uu,easeExp:su,easeExpIn:Nv,easeExpInOut:su,easeExpOut:Fv,easeLinear:kh,easePoly:iu,easePolyIn:Av,easePolyInOut:iu,easePolyOut:Ev,easeQuad:au,easeQuadIn:Mv,easeQuadInOut:au,easeQuadOut:Sv,easeSin:ou,easeSinIn:$v,easeSinInOut:ou,easeSinOut:qv,every:$g,extent:It,fcumsum:ng,filter:Ng,flatGroup:rg,flatRollup:ag,forceCenter:zh,forceCollide:rw,forceLink:Dh,forceManyBody:Bh,forceRadial:dw,forceSimulation:Oh,forceX:Lh,forceY:Uh,get format(){return to},formatDefaultLocale:Hh,formatLocale:Yh,get formatPrefix(){return Vl},formatSpecifier:Xn,fsum:tg,geoAlbers:$0,geoAlbersUsa:g5,geoArea:_w,geoAzimuthalEqualArea:y5,geoAzimuthalEqualAreaRaw:nc,geoAzimuthalEquidistant:v5,geoAzimuthalEquidistantRaw:rc,geoBounds:Tw,geoCentroid:Nw,geoCircle:Fw,geoClipAntimeridian:Vs,geoClipCircle:h0,geoClipExtent:Bw,geoClipRectangle:no,geoConicConformal:x5,geoConicConformalRaw:F0,geoConicEqualArea:Ci,geoConicEqualAreaRaw:E0,geoConicEquidistant:_5,geoConicEquidistantRaw:R0,geoContains:Gw,geoDistance:bi,geoEqualEarth:M5,geoEqualEarthRaw:ac,geoEquirectangular:w5,geoEquirectangularRaw:Zr,geoGnomonic:S5,geoGnomonicRaw:ic,geoGraticule:g0,geoGraticule10:Xw,geoIdentity:T5,geoInterpolate:jw,geoLength:p0,geoMercator:b5,geoMercatorRaw:sa,geoNaturalEarth1:C5,geoNaturalEarth1Raw:oc,geoOrthographic:A5,geoOrthographicRaw:sc,geoPath:A0,geoProjection:vt,geoProjectionMutator:ec,geoRotation:s0,geoStereographic:E5,geoStereographicRaw:lc,geoStream:rt,geoTransform:s5,geoTransverseMercator:$5,geoTransverseMercatorRaw:cc,gray:X1,greatest:yd,greatestIndex:Mg,group:Va,groupSort:sg,groups:fd,hcl:ei,hierarchy:ao,histogram:ps,hsl:Qa,html:Ix,image:Fx,index:ig,indexes:og,interpolate:Ht,interpolateArray:e2,interpolateBasis:Qd,interpolateBasisClosed:Kd,interpolateBlues:p4,interpolateBrBG:G8,interpolateBuGn:n4,interpolateBuPu:r4,interpolateCividis:x4,interpolateCool:k4,interpolateCubehelix:m2,interpolateCubehelixDefault:w4,interpolateCubehelixLong:Gi,interpolateDate:ah,interpolateDiscrete:r2,interpolateGnBu:a4,interpolateGreens:m4,interpolateGreys:g4,interpolateHcl:h2,interpolateHclLong:p2,interpolateHsl:u2,interpolateHslLong:f2,interpolateHue:a2,interpolateInferno:q4,interpolateLab:d2,interpolateMagma:$4,interpolateNumber:Qe,interpolateNumberArray:Nl,interpolateObject:ih,interpolateOrRd:i4,interpolateOranges:b4,interpolatePRGn:X8,interpolatePiYG:j8,interpolatePlasma:N4,interpolatePuBu:s4,interpolatePuBuGn:o4,interpolatePuOr:Z8,interpolatePuRd:l4,interpolatePurples:y4,interpolateRainbow:M4,interpolateRdBu:Q8,interpolateRdGy:K8,interpolateRdPu:c4,interpolateRdYlBu:J8,interpolateRdYlGn:e4,interpolateReds:v4,interpolateRgb:Lr,interpolateRgbBasis:th,interpolateRgbBasisClosed:J1,interpolateRound:Vi,interpolateSinebow:C4,interpolateSpectral:t4,interpolateString:Fl,interpolateTransformCss:lh,interpolateTransformSvg:ch,interpolateTurbo:A4,interpolateViridis:E4,interpolateWarm:_4,interpolateYlGn:f4,interpolateYlGnBu:u4,interpolateYlOrBr:d4,interpolateYlOrRd:h4,interpolateZoom:uh,interrupt:rn,intersection:Dg,interval:x2,isoFormat:E8,isoParse:q8,json:Px,lab:Ja,lch:j1,least:kg,leastIndex:xd,line:_o,lineRadial:Xf,link:ko,linkHorizontal:X4,linkRadial:Z4,linkVertical:j4,local:Pd,map:Fg,matcher:Sl,max:Un,maxIndex:wl,mean:mg,median:gg,medianIndex:yg,merge:kl,min:zr,minIndex:_l,mode:bg,namespace:Jr,namespaces:vs,nice:bl,now:ta,pack:il,packEnclose:s_,packSiblings:f_,pairs:xg,partition:ol,path:Ul,pathRound:bb,permute:gd,pie:dl,piecewise:ph,pointRadial:Er,pointer:Ge,pointers:$1,polygonArea:T_,polygonCentroid:C_,polygonContains:q_,polygonHull:$_,polygonLength:N_,precisionFixed:Vh,precisionPrefix:Gh,precisionRound:Xh,quadtree:Ji,quantile:Ir,quantileIndex:bd,quantileSorted:vd,quantize:g2,quickselect:Ii,radialArea:jf,radialLine:Xf,randomBates:z_,randomBernoulli:O_,randomBeta:j0,randomBinomial:Z0,randomCauchy:L_,randomExponential:I_,randomGamma:dc,randomGeometric:X0,randomInt:R_,randomIrwinHall:G0,randomLcg:V_,randomLogNormal:P_,randomLogistic:U_,randomNormal:fc,randomPareto:D_,randomPoisson:W_,randomUniform:F_,randomWeibull:B_,range:Pt,rank:_g,reduce:Rg,reverse:Pg,rgb:Yn,ribbon:Cb,ribbonArrow:Ab,rollup:hd,rollups:pd,scaleBand:so,scaleDiverging:$c,scaleDivergingLog:Ep,scaleDivergingPow:qc,scaleDivergingSqrt:P8,scaleDivergingSymlog:$p,scaleIdentity:pc,scaleImplicit:cl,scaleLinear:$i,scaleLog:gc,scaleOrdinal:oo,scalePoint:K0,scalePow:co,scaleQuantile:xc,scaleQuantize:wc,scaleRadial:bc,scaleSequential:Ac,scaleSequentialLog:Tp,scaleSequentialPow:Ec,scaleSequentialQuantile:Ap,scaleSequentialSqrt:R8,scaleSequentialSymlog:Cp,scaleSqrt:np,scaleSymlog:tp,scaleThreshold:_c,scaleTime:Mp,scaleUtc:Sp,scan:Sg,schemeAccent:I8,schemeBlues:Kp,schemeBrBG:qp,schemeBuGn:Bp,schemeBuPu:Lp,schemeCategory10:z8,schemeDark2:D8,schemeGnBu:Up,schemeGreens:Jp,schemeGreys:em,schemeObservable10:O8,schemeOrRd:Wp,schemeOranges:rm,schemePRGn:Np,schemePaired:B8,schemePastel1:L8,schemePastel2:U8,schemePiYG:Fp,schemePuBu:Hp,schemePuBuGn:Yp,schemePuOr:Rp,schemePuRd:Vp,schemePurples:tm,schemeRdBu:Pp,schemeRdGy:zp,schemeRdPu:Gp,schemeRdYlBu:Ip,schemeRdYlGn:Dp,schemeReds:nm,schemeSet1:W8,schemeSet2:Y8,schemeSet3:H8,schemeSpectral:Op,schemeTableau10:V8,schemeYlGn:jp,schemeYlGnBu:Xp,schemeYlOrBr:Zp,schemeYlOrRd:Qp,select:ke,selectAll:q1,selection:yn,selector:Bi,selectorAll:Ml,shuffle:Tg,shuffler:wd,some:qg,sort:hs,stack:ml,stackOffsetDiverging:S6,stackOffsetExpand:M6,stackOffsetNone:nr,stackOffsetSilhouette:T6,stackOffsetWiggle:C6,stackOrderAppearance:Rm,stackOrderAscending:Pm,stackOrderDescending:E6,stackOrderInsideOut:$6,stackOrderNone:rr,stackOrderReverse:q6,stratify:g_,style:ln,subset:Bg,sum:Cg,superset:kd,svg:Dx,symbol:km,symbolAsterisk:um,symbolCircle:Mo,symbolCross:fm,symbolDiamond:hm,symbolDiamond2:pm,symbolPlus:mm,symbolSquare:gm,symbolSquare2:ym,symbolStar:bm,symbolTimes:pl,symbolTriangle:xm,symbolTriangle2:wm,symbolWye:_m,symbolX:pl,symbols:Zf,symbolsFill:Zf,symbolsStroke:a6,text:Ki,thresholdFreedmanDiaconis:hg,thresholdScott:pg,thresholdSturges:xl,tickFormat:J0,tickIncrement:sn,tickStep:Xa,ticks:on,timeDay:sr,timeDays:c3,get timeFormat(){return Sc},timeFormatDefaultLocale:_p,timeFormatLocale:gp,timeFriday:ip,timeFridays:y3,timeHour:ho,timeHours:s3,timeInterval:ge,timeMillisecond:Kn,timeMilliseconds:qf,timeMinute:uo,timeMinutes:i3,timeMonday:Qr,timeMondays:h3,timeMonth:mo,timeMonths:S3,get timeParse(){return wp},timeSaturday:op,timeSaturdays:v3,timeSecond:Ct,timeSeconds:Ff,timeSunday:Jn,timeSundays:Rf,timeThursday:pn,timeThursdays:g3,timeTickInterval:mp,timeTicks:pp,timeTuesday:rp,timeTuesdays:p3,timeWednesday:ap,timeWednesdays:m3,timeWeek:Jn,timeWeeks:Rf,timeYear:mt,timeYears:C3,timeout:Ms,timer:ji,timerFlush:yh,transition:wh,transpose:_d,tree:W0,treemap:ll,treemapBinary:k_,treemapDice:la,treemapResquarify:S_,treemapSlice:io,treemapSliceDice:M_,treemapSquarify:V0,tsv:Nx,tsvFormat:vx,tsvFormatBody:bx,tsvFormatRow:wx,tsvFormatRows:xx,tsvFormatValue:_x,tsvParse:Rh,tsvParseRows:yx,union:Lg,unixDay:Mc,unixDays:f3,utcDay:ua,utcDays:u3,get utcFormat(){return yo},utcFriday:cp,utcFridays:k3,utcHour:po,utcHours:l3,utcMillisecond:Kn,utcMilliseconds:qf,utcMinute:fo,utcMinutes:o3,utcMonday:Kr,utcMondays:b3,utcMonth:go,utcMonths:T3,get utcParse(){return Tc},utcSaturday:up,utcSaturdays:M3,utcSecond:Ct,utcSeconds:Ff,utcSunday:er,utcSundays:Pf,utcThursday:mn,utcThursdays:_3,utcTickInterval:hp,utcTicks:dp,utcTuesday:sp,utcTuesdays:x3,utcWednesday:lp,utcWednesdays:w3,utcWeek:er,utcWeeks:Pf,utcYear:gt,utcYears:A3,variance:od,window:Tl,xml:zx,zip:Eg,zoom:Dm,zoomIdentity:Co,zoomTransform:Im},Symbol.toStringTag,{value:"Module"}));class D6{constructor(t,n){this.scales=new Map,this.dataCache=new Map,this.generators=new Map,this.state=new Map,this.simulation=null,this.container=ke(t),this.schema=n}async render(){try{this.container.selectAll("*").remove(),this.setupVisualSpace(),await this.processDataPipeline(),this.createScales(),this.createGenerators(),await this.renderLayers(),this.applyBehaviors(),this.startAnimations()}catch(t){console.error("Rendering error:",t),this.renderError(t)}}renderError(t){this.container.selectAll("*").remove(),this.container.append("text").attr("x",this.schema.space.width/2).attr("y",this.schema.space.height/2).attr("text-anchor","middle").attr("fill","red").text(`Error: ${t.message}`)}setupVisualSpace(){const{space:t}=this.schema;if(this.container.attr("width",t.width).attr("height",t.height).attr("viewBox",`0 0 ${t.width} ${t.height}`).style("max-width","100%").style("height","auto"),t.background&&this.applyStyles(this.container,t.background),t.coordinates&&t.coordinates.forEach(n=>{this.setupCoordinateSystem(n)}),t.clips){const n=this.container.append("defs");t.clips.forEach(r=>{this.createClipPath(n,r)})}}setupCoordinateSystem(t){const n=this.container.append("g").attr("class",`coordinate-system-${t.id}`);if(t.transform){const{translate:r,scale:a,rotate:i}=t.transform;let o="";r&&(o+=`translate(${r[0]}, ${r[1]}) `),a&&(o+=`scale(${a[0]}, ${a[1]}) `),i&&(o+=`rotate(${i}) `),n.attr("transform",o.trim())}}async processDataPipeline(){const{data:t}=this.schema;let n=await this.loadSourceData(t.source);this.dataCache.set("source",n);let r=n;if(t.transforms)for(const a of t.transforms)r=await this.applyTransform(r,a),a.output&&this.dataCache.set(a.output,r);this.dataCache.set("main",r)}async loadSourceData(t){switch(t.type){case"inline":return Array.isArray(t.data)?t.data:[t.data];case"generated":return this.generateData(t.options||{});default:return[]}}generateData(t){const{count:n=50,type:r="random",...a}=t,i=[];for(let o=0;o<n;o++)switch(r){case"random":i.push({x:Math.random()*100,y:Math.random()*100,category:`Category ${Math.floor(Math.random()*5)+1}`,value:Math.random()*1e3,index:o,id:`item-${o}`,group:Math.floor(Math.random()*3)+1,size:Math.random()*20+5});break;case"timeseries":i.push({date:new Date(2020,0,o),value:Math.random()*100+Math.sin(o*.1)*20,index:o,category:`Series ${Math.floor(o/10)+1}`});break;case"network":o<20&&i.push({id:`node-${o}`,group:Math.floor(o/5)+1,size:Math.random()*10+5});break;case"hierarchy":break;case"alphabet":o<26&&i.push({letter:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[o],frequency:Math.random()*.12+.01});break}return i}async applyTransform(t,n){const{type:r,params:a}=n;switch(r){case"filter":return t.filter(a.predicate||(()=>!0));case"sort":return t.sort(this.createComparator(a));case"group":return Array.from(Va(t,f=>this.getValue(f,a.by)));case"stack":return ml().keys(a.keys).value((f,h)=>this.getValue(f,h)||0)(t);case"bin":return ps().domain(a.domain||It(t,f=>this.getValue(f,a.field))).thresholds(a.thresholds||10)(t.map(f=>this.getValue(f,a.field)));case"hierarchy":const s=ao(t,a.children).sum(a.value?f=>this.getValue(f,a.value):null);return a.sort&&s.sort(a.sort),s;case"partition":return ol().size(a.size||[2*Math.PI,100])(t);case"treemap":return ll().size(a.size||[400,300]).padding(a.padding||1)(t);case"pack":return il().size(a.size||[400,400]).padding(a.padding||3)(t);case"force":return this.setupForceSimulation(t,a);case"pie":const d=dl().value(f=>this.getValue(f,a.value||"value"));return a.sort===null&&d.sort(null),d(t);default:return t}}setupForceSimulation(t,n){const r=t.nodes||t,a=t.links||[];return this.simulation=Oh(r),n.forces&&Object.entries(n.forces).forEach(([i,o])=>{let s;switch(i){case"link":s=Dh(a).id(l=>l.id),o.distance&&s.distance(o.distance),o.strength&&s.strength(o.strength);break;case"manyBody":s=Bh(),o.strength&&s.strength(o.strength);break;case"center":s=zh(o.x||0,o.y||0);break;case"x":s=Lh(o.x||0),o.strength&&s.strength(o.strength);break;case"y":s=Uh(o.y||0),o.strength&&s.strength(o.strength);break}s&&this.simulation.force(i,s)}),{nodes:r,links:a}}createScales(){Object.entries(this.schema.scales).forEach(([t,n])=>{const r=this.createScale(n);this.scales.set(t,r)})}createScale(t){let r=this.getScaleFunction(t.type)();if(t.domain)r.domain(t.domain);else if(t.domainFrom){const i=(this.dataCache.get(t.domainFrom.data)||this.dataCache.get("main")||[]).map(s=>this.getValue(s,t.domainFrom.field)).filter(s=>s!=null);let o;switch(t.domainFrom.method){case"extent":o=It(i);break;case"max":o=[0,Un(i)];break;case"min":o=[zr(i),0];break;case"values":o=Array.from(new Set(i));break;default:o=t.domainFrom.transform?t.domainFrom.transform(i):It(i)}o[0]!==void 0&&o[1]!==void 0&&r.domain(o)}if(t.range&&r.range(t.range),t.scheme&&"range"in r){const a=yr[`scheme${t.scheme}`];a&&r.range(Array.isArray(a)?a:a[Math.min(a.length-1,9)])}if(t.interpolator&&"interpolator"in r){const a=yr[t.interpolator];a&&r.interpolator(a)}if(t.params&&Object.entries(t.params).forEach(([a,i])=>{a in r&&typeof r[a]=="function"&&r[a](i)}),t.nice&&"nice"in r&&r.nice(typeof t.nice=="number"?t.nice:void 0),t.clamp&&"clamp"in r&&r.clamp(t.clamp),t.reverse&&"range"in r){const a=r.range();r.range(a.slice().reverse())}return r}getScaleFunction(t){return{linear:()=>$i(),log:()=>gc(),sqrt:()=>np(),pow:()=>co(),time:()=>Mp(),utc:()=>Sp(),ordinal:()=>oo(),band:()=>so(),point:()=>K0(),sequential:()=>Ac(),diverging:()=>$c(),threshold:()=>_c(),quantile:()=>xc(),quantize:()=>wc(),identity:()=>pc(),radial:()=>bc()}[t]||(()=>$i())}createGenerators(){this.schema.layers.forEach((t,n)=>{if(t.mark.generator){const r=this.createGenerator(t.mark.generator);this.generators.set(t.id||`layer-${n}`,r)}})}createGenerator(t){var l;const{type:n,params:r={},curve:a,layout:i}=t,o={line:()=>{const c=_o();return a&&c.curve(yr[a]||tr),c},area:()=>{const c=Rc();return a&&c.curve(yr[a]||tr),c},arc:()=>fl(),pie:()=>dl(),stack:()=>ml(),tree:()=>W0(),cluster:()=>P0(),pack:()=>il(),treemap:()=>ll(),partition:()=>ol(),chord:()=>Ch(),symbol:()=>km(),path:()=>A0()},s=((l=o[n])==null?void 0:l.call(o))||null;return s&&r&&Object.entries(r).forEach(([c,u])=>{s[c]&&typeof s[c]=="function"&&s[c](u)}),s}async renderLayers(){const t=[...this.schema.layers].sort((n,r)=>(n.order||0)-(r.order||0));for(const n of t)await this.renderLayer(n)}async renderLayer(t){if(t.when&&!this.evaluateCondition(t.when))return;const n=this.getLayerData(t),r=this.container.append("g").attr("class",`layer ${t.id||""}`).attr("data-layer-id",t.id||"");t.style&&this.applyStyles(r,t.style),t.clipPath&&r.attr("clip-path",`url(#${t.clipPath})`),t.blendMode&&r.style("mix-blend-mode",t.blendMode),await this.renderMark(r,t.mark,t.encoding,n)}getLayerData(t){const n=t.data||"main";return this.dataCache.get(n)||[]}async renderMark(t,n,r,a){const{type:i,params:o={},generator:s,groupBy:l,key:c}=n;if(i==="axis"){this.renderAxis(t,r,o);return}if(i==="grid"){this.renderGrid(t,r,o);return}let u;if(l&&l.length>0){const d=f=>l.map(h=>this.getValue(f,h)).join("-");u=Array.from(Va(a,d))}else u=[["default",a]];for(const[d,f]of u)await this.renderMarkGroup(t,i,o,s,r,f,d,c)}renderAxis(t,n,r){var c,u;const a=(c=n.scale)==null?void 0:c.value,i=this.scales.get(a);if(!i)return;const o=r.orient||"bottom";let s;switch(o){case"top":s=Md(i);break;case"bottom":s=gs(i);break;case"left":s=Td(i);break;case"right":s=Sd(i);break;default:s=gs(i)}r.ticks&&s.ticks(r.ticks),r.tickFormat&&s.tickFormat(r.tickFormat),r.tickSize&&s.tickSize(r.tickSize);const l=((u=n.position)==null?void 0:u.value)||[0,0];t.append("g").attr("class",`axis axis-${o}`).attr("transform",`translate(${l[0]}, ${l[1]})`).call(s)}renderGrid(t,n,r){const a=this.scales.get("x"),i=this.scales.get("y"),{width:o,height:s,margin:l={top:20,right:20,bottom:40,left:40}}=this.schema.space,c=o-(l.left||0)-(l.right||0),u=s-(l.top||0)-(l.bottom||0),d=t.append("g").attr("class","grid").attr("stroke",r.stroke||"#e0e0e0").attr("stroke-width",r.strokeWidth||.5).attr("opacity",r.opacity||.5);a&&r.x!==!1&&d.append("g").selectAll("line").data(a.ticks?a.ticks():a.domain()).join("line").attr("x1",f=>a(f)).attr("x2",f=>a(f)).attr("y1",0).attr("y2",u),i&&r.y!==!1&&d.append("g").selectAll("line").data(i.ticks?i.ticks():i.domain()).join("line").attr("x1",0).attr("x2",c).attr("y1",f=>i(f)).attr("y2",f=>i(f))}async renderMarkGroup(t,n,r,a,i,o,s,l){const c=t.append("g").attr("class",`mark-group mark-${n}`).attr("data-group",s);this.isPathMark(n)?await this.renderPathMark(c,n,a,i,o,r):this.isShapeMark(n)?await this.renderShapeMarks(c,n,i,o,r,l):this.isTextMark(n)?await this.renderTextMarks(c,i,o,r,l):await this.renderGenericMark(c,n,i,o,r,l)}isPathMark(t){return["line","area","arc","path","geoshape","contour"].includes(t)}isShapeMark(t){return["circle","rect","ellipse","polygon","symbol","point"].includes(t)}isTextMark(t){return["text","label"].includes(t)}async renderPathMark(t,n,r,a,i,o){var l,c,u;const s=this.generators.get(t.attr("data-layer-id"))||(r?this.createGenerator(r):null);if(n==="line"&&s){a.x&&s.x(f=>this.getEncodedValue(f,a.x)),a.y&&s.y(f=>this.getEncodedValue(f,a.y));const d=t.append("path").datum(i).attr("d",s).attr("fill","none");this.applyEncoding(d,a)}else if(n==="area"&&s){a.x&&s.x(f=>this.getEncodedValue(f,a.x)),a.y&&s.y1(f=>this.getEncodedValue(f,a.y)),a.y2?s.y0(f=>this.getEncodedValue(f,a.y2)):s.y0(((u=(c=(l=this.scales.get("y"))==null?void 0:l.range)==null?void 0:c.call(l))==null?void 0:u[0])||0);const d=t.append("path").datum(i).attr("d",s);this.applyEncoding(d,a)}else if(n==="arc"){const d=i;t.selectAll("path").data(d).join("path").attr("d",s||fl().innerRadius(0).outerRadius(100)).call(f=>this.applyEncoding(f,a))}}async renderShapeMarks(t,n,r,a,i,o){const s=t.selectAll(n).data(a,o).join(n);this.applyShapeAttributes(s,n,r,i),this.applyEncoding(s,r)}async renderTextMarks(t,n,r,a,i){const o=t.selectAll("text").data(r,i).join("text");this.applyEncoding(o,n),n.text&&o.text(s=>this.getEncodedValue(s,n.text))}async renderGenericMark(t,n,r,a,i,o){const s=t.selectAll(`.${n}`).data(a,o).join("g").attr("class",n);this.applyEncoding(s,r)}applyShapeAttributes(t,n,r,a){const o={circle:{x:"cx",y:"cy",size:"r"},rect:{x:"x",y:"y",width:"width",height:"height"},ellipse:{x:"cx",y:"cy",width:"rx",height:"ry"},line:{x:"x1",y:"y1",x2:"x2",y2:"y2"}}[n]||{};Object.entries(o).forEach(([s,l])=>{const c=r[s];c&&t.attr(l,u=>this.getEncodedValue(u,c))}),Object.entries(a).forEach(([s,l])=>{t.attr(s,l)})}applyEncoding(t,n){Object.entries(n).forEach(([r,a])=>{if(!a)return;const i=this.getAttributeForChannel(r);if(i)t.attr(i,o=>this.getEncodedValue(o,a));else{const o=this.getStylePropertyForChannel(r);o&&t.style(o,s=>this.getEncodedValue(s,a))}})}getAttributeForChannel(t){return{x:"x",y:"y",x2:"x2",y2:"y2",cx:"cx",cy:"cy",r:"r",width:"width",height:"height",color:"fill",fill:"fill",stroke:"stroke",strokeWidth:"stroke-width",opacity:"opacity",strokeOpacity:"stroke-opacity",size:"r",d:"d",startAngle:"data-start-angle",endAngle:"data-end-angle",innerRadius:"data-inner-radius",outerRadius:"data-outer-radius"}[t]||null}getStylePropertyForChannel(t){return{fontSize:"font-size",fontWeight:"font-weight",fontFamily:"font-family",textAnchor:"text-anchor"}[t]||null}getEncodedValue(t,n){if(n.value!==void 0)return n.value;if(n.field){let r=this.getValue(t,n.field);if(n.scale){const a=this.scales.get(n.scale);a&&(r=a(r))}return n.transform&&(r=this.applyChannelTransforms(r,n.transform)),r}return null}getValue(t,n){return n.split(".").reduce((r,a)=>r==null?void 0:r[a],t)}applyChannelTransforms(t,n){return n.reduce((r,a)=>{var i,o;switch(a.type){case"scale":return r*(((i=a.params)==null?void 0:i.factor)||1);case"offset":return r+(((o=a.params)==null?void 0:o.offset)||0);case"log":return Math.log(r);case"sqrt":return Math.sqrt(r);case"abs":return Math.abs(r);case"negate":return-r;default:return a.expression&&typeof a.expression=="function"?a.expression(r,data):r}},t)}applyStyles(t,n){Object.entries(n).forEach(([r,a])=>{this.isSVGAttribute(r)?t.attr(r,a):t.style(r,a)})}isSVGAttribute(t){return new Set(["fill","stroke","stroke-width","stroke-opacity","fill-opacity","opacity","transform","clip-path","mask","filter","x","y","width","height","cx","cy","r","rx","ry","d","points","x1","y1","x2","y2"]).has(t)}createComparator(t){const{field:n,order:r="ascending"}=t;return(a,i)=>{const o=this.getValue(a,n),s=this.getValue(i,n);return r==="ascending"?se(o,s):gl(o,s)}}evaluateCondition(t){var n;switch(t.type){case"expression":return!!t.test;case"function":return typeof t.test=="function"?t.test(this.state):!0;case"data":const r=this.dataCache.get(((n=t.params)==null?void 0:n.data)||"main");return r&&r.length>0;default:return!0}}applyBehaviors(){this.schema.behaviors&&this.schema.behaviors.forEach(t=>{this.applyBehavior(t)})}applyBehavior(t){const{type:n,target:r,params:a={}}=t,i=r?this.container.selectAll(r):this.container;switch(n){case"zoom":const o=Dm();a.scaleExtent&&o.scaleExtent(a.scaleExtent),i.call(o);break;case"drag":const s=Id();i.call(s);break}}startAnimations(){this.schema.animations&&this.schema.animations.forEach(t=>{t.trigger==="load"&&this.executeAnimationSequence(t.sequence,t.duration||1e3,t.delay||0,t.easing||"easeLinear")})}executeAnimationSequence(t,n,r,a){t.forEach((i,o)=>{const s=r+(i.delay||0)+o*100,l=i.duration||n;this.container.selectAll(i.target).transition().duration(l).delay(s).ease(yr[a]||kh).call(u=>{Object.entries(i.properties).forEach(([d,f])=>{this.isSVGAttribute(d)?u.attr(d,f):u.style(d,f)})})})}updateData(t){this.dataCache.set("main",t),this.render()}updateSchema(t){this.schema={...this.schema,...t},this.render()}getScale(t){return this.scales.get(t)}getData(t="main"){return this.dataCache.get(t)||[]}}const Om={animatedTreemap:{id:"animated-treemap",title:"Animated Treemap",data:{source:{type:"generated",options:{type:"temporal-hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0}},{type:"treemap",params:{size:[928,400],tile:"treemapResquarify",padding:1,round:!0}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:420},scales:{color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"x0"},y:{field:"y0"},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},height:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]},fill:{field:"name",scale:"color"}}}],animations:[{trigger:"time",sequence:[{target:".cells rect",properties:{x:"x0",y:"y0",width:"width",height:"height"},duration:750}]}]},temporalForceDirectedGraph:{id:"temporal-force-directed-graph",title:"Temporal Force-Directed Graph",data:{source:{type:"generated",options:{type:"temporal-network"}},transforms:[{type:"force",params:{forces:{charge:{strength:-300},link:{distance:30},x:{},y:{}}}}],fields:[{name:"id",type:"nominal",accessor:"id"},{name:"group",type:"nominal",accessor:"group"}]},space:{width:928,height:680},scales:{color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"links",data:"links",mark:{type:"line"},encoding:{stroke:{value:"#999"},strokeOpacity:{value:.6}}},{id:"nodes",data:"nodes",mark:{type:"circle"},encoding:{r:{value:5},fill:{field:"group",scale:"color"},stroke:{value:"#fff"},strokeWidth:{value:1.5}}}]},connectedScatterplot:{id:"connected-scatterplot",title:"Connected Scatterplot",data:{source:{type:"generated",options:{type:"driving-data"}},fields:[{name:"miles",type:"quantitative",accessor:"miles"},{name:"gas",type:"quantitative",accessor:"gas"},{name:"year",type:"temporal",accessor:"year"}]},space:{width:928,height:720,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"miles",method:"extent"},range:[40,898],nice:!0},y:{type:"linear",domainFrom:{data:"main",field:"gas",method:"extent"},range:[690,20],nice:!0}},layers:[{id:"line",mark:{type:"line",generator:{type:"line",curve:"curveCatmullRom"}},encoding:{x:{field:"miles",scale:"x"},y:{field:"gas",scale:"y"},stroke:{value:"black"},strokeWidth:{value:2.5},fill:{value:"none"}}},{id:"points",mark:{type:"circle"},encoding:{cx:{field:"miles",scale:"x"},cy:{field:"gas",scale:"y"},r:{value:3},fill:{value:"white"},stroke:{value:"black"},strokeWidth:{value:2}}}]},wealthHealthNations:{id:"wealth-health-nations",title:"The Wealth & Health of Nations",data:{source:{type:"generated",options:{type:"nations-data"}},fields:[{name:"income",type:"quantitative",accessor:"income"},{name:"lifeExpectancy",type:"quantitative",accessor:"lifeExpectancy"},{name:"population",type:"quantitative",accessor:"population"},{name:"region",type:"nominal",accessor:"region"}]},space:{width:928,height:500},scales:{x:{type:"log",domainFrom:{data:"main",field:"income",method:"extent"},range:[40,888]},y:{type:"linear",domainFrom:{data:"main",field:"lifeExpectancy",method:"extent"},range:[460,40]},size:{type:"sqrt",domainFrom:{data:"main",field:"population",method:"extent"},range:[0,40]},color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"region",method:"values"}}},layers:[{id:"bubbles",mark:{type:"circle"},encoding:{cx:{field:"income",scale:"x"},cy:{field:"lifeExpectancy",scale:"y"},r:{field:"population",scale:"size"},fill:{field:"region",scale:"color"},stroke:{value:"#000"}}}]},scatterplotTour:{id:"scatterplot-tour",title:"Scatterplot Tour",data:{source:{type:"generated",options:{type:"multi-dimensional"}},fields:[{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"},{name:"category",type:"nominal",accessor:"category"}]},space:{width:928,height:928},scales:{x:{type:"log",domainFrom:{data:"main",field:"x",method:"extent"},range:[0,928]},y:{type:"log",domainFrom:{data:"main",field:"y",method:"extent"},range:[928,0]},color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"category",method:"values"}}},layers:[{id:"points",mark:{type:"path"},encoding:{d:{value:"M0,0h0"},stroke:{field:"category",scale:"color"},strokeLinecap:{value:"round"}}}],behaviors:[{type:"zoom",target:"svg",params:{scaleExtent:[1,32]}}]},stackedToGroupedBars:{id:"stacked-to-grouped-bars",title:"Stacked to Grouped Bars",data:{source:{type:"generated",options:{type:"matrix-data"}},transforms:[{type:"stack",params:{}}],fields:[{name:"index",type:"quantitative",accessor:"index"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500,margin:{top:0,right:0,bottom:10,left:0}},scales:{x:{type:"band",range:[0,928],params:{padding:.08}},y:{type:"linear",range:[490,0]},color:{type:"sequential",interpolator:"interpolateBlues",domain:[-2.5,7.5]}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"index",scale:"x"},y:{field:"1",scale:"y"},width:{value:"bandwidth"},height:{field:"height",scale:"y"},fill:{field:"series",scale:"color"}}}],animations:[{trigger:"interaction",sequence:[{target:".bars rect",properties:{x:"x",y:"y",width:"width",height:"height"},duration:500}]}]},streamgraphTransitions:{id:"streamgraph-transitions",title:"Streamgraph Transitions",data:{source:{type:"generated",options:{type:"bumps"}},transforms:[{type:"stack",params:{offset:"stackOffsetWiggle",order:"stackOrderNone"}}],fields:[{name:"index",type:"quantitative",accessor:"index"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500},scales:{x:{type:"linear",domain:[0,199],range:[0,928]},y:{type:"linear",range:[500,0]}},layers:[{id:"areas",mark:{type:"area",generator:{type:"area"}},encoding:{x:{field:"index",scale:"x"},y:{field:"0",scale:"y"},y2:{field:"1",scale:"y"},fill:{field:"color"}}}],animations:[{trigger:"time",sequence:[{target:".areas path",properties:{d:"path"},duration:1500}]}]},smoothZooming:{id:"smooth-zooming",title:"Smooth Zooming",data:{source:{type:"generated",options:{type:"random-points"}},fields:[{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"}]},space:{width:928,height:500},scales:{},layers:[{id:"points",mark:{type:"circle"},encoding:{cx:{field:"x"},cy:{field:"y"},r:{value:2.5},fill:{field:"color"}}}],animations:[{trigger:"time",sequence:[{target:"g",properties:{transform:"transform"},duration:2500}]}]},zoomToBoundingBox:{id:"zoom-to-bounding-box",title:"Zoom to Bounding Box",data:{source:{type:"generated",options:{type:"us-states"}},fields:[{name:"geometry",type:"geojson",accessor:"geometry"},{name:"name",type:"nominal",accessor:"properties.name"}]},space:{width:975,height:610},scales:{},layers:[{id:"states",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#444"},stroke:{value:"white"},strokeLinejoin:{value:"round"}}}],behaviors:[{type:"zoom",target:"svg",params:{scaleExtent:[1,8]}},{type:"click",target:".states path",handlers:{click:{action:"zoomToFeature"}}}]},orthographicToEquirectangular:{id:"orthographic-to-equirectangular",title:"Orthographic to Equirectangular",data:{source:{type:"generated",options:{type:"world-features"}},fields:[{name:"geometry",type:"geojson",accessor:"geometry"}]},space:{width:928,height:500},scales:{},layers:[{id:"graticule",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#aaa"},strokeWidth:{value:1}}},{id:"land",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#000"}}},{id:"sphere",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#000"},strokeWidth:{value:1.5}}}],animations:[{trigger:"time",sequence:[{target:"svg",properties:{projection:"interpolated"},duration:2e3}]}]},worldTour:{id:"world-tour",title:"World Tour",data:{source:{type:"generated",options:{type:"world-countries"}},fields:[{name:"geometry",type:"geojson",accessor:"geometry"},{name:"name",type:"nominal",accessor:"properties.name"}]},space:{width:960,height:500},scales:{},layers:[{id:"land",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#ccc"}}},{id:"country",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#f00"}}},{id:"borders",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#fff"},strokeWidth:{value:.5}}}],animations:[{trigger:"time",sequence:[{target:"svg",properties:{projection:"rotation"},duration:1250}]}]},walmartsGrowth:{id:"walmarts-growth",title:"Walmart's Growth",data:{source:{type:"generated",options:{type:"walmart-stores"}},fields:[{name:"longitude",type:"quantitative",accessor:"longitude"},{name:"latitude",type:"quantitative",accessor:"latitude"},{name:"date",type:"temporal",accessor:"date"}]},space:{width:960,height:600},scales:{},layers:[{id:"background",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#ddd"}}},{id:"states",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"white"},strokeLinejoin:{value:"round"}}},{id:"stores",mark:{type:"circle"},encoding:{cx:{field:"longitude",transform:[{type:"projection"}]},cy:{field:"latitude",transform:[{type:"projection"}]},r:{value:0},fill:{value:"none"},stroke:{value:"black"}}}],animations:[{trigger:"time",sequence:[{target:".stores circle",properties:{r:3},duration:250}]}]},hierarchicalBarChart:{id:"hierarchical-bar-chart",title:"Hierarchical Bar Chart",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500},scales:{x:{type:"linear",range:[0,928]},y:{type:"band",range:[0,500]}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{value:0},y:{field:"y"},width:{field:"value",scale:"x"},height:{value:"bandwidth"},fill:{value:"steelblue"}}}]},zoomableTreemap:{id:"zoomable-treemap",title:"Zoomable Treemap",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0,sort:(e,t)=>t.value-e.value}},{type:"treemap",params:{tile:"treemapBinary"}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:924},scales:{x:{type:"linear",range:[0,928]},y:{type:"linear",range:[0,924]}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"x0"},y:{field:"y0"},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},height:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]},fill:{value:"#ddd"},stroke:{value:"#fff"}}}],behaviors:[{type:"click",target:".cells rect",handlers:{click:{action:"zoomToCell"}}}]},collapsibleTree:{id:"collapsible-tree",title:"Collapsible Tree",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"tree",params:{nodeSize:[10,200]}}],fields:[{name:"name",type:"nominal",accessor:"data.name"}]},space:{width:928,height:500,margin:{top:10,right:10,bottom:10,left:40}},scales:{},layers:[{id:"links",mark:{type:"path",generator:{type:"linkHorizontal"}},encoding:{stroke:{value:"#555"},strokeOpacity:{value:.4},strokeWidth:{value:1.5},fill:{value:"none"}}},{id:"nodes",mark:{type:"circle"},encoding:{cx:{field:"y"},cy:{field:"x"},r:{value:2.5},fill:{value:"#555"},stroke:{value:"white"},strokeWidth:{value:10}}}],behaviors:[{type:"click",target:".nodes circle",handlers:{click:{action:"toggleNode"}}}]},zoomableIcicle:{id:"zoomable-icicle",title:"Zoomable Icicle",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0,sort:(e,t)=>t.height-e.height||t.value-e.value}},{type:"partition",params:{size:[1200,928]}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:1200},scales:{color:{type:"ordinal",scheme:"Rainbow"}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"y0"},y:{field:"x0"},width:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]},height:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},fill:{field:"depth",scale:"color"},fillOpacity:{value:.6}}}],behaviors:[{type:"click",target:".cells rect",handlers:{click:{action:"zoomToCell"}}}]},zoomableSunburst:{id:"zoomable-sunburst",title:"Zoomable Sunburst",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0,sort:(e,t)=>t.value-e.value}},{type:"partition",params:{size:[2*Math.PI,464]}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:928},scales:{color:{type:"ordinal",scheme:"Rainbow"}},layers:[{id:"arcs",mark:{type:"arc",generator:{type:"arc",params:{padAngle:.005,padRadius:232}}},encoding:{startAngle:{field:"x0"},endAngle:{field:"x1"},innerRadius:{field:"y0",transform:[{type:"scale",params:{factor:232}}]},outerRadius:{field:"y1",transform:[{type:"scale",params:{factor:232}}]},fill:{field:"depth",scale:"color"},fillOpacity:{value:.6}},style:{transform:"translate(464px, 464px)"}}],behaviors:[{type:"click",target:".arcs path",handlers:{click:{action:"zoomToArc"}}}]},barChartTransitions:{id:"bar-chart-transitions",title:"Bar Chart Transitions",data:{source:{type:"generated",options:{count:26,type:"alphabet"}},fields:[{name:"letter",type:"ordinal",accessor:"letter"},{name:"frequency",type:"quantitative",accessor:"frequency"}]},space:{width:640,height:400,margin:{top:20,right:0,bottom:30,left:40}},scales:{x:{type:"band",domainFrom:{data:"main",field:"letter",method:"values"},range:[40,640],params:{padding:.1}},y:{type:"linear",domainFrom:{data:"main",field:"frequency",method:"max",transform:e=>[0,d3.max(e)]},range:[370,20],nice:!0}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"letter",scale:"x"},y:{field:"frequency",scale:"y"},width:{value:"bandwidth"},height:{field:"frequency",transform:[{type:"custom",expression:(e,t)=>370-(void 0).getEncodedValue(t,{field:"frequency",scale:"y"})}]},fill:{value:"steelblue"}}}],animations:[{trigger:"update",sequence:[{target:".bars rect",properties:{x:"x",y:"y"},duration:750}]}]},icelandicPopulationByAge:{id:"icelandic-population-by-age",title:"Icelandic Population by Age 1841-2019",data:{source:{type:"generated",options:{type:"population-pyramid"}},fields:[{name:"year",type:"temporal",accessor:"year"},{name:"age",type:"quantitative",accessor:"age"},{name:"sex",type:"nominal",accessor:"sex"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:34,left:0}},scales:{x:{type:"band",domainFrom:{data:"main",field:"age",method:"values"},range:[898,0]},y:{type:"linear",domainFrom:{data:"main",field:"value",method:"max"},range:[466,20]},color:{type:"ordinal",domain:["M","F"],range:["#4e79a7","#e15759"]}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"age",scale:"x"},y:{field:"value",scale:"y"},width:{value:"bandwidth"},height:{field:"value",transform:[{type:"custom",expression:(e,t)=>466-(void 0).getEncodedValue(t,{field:"value",scale:"y"})}]},fill:{field:"sex",scale:"color"}}}]},pieChartUpdate:{id:"pie-chart-update",title:"Pie Chart Update",data:{source:{type:"generated",options:{type:"fruit-data"}},transforms:[{type:"pie",params:{value:"apples",sort:null}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500},scales:{color:{type:"ordinal",scheme:"Observable10"}},layers:[{id:"slices",mark:{type:"arc",generator:{type:"arc",params:{innerRadius:187.5,outerRadius:250}}},encoding:{fill:{field:"index",scale:"color"}},style:{transform:"translate(464px, 250px)"}}],animations:[{trigger:"update",sequence:[{target:".slices path",properties:{d:"arc"},duration:750}]}]},arcTween:{id:"arc-tween",title:"Arc Tween",data:{source:{type:"inline",data:[{endAngle:.127*2*Math.PI}]},fields:[{name:"endAngle",type:"quantitative",accessor:"endAngle"}]},space:{width:640,height:640},scales:{},layers:[{id:"background",mark:{type:"arc",generator:{type:"arc",params:{innerRadius:200,outerRadius:250,startAngle:0,endAngle:2*Math.PI}}},encoding:{fill:{value:"#ddd"}},style:{transform:"translate(320px, 320px)"}},{id:"foreground",mark:{type:"arc",generator:{type:"arc",params:{innerRadius:200,outerRadius:250,startAngle:0}}},encoding:{fill:{value:"orange"}},style:{transform:"translate(320px, 320px)"}}],animations:[{trigger:"time",sequence:[{target:".foreground path",properties:{d:"arcTween"},duration:750}]}]},versorDragging:{id:"versor-dragging",title:"Versor Dragging",data:{source:{type:"generated",options:{type:"world-land"}},fields:[{name:"geometry",type:"geojson",accessor:"geometry"}]},space:{width:928,height:500},scales:{},layers:[{id:"sphere",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#fff"}}},{id:"land",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#000"}}},{id:"outline",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#000"}}}],behaviors:[{type:"drag",target:"canvas",handlers:{drag:{action:"rotateProjection"}}}]},sequencesSunburst:{id:"sequences-sunburst",title:"Sequences Sunburst",data:{source:{type:"generated",options:{type:"sequences"}},transforms:[{type:"hierarchy",params:{value:"size",sum:!0}},{type:"partition",params:{size:[2*Math.PI,200]}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"size",type:"quantitative",accessor:"size"}]},space:{width:600,height:600},scales:{color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"arcs",mark:{type:"arc",generator:{type:"arc"}},encoding:{fill:{field:"name",scale:"color"}},style:{transform:"translate(300px, 300px)"},when:{type:"expression",test:"d => d.depth > 0 && d.x1 - d.x0 > 0.001"}}],behaviors:[{type:"hover",target:".arcs path",handlers:{mouseover:{action:"highlightSequence"}}}]},brushableScatterplot:{id:"brushable-scatterplot",title:"Brushable Scatterplot",data:{source:{type:"generated",options:{type:"cars"}},fields:[{name:"mpg",type:"quantitative",accessor:"Miles_per_Gallon"},{name:"hp",type:"quantitative",accessor:"Horsepower"}]},space:{width:928,height:600,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"mpg",method:"max",transform:e=>[0,d3.max(e)]},range:[40,898],nice:!0},y:{type:"linear",domainFrom:{data:"main",field:"hp",method:"max",transform:e=>[0,d3.max(e)]},range:[570,20],nice:!0}},layers:[{id:"points",mark:{type:"circle"},encoding:{cx:{field:"mpg",scale:"x"},cy:{field:"hp",scale:"y"},r:{value:3},fill:{value:"none"},stroke:{value:"steelblue"},strokeWidth:{value:1.5}}}],behaviors:[{type:"brush",target:"svg",handlers:{brush:{action:"selectPoints"}}}]},pannableChart:{id:"pannable-chart",title:"Pannable Chart",data:{source:{type:"generated",options:{type:"stock-data"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"close",type:"quantitative",accessor:"close"}]},space:{width:928,height:420,margin:{top:20,right:20,bottom:30,left:30}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[30,5568]},y:{type:"linear",domainFrom:{data:"main",field:"close",method:"max",transform:e=>[0,d3.max(e)]},range:[390,20],nice:!0}},layers:[{id:"area",mark:{type:"area",generator:{type:"area",curve:"curveStep"}},encoding:{x:{field:"date",scale:"x"},y:{field:"close",scale:"y"},y2:{value:390},fill:{value:"steelblue"}}}],behaviors:[{type:"pan",target:".chart-body",params:{direction:"horizontal"}}]},zoomableBarChart:{id:"zoomable-bar-chart",title:"Zoomable Bar Chart",data:{source:{type:"generated",options:{count:26,type:"alphabet"}},fields:[{name:"letter",type:"ordinal",accessor:"letter"},{name:"frequency",type:"quantitative",accessor:"frequency"}]},space:{width:928,height:500,margin:{top:20,right:0,bottom:30,left:40}},scales:{x:{type:"band",domainFrom:{data:"main",field:"letter",method:"values"},range:[40,928],params:{padding:.1}},y:{type:"linear",domainFrom:{data:"main",field:"frequency",method:"max",transform:e=>[0,d3.max(e)]},range:[470,20],nice:!0}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"letter",scale:"x"},y:{field:"frequency",scale:"y"},width:{value:"bandwidth"},height:{field:"frequency",transform:[{type:"custom",expression:(e,t)=>470-(void 0).getEncodedValue(t,{field:"frequency",scale:"y"})}]},fill:{value:"steelblue"}}}],behaviors:[{type:"zoom",target:"svg",params:{scaleExtent:[1,8]}}]},seamlessZoomableMapTiles:{id:"seamless-zoomable-map-tiles",title:"Seamless Zoomable Map Tiles",data:{source:{type:"generated",options:{type:"map-tiles"}},fields:[{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"},{name:"z",type:"quantitative",accessor:"z"}]},space:{width:928,height:500},scales:{},layers:[{id:"tiles",mark:{type:"image"},encoding:{x:{field:"x"},y:{field:"y"},width:{field:"k"},height:{field:"k"},href:{field:"url"}}}],behaviors:[{type:"zoom",target:"svg",handlers:{zoom:{action:"updateTiles"}}}]},movingAverage:{id:"moving-average",title:"Moving Average",data:{source:{type:"generated",options:{type:"events"}},transforms:[{type:"bin",params:{field:"date",thresholds:"timeDay"}},{type:"movingAverage",params:{window:7}}],fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500,margin:{top:20,right:12,bottom:30,left:30}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[30,916]},y:{type:"linear",domainFrom:{data:"main",field:"value",method:"max"},range:[470,20],nice:!0}},layers:[{id:"area",mark:{type:"area",generator:{type:"area"}},encoding:{x:{field:"date",scale:"x"},y:{field:"value",scale:"y"},y2:{value:470},fill:{value:"steelblue"}}}]},bollingerBands:{id:"bollinger-bands",title:"Bollinger Bands",data:{source:{type:"generated",options:{type:"stock-prices"}},transforms:[{type:"bollingerBands",params:{field:"Close",period:20,multiplier:2}}],fields:[{name:"Date",type:"temporal",accessor:"Date"},{name:"Close",type:"quantitative",accessor:"Close"},{name:"upperBand",type:"quantitative",accessor:"upperBand"},{name:"lowerBand",type:"quantitative",accessor:"lowerBand"}]},space:{width:928,height:600,margin:{top:10,right:20,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"Date",method:"extent"},range:[40,908]},y:{type:"log",domainFrom:{data:"main",field:"Close",method:"extent"},range:[570,10]}},layers:[{id:"bands",mark:{type:"line",generator:{type:"line"}},encoding:{x:{field:"Date",scale:"x"},y:{field:"band",scale:"y"},stroke:{field:"type"},strokeWidth:{value:1.5},fill:{value:"none"}}}]},kernelDensityEstimation:{id:"kernel-density-estimation",title:"Kernel Density Estimation",data:{source:{type:"generated",options:{type:"random-data"}},transforms:[{type:"kde",params:{bandwidth:7,thresholds:40}}],fields:[{name:"value",type:"quantitative",accessor:"value"},{name:"density",type:"quantitative",accessor:"density"}]},space:{width:928,height:500},scales:{x:{type:"linear",domainFrom:{data:"main",field:"value",method:"extent"},range:[0,928]},y:{type:"linear",domainFrom:{data:"main",field:"density",method:"max"},range:[500,0]}},layers:[{id:"curve",mark:{type:"line",generator:{type:"line",curve:"curveBasis"}},encoding:{x:{field:"value",scale:"x"},y:{field:"density",scale:"y"},stroke:{value:"steelblue"},strokeWidth:{value:2},fill:{value:"none"}}}]},hexbinArea:{id:"hexbin-area",title:"Hexbin Area",data:{source:{type:"generated",options:{type:"diamonds"}},transforms:[{type:"hexbin",params:{x:"carat",y:"price",radius:10}}],fields:[{name:"carat",type:"quantitative",accessor:"carat"},{name:"price",type:"quantitative",accessor:"price"}]},space:{width:928,height:928,margin:{top:20,right:20,bottom:30,left:40}},scales:{x:{type:"log",domainFrom:{data:"main",field:"carat",method:"extent"},range:[40,908]},y:{type:"log",domainFrom:{data:"main",field:"price",method:"extent"},range:[908,20]},size:{type:"sqrt",domainFrom:{data:"main",field:"length",method:"max"},range:[0,20]}},layers:[{id:"hexagons",mark:{type:"path",generator:{type:"hexagon"}},encoding:{fill:{value:"#ddd"},stroke:{value:"black"}}}]},hexbinMap:{id:"hexbin-map",title:"Hexbin Map",data:{source:{type:"generated",options:{type:"walmart-locations"}},transforms:[{type:"projection",params:{type:"albersUsa",scale:1280,translate:[464,290.5]}},{type:"hexbin",params:{extent:[[0,0],[928,581]],radius:10}}],fields:[{name:"longitude",type:"quantitative",accessor:"longitude"},{name:"latitude",type:"quantitative",accessor:"latitude"},{name:"date",type:"temporal",accessor:"date"}]},space:{width:928,height:581},scales:{color:{type:"sequential",interpolator:"interpolateSpectral",domainFrom:{data:"main",field:"date",method:"extent"}},size:{type:"sqrt",domainFrom:{data:"main",field:"length",method:"max"},range:[0,20]}},layers:[{id:"states",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#777"},strokeWidth:{value:.5},strokeLinejoin:{value:"round"}}},{id:"hexagons",mark:{type:"path",generator:{type:"hexagon"}},encoding:{fill:{field:"date",scale:"color"},stroke:{field:"date",scale:"color",transform:[{type:"custom",expression:(e,t)=>d3.lab((void 0).scales.get("color")(t.date)).darker()}]}}}]},qqPlot:{id:"q-q-plot",title:"Q-Q Plot",data:{source:{type:"generated",options:{type:"two-batches"}},transforms:[{type:"quantile",params:{field1:"batch1",field2:"batch2"}}],fields:[{name:"batch1",type:"quantitative",accessor:"batch1"},{name:"batch2",type:"quantitative",accessor:"batch2"}]},space:{width:640,height:640,margin:{top:20,right:40,bottom:30,left:40}},scales:{x:{type:"linear",range:[40,600],nice:!0},y:{type:"linear",range:[600,20],nice:!0}},layers:[{id:"reference",mark:{type:"line"},encoding:{x1:{field:"qmin",scale:"x"},y1:{field:"qmin",scale:"y"},x2:{field:"qmax",scale:"x"},y2:{field:"qmax",scale:"y"},stroke:{value:"currentColor"},strokeOpacity:{value:.3}}},{id:"points",mark:{type:"circle"},encoding:{cx:{field:"batch2",scale:"x"},cy:{field:"batch1",scale:"y"},r:{value:3},fill:{value:"none"},stroke:{value:"steelblue"},strokeWidth:{value:1.5}}}]},normalQuantilePlot:{id:"normal-quantile-plot",title:"Normal Quantile Plot",data:{source:{type:"generated",options:{type:"normal-data"}},transforms:[{type:"quantile",params:{field:"value",distribution:"normal"}}],fields:[{name:"value",type:"quantitative",accessor:"value"},{name:"quantile",type:"quantitative",accessor:"quantile"}]},space:{width:640,height:640,margin:{top:20,right:40,bottom:30,left:40}},scales:{x:{type:"linear",domain:[-3,3],range:[40,600],nice:!0},y:{type:"linear",range:[600,20],nice:!0}},layers:[{id:"regression",mark:{type:"line"},encoding:{stroke:{value:"currentColor"},strokeOpacity:{value:.3}}},{id:"points",mark:{type:"circle"},encoding:{cx:{field:"quantile",scale:"x"},cy:{field:"value",scale:"y"},r:{value:3},fill:{value:"none"},stroke:{value:"steelblue"},strokeWidth:{value:1.5}}}]},parallelSets:{id:"parallel-sets",title:"Parallel Sets",data:{source:{type:"generated",options:{type:"titanic"}},transforms:[{type:"sankey",params:{nodeSort:null,linkSort:null,nodeWidth:4,nodePadding:20,extent:[[0,5],[928,715]]}}],fields:[{name:"class",type:"nominal",accessor:"class"},{name:"sex",type:"nominal",accessor:"sex"},{name:"age",type:"nominal",accessor:"age"},{name:"survived",type:"nominal",accessor:"survived"}]},space:{width:928,height:720},scales:{color:{type:"ordinal",domain:["Perished"],range:["#da4f81"]}},layers:[{id:"nodes",data:"nodes",mark:{type:"rect"},encoding:{x:{field:"x0"},y:{field:"y0"},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},height:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]}}},{id:"links",data:"links",mark:{type:"path",generator:{type:"sankeyLinkHorizontal"}},encoding:{fill:{value:"none"},stroke:{field:"names.0",scale:"color"},strokeWidth:{field:"width"}}}]},cascadedTreemap:{id:"cascaded-treemap",title:"Cascaded Treemap",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0,sort:(e,t)=>t.value-e.value}},{type:"treemap",params:{size:[928,1060],paddingOuter:3,paddingTop:19,paddingInner:1,round:!0}},{type:"cascade",params:{offset:3}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"},{name:"depth",type:"quantitative",accessor:"depth"}]},space:{width:928,height:1060},scales:{color:{type:"sequential",interpolator:"interpolateMagma",domain:[8,0]}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"x0"},y:{field:"y0"},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},height:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]},fill:{field:"depth",scale:"color"}}}]},nestedTreemap:{id:"nested-treemap",title:"Nested Treemap",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0,sort:(e,t)=>t.value-e.value}},{type:"treemap",params:{size:[928,1060],paddingOuter:3,paddingTop:19,paddingInner:1,round:!0}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"},{name:"depth",type:"quantitative",accessor:"depth"}]},space:{width:928,height:1060},scales:{color:{type:"sequential",interpolator:"interpolateMagma",domain:[8,0]}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"x0"},y:{field:"y0"},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},height:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]},fill:{field:"depth",scale:"color"}}}]},indentedTree:{id:"indented-tree",title:"Indented Tree",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value"}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"},{name:"depth",type:"quantitative",accessor:"depth"}]},space:{width:928,height:500},scales:{},layers:[{id:"links",mark:{type:"path"},encoding:{stroke:{value:"#999"},fill:{value:"none"}}},{id:"nodes",mark:{type:"circle"},encoding:{cx:{field:"depth",transform:[{type:"scale",params:{factor:17}}]},cy:{field:"index",transform:[{type:"scale",params:{factor:17}}]},r:{value:2.5},fill:{value:"#999"}}},{id:"labels",mark:{type:"text"},encoding:{x:{field:"depth",transform:[{type:"scale",params:{factor:17}},{type:"offset",params:{offset:6}}]},y:{field:"index",transform:[{type:"scale",params:{factor:17}}]},text:{field:"name"},dy:{value:"0.32em"}}}]},radialCluster:{id:"radial-cluster",title:"Radial Cluster",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{sort:(e,t)=>d3.ascending(e.data.name,t.data.name)}},{type:"cluster",params:{size:[2*Math.PI,536],separation:(e,t)=>(e.parent==t.parent?1:2)/e.depth}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"}]},space:{width:1152,height:1152},scales:{},layers:[{id:"links",mark:{type:"path",generator:{type:"linkRadial"}},encoding:{stroke:{value:"#555"},strokeOpacity:{value:.4},strokeWidth:{value:1.5},fill:{value:"none"}},style:{transform:"translate(576px, 622px)"}},{id:"nodes",mark:{type:"circle"},encoding:{r:{value:2.5},fill:{value:"#555"}},style:{transform:"translate(576px, 622px)"}}]},treeOfLife:{id:"tree-of-life",title:"Tree of Life",data:{source:{type:"generated",options:{type:"phylogenetic"}},transforms:[{type:"hierarchy",params:{children:"branchset",sum:e=>e.branchset?0:1,sort:(e,t)=>e.value-t.value||d3.ascending(e.data.length,t.data.length)}},{type:"cluster",params:{}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"length",type:"quantitative",accessor:"data.length"}]},space:{width:954,height:954},scales:{color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"links",mark:{type:"path",generator:{type:"linkConstant"}},encoding:{stroke:{field:"color"},fill:{value:"none"}}},{id:"labels",mark:{type:"text"},encoding:{text:{field:"name",transform:[{type:"custom",expression:e=>e.replace(/_/g," ")}]},textAnchor:{field:"x",transform:[{type:"custom",expression:(e,t)=>t.x<Math.PI?"start":"end"}]}}}]},forceDirectedTree:{id:"force-directed-tree",title:"Force-Directed Tree",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{}},{type:"force",params:{forces:{link:{distance:0,strength:1},charge:{strength:-50},x:{},y:{}}}}],fields:[{name:"name",type:"nominal",accessor:"data.name"}]},space:{width:928,height:600},scales:{},layers:[{id:"links",data:"links",mark:{type:"line"},encoding:{stroke:{value:"#999"},strokeOpacity:{value:.6}}},{id:"nodes",data:"nodes",mark:{type:"circle"},encoding:{r:{value:3.5},fill:{value:"#fff"},stroke:{value:"#000"},strokeWidth:{value:1.5}}}]},disjointForceDirectedGraph:{id:"disjoint-force-directed-graph",title:"Disjoint Force-Directed Graph",data:{source:{type:"generated",options:{type:"disjoint-network"}},transforms:[{type:"force",params:{forces:{link:{distance:30},charge:{strength:-300},x:{},y:{}}}}],fields:[{name:"id",type:"nominal",accessor:"id"},{name:"group",type:"nominal",accessor:"group"}]},space:{width:928,height:680},scales:{color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"links",data:"links",mark:{type:"line"},encoding:{stroke:{value:"#999"},strokeOpacity:{value:.6},strokeWidth:{field:"value",transform:[{type:"sqrt"}]}}},{id:"nodes",data:"nodes",mark:{type:"circle"},encoding:{r:{value:5},fill:{field:"group",scale:"color"},stroke:{value:"#fff"},strokeWidth:{value:1.5}}}]},mobilePatentSuits:{id:"mobile-patent-suits",title:"Mobile Patent Suits",data:{source:{type:"generated",options:{type:"patent-suits"}},transforms:[{type:"force",params:{forces:{link:{},charge:{strength:-400},x:{},y:{}}}}],fields:[{name:"id",type:"nominal",accessor:"id"},{name:"type",type:"nominal",accessor:"type"}]},space:{width:928,height:600},scales:{color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"type",method:"values"}}},layers:[{id:"links",data:"links",mark:{type:"path",generator:{type:"linkArc"}},encoding:{stroke:{field:"type",scale:"color"},strokeWidth:{value:1.5},fill:{value:"none"},markerEnd:{field:"type",transform:[{type:"custom",expression:(e,t)=>`url(#arrow-${t.type})`}]}}},{id:"nodes",data:"nodes",mark:{type:"circle"},encoding:{r:{value:4},fill:{value:"currentColor"},stroke:{value:"white"},strokeWidth:{value:1.5}}}]},directedChordDiagram:{id:"directed-chord-diagram",title:"Directed Chord Diagram",data:{source:{type:"generated",options:{type:"directed-matrix"}},transforms:[{type:"chordDirected",params:{padAngle:.02,sortSubgroups:d3.descending,sortChords:d3.descending}}],fields:[{name:"index",type:"quantitative",accessor:"index"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:1080,height:1080},scales:{color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"ribbons",data:"chords",mark:{type:"path",generator:{type:"ribbonArrow",params:{radius:539}}},encoding:{fill:{field:"target.index",scale:"color"},fillOpacity:{value:.75}},style:{transform:"translate(540px, 540px)",mixBlendMode:"multiply"}},{id:"arcs",data:"groups",mark:{type:"arc",generator:{type:"arc",params:{innerRadius:540,outerRadius:546}}},encoding:{fill:{field:"index",scale:"color"}},style:{transform:"translate(540px, 540px)"}}]},chordDependencyDiagram:{id:"chord-dependency-diagram",title:"Chord Dependency Diagram",data:{source:{type:"generated",options:{type:"dependency-matrix"}},transforms:[{type:"chordDirected",params:{padAngle:.02,sortSubgroups:d3.descending,sortChords:d3.descending}}],fields:[{name:"source",type:"nominal",accessor:"source"},{name:"target",type:"nominal",accessor:"target"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:1080,height:1080},scales:{color:{type:"quantize",interpolator:"interpolateRainbow"}},layers:[{id:"ribbons",data:"chords",mark:{type:"path",generator:{type:"ribbonArrow",params:{radius:539}}},encoding:{fill:{field:"target.index",scale:"color"}},style:{transform:"translate(540px, 540px)"}}]},bivariateChloropleth:{id:"bivariate-choropleth",title:"Bivariate Choropleth",data:{source:{type:"generated",options:{type:"us-counties-health"}},fields:[{name:"diabetes",type:"quantitative",accessor:"diabetes"},{name:"obesity",type:"quantitative",accessor:"obesity"},{name:"county",type:"nominal",accessor:"county"}]},space:{width:975,height:610},scales:{x:{type:"quantile",domainFrom:{data:"main",field:"diabetes",method:"values"},range:[0,1,2]},y:{type:"quantile",domainFrom:{data:"main",field:"obesity",method:"values"},range:[0,1,2]}},layers:[{id:"counties",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{field:"bivariate",transform:[{type:"custom",expression:(e,t)=>(void 0).bivariateColor(t.diabetes,t.obesity)}]}}}]},usStateChloropleth:{id:"us-state-choropleth",title:"US State Choropleth",data:{source:{type:"generated",options:{type:"us-states-unemployment"}},fields:[{name:"id",type:"nominal",accessor:"id"},{name:"rate",type:"quantitative",accessor:"properties.rate"}]},space:{width:975,height:610},scales:{color:{type:"quantize",scheme:"Blues",domainFrom:{data:"main",field:"rate",method:"extent"}}},layers:[{id:"states",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{field:"rate",scale:"color"}}}]},worldChloropleth:{id:"world-choropleth",title:"World Choropleth",data:{source:{type:"generated",options:{type:"world-countries-hale"}},transforms:[{type:"projection",params:{type:"equalEarth",fitExtent:[[2,48],[926,500]]}}],fields:[{name:"name",type:"nominal",accessor:"properties.name"},{name:"hale",type:"quantitative",accessor:"properties.hale"}]},space:{width:928,height:500,margin:{top:46}},scales:{color:{type:"sequential",interpolator:"interpolateYlGnBu",domainFrom:{data:"main",field:"hale",method:"extent"}}},layers:[{id:"sphere",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"white"},stroke:{value:"currentColor"}}},{id:"countries",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{field:"hale",scale:"color"}}}]},antimeridianCutting:{id:"antimeridian-cutting",title:"Antimeridian Cutting",data:{source:{type:"generated",options:{type:"world-land"}},fields:[{name:"geometry",type:"geojson",accessor:"geometry"}]},space:{width:960,height:500},scales:{},layers:[{id:"land",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#000"}}},{id:"sphere",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#000"},strokeWidth:{value:1}}}],behaviors:[{type:"drag",target:"canvas",handlers:{drag:{action:"rotateProjection"}}}]},tissotIndicatrix:{id:"tissot-indicatrix",title:"Tissot's Indicatrix",data:{source:{type:"generated",options:{type:"tissot-circles"}},fields:[{name:"coordinates",type:"geojson",accessor:"coordinates"}]},space:{width:928,height:500},scales:{},layers:[{id:"circles",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"red"}}}]},webMercatorTiles:{id:"web-mercator-tiles",title:"Web Mercator Tiles",data:{source:{type:"generated",options:{type:"map-tiles"}},fields:[{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"},{name:"z",type:"quantitative",accessor:"z"}]},space:{width:928,height:500},scales:{},layers:[{id:"tiles",mark:{type:"image"},encoding:{x:{field:"x"},y:{field:"y"},width:{field:"k"},height:{field:"k"},href:{field:"url"}}}]},rasterTiles:{id:"raster-tiles",title:"Raster Tiles",data:{source:{type:"generated",options:{type:"raster-tiles"}},fields:[{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"},{name:"z",type:"quantitative",accessor:"z"}]},space:{width:928,height:500},scales:{},layers:[{id:"tiles",mark:{type:"image"},encoding:{x:{field:"x",transform:[{type:"custom",expression:(e,t)=>Math.round((t.x+t.tx)*t.k)}]},y:{field:"y",transform:[{type:"custom",expression:(e,t)=>Math.round((t.y+t.ty)*t.k)}]},width:{field:"k"},height:{field:"k"},href:{field:"url"}}}]},vectorTiles:{id:"vector-tiles",title:"Vector Tiles",data:{source:{type:"generated",options:{type:"vector-tiles"}},fields:[{name:"water",type:"geojson",accessor:"data.water"},{name:"roads",type:"geojson",accessor:"data.roads"}]},space:{width:928,height:500},scales:{},layers:[{id:"water",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#eee"}}},{id:"roads",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#000"},strokeWidth:{value:.75}}}]},clippedMapTiles:{id:"clipped-map-tiles",title:"Clipped Map Tiles",data:{source:{type:"generated",options:{type:"clipped-tiles"}},fields:[{name:"land",type:"geojson",accessor:"land"}]},space:{width:928,height:500,clips:[{id:"land-clip",type:"path",params:{d:"land-path"}}]},scales:{},layers:[{id:"tiles",mark:{type:"image"},encoding:{x:{field:"x"},y:{field:"y"},width:{field:"k"},height:{field:"k"},href:{field:"url"}},clipPath:"land-clip"}]},rasterVector:{id:"raster-vector",title:"Raster & Vector",data:{source:{type:"generated",options:{type:"raster-vector"}},fields:[{name:"vectors",type:"geojson",accessor:"vectors"}]},space:{width:928,height:500},scales:{},layers:[{id:"tiles",mark:{type:"image"},encoding:{x:{field:"x"},y:{field:"y"},width:{field:"k"},height:{field:"k"},href:{field:"url"}}},{id:"vectors",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"red"}}}]},vectorField:{id:"vector-field",title:"Vector Field",data:{source:{type:"generated",options:{type:"wind-data"}},fields:[{name:"longitude",type:"quantitative",accessor:"longitude"},{name:"latitude",type:"quantitative",accessor:"latitude"},{name:"speed",type:"quantitative",accessor:"speed"},{name:"direction",type:"quantitative",accessor:"dir"}]},space:{width:928,height:500},scales:{length:{type:"sqrt",domainFrom:{data:"main",field:"speed",method:"max"},range:[0,2]},color:{type:"sequential",interpolator:"interpolateRainbow",domain:[0,360]}},layers:[{id:"land",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#eee"},strokeWidth:{value:1.5}}},{id:"arrows",mark:{type:"path"},encoding:{fill:{field:"direction",scale:"color"},transform:{field:"arrow-path"}}}]},geotiffContours:{id:"geotiff-contours",title:"GeoTIFF Contours",data:{source:{type:"generated",options:{type:"elevation-data"}},transforms:[{type:"contours",params:{values:"elevation",thresholds:10}}],fields:[{name:"elevation",type:"quantitative",accessor:"elevation"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:960,height:500},scales:{color:{type:"sequential",interpolator:"interpolateSpectral",domainFrom:{data:"main",field:"value",method:"extent"}}},layers:[{id:"contours",mark:{type:"path",generator:{type:"geoPath"}},encoding:{fill:{field:"value",scale:"color"},stroke:{value:"#000"},strokeWidth:{value:.5},strokeLinejoin:{value:"round"},strokeLinecap:{value:"round"}}}]},usAirportsVoronoi:{id:"us-airports-voronoi",title:"US Airports Voronoi",data:{source:{type:"generated",options:{type:"us-airports"}},transforms:[{type:"voronoi",params:{x:"longitude",y:"latitude"}}],fields:[{name:"longitude",type:"quantitative",accessor:"longitude"},{name:"latitude",type:"quantitative",accessor:"latitude"},{name:"name",type:"nominal",accessor:"properties.name"}]},space:{width:975,height:610},scales:{},layers:[{id:"states",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#ddd"}}},{id:"voronoi",mark:{type:"path",generator:{type:"geoPath"}},encoding:{fill:{value:"none"},stroke:{value:"steelblue"},strokeLinejoin:{value:"round"}}},{id:"airports",mark:{type:"circle"},encoding:{cx:{field:"longitude",transform:[{type:"projection"}]},cy:{field:"latitude",transform:[{type:"projection"}]},r:{value:1.5}}}]},worldAirportsVoronoi:{id:"world-airports-voronoi",title:"World Airports Voronoi",data:{source:{type:"generated",options:{type:"world-airports"}},transforms:[{type:"voronoi",params:{x:"longitude",y:"latitude"}}],fields:[{name:"longitude",type:"quantitative",accessor:"longitude"},{name:"latitude",type:"quantitative",accessor:"latitude"}]},space:{width:928,height:500},scales:{},layers:[{id:"graticule",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#aaa"},strokeWidth:{value:.5}}},{id:"land",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#000"},strokeWidth:{value:.5}}},{id:"airports",mark:{type:"circle"},encoding:{r:{value:1.5},fill:{value:"#f00"}}}]},solarTerminator:{id:"solar-terminator",title:"Solar Terminator",data:{source:{type:"generated",options:{type:"world-land"}},transforms:[{type:"solarTerminator",params:{date:"current"}}],fields:[{name:"geometry",type:"geojson",accessor:"geometry"}]},space:{width:928,height:500},scales:{},layers:[{id:"graticule",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#ccc"}}},{id:"land",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#000"}}},{id:"night",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"rgba(0,0,255,0.3)"}}}]},solarPath:{id:"solar-path",title:"Solar Path",data:{source:{type:"generated",options:{type:"solar-data"}},fields:[{name:"azimuth",type:"quantitative",accessor:"azimuth"},{name:"elevation",type:"quantitative",accessor:"elevation"},{name:"date",type:"temporal",accessor:"date"}]},space:{width:928,height:500},scales:{x:{type:"linear",domain:[0,360],range:[0,928]},y:{type:"linear",domain:[0,90],range:[500,0]}},layers:[{id:"path",mark:{type:"line",generator:{type:"line"}},encoding:{x:{field:"azimuth",scale:"x"},y:{field:"elevation",scale:"y"},stroke:{value:"orange"},strokeWidth:{value:2},fill:{value:"none"}}}]},starMap:{id:"star-map",title:"Star Map",data:{source:{type:"generated",options:{type:"star-catalog"}},transforms:[{type:"projection",params:{type:"stereographic",reflectY:!0,scale:404,clipExtent:[[0,0],[954,954]],rotate:[0,-90],translate:[477,477]}},{type:"voronoi",params:{extent:[[0,0],[954,954]]}}],fields:[{name:"ra",type:"quantitative",accessor:"ra"},{name:"dec",type:"quantitative",accessor:"dec"},{name:"magnitude",type:"quantitative",accessor:"magnitude"}]},space:{width:954,height:954},scales:{radius:{type:"linear",domain:[6,-1],range:[0,8]}},layers:[{id:"graticule",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"currentColor"},strokeOpacity:{value:.2}}},{id:"stars",mark:{type:"circle"},encoding:{r:{field:"magnitude",scale:"radius"},stroke:{value:"black"}}}]},nonContiguousCartogram:{id:"non-contiguous-cartogram",title:"Non-Contiguous Cartogram",data:{source:{type:"generated",options:{type:"us-states-data"}},fields:[{name:"id",type:"nominal",accessor:"id"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:975,height:610},scales:{color:{type:"sequential",interpolator:"interpolateReds",domainFrom:{data:"main",field:"value",method:"extent"},nice:!0}},layers:[{id:"states",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{field:"value",scale:"color"},stroke:{value:"#000"},transform:{field:"cartogram-transform"}}}]},volcanoContours:{id:"volcano-contours",title:"Volcano Contours",data:{source:{type:"generated",options:{type:"volcano-elevation"}},transforms:[{type:"contours",params:{size:[61,87],thresholds:20}}],fields:[{name:"elevation",type:"quantitative",accessor:"values"}]},space:{width:928,height:500},scales:{color:{type:"sequential",interpolator:"interpolateTurbo",domainFrom:{data:"main",field:"elevation",method:"extent"},nice:!0}},layers:[{id:"contours",mark:{type:"path",generator:{type:"geoPath"}},encoding:{fill:{field:"value",scale:"color"},stroke:{value:"black"}}}]},contours:{id:"contours",title:"Contours",data:{source:{type:"generated",options:{type:"goldstein-price"}},transforms:[{type:"contours",params:{thresholds:20}}],fields:[{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500},scales:{color:{type:"sequential",interpolator:"interpolateSpectral"}},layers:[{id:"contours",mark:{type:"path",generator:{type:"geoPath"}},encoding:{fill:{field:"value",scale:"color"},stroke:{value:"white"},strokeWidth:{value:.5}}}]},changeLineChart:{id:"change-line-chart",title:"Change Line Chart",data:{source:{type:"generated",options:{type:"stock-normalized"}},fields:[{name:"Date",type:"temporal",accessor:"Date"},{name:"Close",type:"quantitative",accessor:"Close"}]},space:{width:928,height:600,margin:{top:20,right:30,bottom:30,left:50}},scales:{x:{type:"time",domainFrom:{data:"main",field:"Date",method:"extent"},range:[50,898]},y:{type:"log",domain:[.5,2],range:[570,20]}},layers:[{id:"line",mark:{type:"line",generator:{type:"line"}},encoding:{x:{field:"Date",scale:"x"},y:{field:"normalized",scale:"y"},stroke:{value:"steelblue"},strokeWidth:{value:1.5},fill:{value:"none"}}}]},cancerSurvivalRates:{id:"cancer-survival-rates",title:"Cancer Survival Rates",data:{source:{type:"generated",options:{type:"survival-data"}},fields:[{name:"name",type:"nominal",accessor:"name"},{name:"year",type:"ordinal",accessor:"year"},{name:"survival",type:"quantitative",accessor:"survival"}]},space:{width:928,height:600,margin:{top:40,right:50,bottom:10,left:50}},scales:{x:{type:"point",domain:["5 Year","10 Year","15 Year","20 Year"],range:[50,878],params:{padding:.5}},y:{type:"linear",domainFrom:{data:"main",field:"survival",method:"extent"},range:[590,40]}},layers:[{id:"lines",mark:{type:"line",generator:{type:"line"},groupBy:["name"]},encoding:{x:{field:"year",scale:"x"},y:{field:"survival",scale:"y"},stroke:{value:"currentColor"},fill:{value:"none"}}}]},mareysTrains:{id:"mareys-trains",title:"Marey's Trains",data:{source:{type:"generated",options:{type:"train-schedule"}},fields:[{name:"station",type:"nominal",accessor:"station"},{name:"time",type:"temporal",accessor:"time"},{name:"distance",type:"quantitative",accessor:"distance"},{name:"type",type:"nominal",accessor:"type"}]},space:{width:928,height:500},scales:{x:{type:"linear",domainFrom:{data:"main",field:"distance",method:"extent"},range:[0,928]},y:{type:"time",domainFrom:{data:"main",field:"time",method:"extent"},range:[0,500]},color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"type",method:"values"}}},layers:[{id:"trains",mark:{type:"line",generator:{type:"line"},groupBy:["train"]},encoding:{x:{field:"distance",scale:"x"},y:{field:"time",scale:"y"},stroke:{field:"type",scale:"color"},strokeWidth:{value:1.5},fill:{value:"none"}}},{id:"stops",mark:{type:"circle"},encoding:{cx:{field:"distance",scale:"x"},cy:{field:"time",scale:"y"},r:{value:2.5},fill:{field:"type",scale:"color"},stroke:{value:"white"}}}]},variableColorLine:{id:"variable-color-line",title:"Variable Color Line",data:{source:{type:"generated",options:{type:"weather-data"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"temperature",type:"quantitative",accessor:"temperature"},{name:"condition",type:"nominal",accessor:"condition"}]},space:{width:928,height:500,margin:{top:20,right:20,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,908]},y:{type:"linear",domainFrom:{data:"main",field:"temperature",method:"extent"},range:[470,20],nice:!0},color:{type:"ordinal",domainFrom:{data:"main",field:"condition",method:"values"}}},layers:[{id:"line",mark:{type:"line",generator:{type:"line",curve:"curveStep"}},encoding:{x:{field:"date",scale:"x"},y:{field:"temperature",scale:"y"},stroke:{field:"gradient"},strokeWidth:{value:2},fill:{value:"none"}}}]},gradientEncoding:{id:"gradient-encoding",title:"Gradient Encoding",data:{source:{type:"generated",options:{type:"temperature-data"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"temperature",type:"quantitative",accessor:"temperature"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"temperature",method:"extent"},range:[470,20],nice:!0},color:{type:"sequential",interpolator:"interpolateTurbo",domainFrom:{data:"main",field:"temperature",method:"extent"}}},layers:[{id:"line",mark:{type:"line",generator:{type:"line",curve:"curveStep"}},encoding:{x:{field:"date",scale:"x"},y:{field:"temperature",scale:"y"},stroke:{field:"gradient"},strokeWidth:{value:1.5},fill:{value:"none"}}}]},thresholdEncoding:{id:"threshold-encoding",title:"Threshold Encoding",data:{source:{type:"generated",options:{type:"temperature-data"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"temperature",type:"quantitative",accessor:"temperature"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"temperature",method:"extent"},range:[470,20],nice:!0}},layers:[{id:"line",mark:{type:"line",generator:{type:"line",curve:"curveStep"}},encoding:{x:{field:"date",scale:"x"},y:{field:"temperature",scale:"y"},stroke:{field:"threshold-gradient"},strokeWidth:{value:1.5},fill:{value:"none"}}}]},inequalityInAmericanCities:{id:"inequality-in-american-cities",title:"Inequality in American Cities",data:{source:{type:"generated",options:{type:"city-inequality"}},fields:[{name:"POP_1980",type:"quantitative",accessor:"POP_1980"},{name:"POP_2015",type:"quantitative",accessor:"POP_2015"},{name:"R90_10_1980",type:"quantitative",accessor:"R90_10_1980"},{name:"R90_10_2015",type:"quantitative",accessor:"R90_10_2015"}]},space:{width:928,height:640,margin:{top:24,right:10,bottom:34,left:40}},scales:{x:{type:"log",domainFrom:{data:"main",field:"POP_1980",method:"extent"},range:[40,918]},y:{type:"linear",domainFrom:{data:"main",field:"R90_10_1980",method:"extent"},range:[606,24]}},layers:[{id:"arrows",mark:{type:"path"},encoding:{stroke:{field:"gradient"},fill:{value:"none"},markerEnd:{value:"url(#arrow)"}}}]},newZealandTourists:{id:"new-zealand-tourists",title:"New Zealand Tourists 1921-2018",data:{source:{type:"generated",options:{type:"tourist-data"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:30,left:50}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[50,898]},yLinear:{type:"linear",domainFrom:{data:"main",field:"value",method:"max",transform:e=>[0,d3.max(e)]},range:[470,20],nice:!0},yLog:{type:"log",domainFrom:{data:"main",field:"value",method:"extent"},range:[470,20]}},layers:[{id:"line",mark:{type:"line",generator:{type:"line"}},encoding:{x:{field:"date",scale:"x"},y:{field:"value",scale:"yLinear"},stroke:{value:"steelblue"},strokeWidth:{value:1.5},fill:{value:"none"}}}]},areaChartMissingData:{id:"area-chart-missing-data",title:"Area Chart with Missing Data",data:{source:{type:"generated",options:{type:"stock-missing"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"close",type:"quantitative",accessor:"close"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"close",method:"max",transform:e=>[0,d3.max(e)]},range:[470,20]}},layers:[{id:"area-missing",mark:{type:"area",generator:{type:"area",defined:e=>!isNaN(e.close)}},encoding:{x:{field:"date",scale:"x"},y:{field:"close",scale:"y"},y2:{value:470},fill:{value:"#ccc"}}},{id:"area-complete",mark:{type:"area",generator:{type:"area"}},encoding:{x:{field:"date",scale:"x"},y:{field:"close",scale:"y"},y2:{value:470},fill:{value:"steelblue"}}}]},normalizedStackedAreaChart:{id:"normalized-stacked-area-chart",title:"Normalized Stacked Area Chart",data:{source:{type:"generated",options:{type:"unemployment-by-industry"}},transforms:[{type:"stack",params:{offset:"stackOffsetExpand"}}],fields:[{name:"date",type:"temporal",accessor:"date"},{name:"industry",type:"nominal",accessor:"industry"},{name:"unemployed",type:"quantitative",accessor:"unemployed"}]},space:{width:928,height:500,margin:{top:20,right:20,bottom:20,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,908]},y:{type:"linear",range:[480,20]},color:{type:"ordinal",scheme:"Tableau10",domainFrom:{data:"main",field:"industry",method:"values"}}},layers:[{id:"areas",mark:{type:"area",generator:{type:"area"}},encoding:{x:{field:"date",scale:"x"},y:{field:"0",scale:"y"},y2:{field:"1",scale:"y"},fill:{field:"industry",scale:"color"}}}]},usPopulationByState:{id:"us-population-by-state",title:"US Population by State 1790-1990",data:{source:{type:"generated",options:{type:"state-population"}},transforms:[{type:"stack",params:{}}],fields:[{name:"date",type:"temporal",accessor:"date"},{name:"state",type:"nominal",accessor:"state"},{name:"population",type:"quantitative",accessor:"population"}]},space:{width:928,height:720,margin:{top:10,right:10,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,918]},y:{type:"linear",range:[690,10]},color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"areas",mark:{type:"area",generator:{type:"area"}},encoding:{x:{field:"date",scale:"x"},y:{field:"0",scale:"y"},y2:{field:"1",scale:"y"},fill:{field:"state",scale:"color"},fillOpacity:{value:.8}}}]},streamgraph:{id:"streamgraph",title:"Streamgraph",data:{source:{type:"generated",options:{type:"unemployment-by-industry"}},transforms:[{type:"stack",params:{offset:"stackOffsetWiggle",order:"stackOrderInsideOut"}}],fields:[{name:"date",type:"temporal",accessor:"date"},{name:"industry",type:"nominal",accessor:"industry"},{name:"unemployed",type:"quantitative",accessor:"unemployed"}]},space:{width:928,height:500,margin:{top:10,right:10,bottom:20,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,918]},y:{type:"linear",domainFrom:{data:"main",field:"unemployed",method:"extent"},range:[480,20]},color:{type:"ordinal",scheme:"Tableau10",domainFrom:{data:"main",field:"industry",method:"values"}}},layers:[{id:"areas",mark:{type:"area",generator:{type:"area"}},encoding:{x:{field:"date",scale:"x"},y:{field:"0",scale:"y"},y2:{field:"1",scale:"y"},fill:{field:"industry",scale:"color"}}}]},differenceChart:{id:"difference-chart",title:"Difference Chart",data:{source:{type:"generated",options:{type:"temperature-comparison"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value0",type:"quantitative",accessor:"value0"},{name:"value1",type:"quantitative",accessor:"value1"}]},space:{width:928,height:600,margin:{top:20,right:20,bottom:30,left:30}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[30,908]},y:{type:"linear",domainFrom:{data:"main",field:"value0",method:"extent"},range:[570,20]}},layers:[{id:"area-above",mark:{type:"area",generator:{type:"area",curve:"curveStep"}},encoding:{x:{field:"date",scale:"x"},y:{field:"value0",scale:"y"},y2:{value:600},fill:{value:"#4575b4"}},clipPath:"above"},{id:"area-below",mark:{type:"area",generator:{type:"area",curve:"curveStep"}},encoding:{x:{field:"date",scale:"x"},y:{field:"value0",scale:"y"},y2:{value:0},fill:{value:"#d73027"}},clipPath:"below"}]},bandChart:{id:"band-chart",title:"Band Chart",data:{source:{type:"generated",options:{type:"temperature-range"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"low",type:"quantitative",accessor:"low"},{name:"high",type:"quantitative",accessor:"high"}]},space:{width:928,height:600,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"high",method:"extent"},range:[570,20],nice:!0}},layers:[{id:"band",mark:{type:"area",generator:{type:"area",curve:"curveStep"}},encoding:{x:{field:"date",scale:"x"},y:{field:"low",scale:"y"},y2:{field:"high",scale:"y"},fill:{value:"steelblue"}}}]},lineChartMissingData:{id:"line-chart-missing-data",title:"Line Chart with Missing Data",data:{source:{type:"generated",options:{type:"stock-missing"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"close",type:"quantitative",accessor:"close"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"close",method:"max",transform:e=>[0,d3.max(e)]},range:[470,20]}},layers:[{id:"line-missing",mark:{type:"line",generator:{type:"line",defined:e=>!isNaN(e.close)}},encoding:{x:{field:"date",scale:"x"},y:{field:"close",scale:"y"},stroke:{value:"#ccc"},strokeWidth:{value:1.5},fill:{value:"none"}}},{id:"line-complete",mark:{type:"line",generator:{type:"line"}},encoding:{x:{field:"date",scale:"x"},y:{field:"close",scale:"y"},stroke:{value:"steelblue"},strokeWidth:{value:1.5},fill:{value:"none"}}}]},multiLineChart:{id:"multi-line-chart",title:"Multi-line Chart",data:{source:{type:"generated",options:{type:"multi-stock"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"},{name:"symbol",type:"nominal",accessor:"symbol"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"value",method:"extent"},range:[470,20]},color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"symbol",method:"values"}}},layers:[{id:"lines",mark:{type:"line",generator:{type:"line"},groupBy:["symbol"]},encoding:{x:{field:"date",scale:"x"},y:{field:"value",scale:"y"},stroke:{field:"symbol",scale:"color"},strokeWidth:{value:1.5},fill:{value:"none"}}}]},lineWithTooltip:{id:"line-with-tooltip",title:"Line Chart with Tooltip",data:{source:{type:"generated",options:{type:"stock-data"}},fields:[{name:"Date",type:"temporal",accessor:"Date"},{name:"Close",type:"quantitative",accessor:"Close"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"Date",method:"extent"},range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"Close",method:"max",transform:e=>[0,d3.max(e)]},range:[470,20]}},layers:[{id:"line",mark:{type:"line",generator:{type:"line"}},encoding:{x:{field:"Date",scale:"x"},y:{field:"Close",scale:"y"},stroke:{value:"steelblue"},strokeWidth:{value:1.5},fill:{value:"none"}}}],behaviors:[{type:"hover",target:"svg",handlers:{mousemove:{action:"showTooltip"},mouseleave:{action:"hideTooltip"}}}]},scatterplotWithShapes:{id:"scatterplot-with-shapes",title:"Scatterplot with Shapes",data:{source:{type:"generated",options:{type:"iris"}},fields:[{name:"sepalLength",type:"quantitative",accessor:"sepalLength"},{name:"sepalWidth",type:"quantitative",accessor:"sepalWidth"},{name:"species",type:"nominal",accessor:"species"}]},space:{width:928,height:600,margin:{top:25,right:20,bottom:35,left:40}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"sepalLength",method:"extent"},range:[40,908],nice:!0},y:{type:"linear",domainFrom:{data:"main",field:"sepalWidth",method:"extent"},range:[565,25],nice:!0},color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"species",method:"values"}},shape:{type:"ordinal",domainFrom:{data:"main",field:"species",method:"values"},range:["circle","cross","diamond"]}},layers:[{id:"points",mark:{type:"symbol"},encoding:{x:{field:"sepalLength",scale:"x"},y:{field:"sepalWidth",scale:"y"},fill:{field:"species",scale:"color"},shape:{field:"species",scale:"shape"},strokeWidth:{value:1.5}}}]},splom:{id:"splom",title:"Scatterplot Matrix (SPLOM)",data:{source:{type:"generated",options:{type:"iris"}},fields:[{name:"sepalLength",type:"quantitative",accessor:"sepalLength"},{name:"sepalWidth",type:"quantitative",accessor:"sepalWidth"},{name:"petalLength",type:"quantitative",accessor:"petalLength"},{name:"petalWidth",type:"quantitative",accessor:"petalWidth"},{name:"species",type:"nominal",accessor:"species"}]},space:{width:928,height:928},scales:{color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"species",method:"values"}}},layers:[{id:"matrix",mark:{type:"circle"},encoding:{r:{value:3.5},fillOpacity:{value:.7},fill:{field:"species",scale:"color"}}}]},bubbleChart:{id:"bubble-chart",title:"Bubble Chart",data:{source:{type:"generated",options:{type:"flare"}},transforms:[{type:"hierarchy",params:{children:"children",value:"value",sum:!0,sort:(e,t)=>t.value-e.value}},{type:"pack",params:{size:[926,926],padding:3}}],fields:[{name:"id",type:"nominal",accessor:"data.id"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:928,margin:{top:1,right:1,bottom:1,left:1}},scales:{color:{type:"ordinal",scheme:"Tableau10"}},layers:[{id:"bubbles",mark:{type:"circle"},encoding:{cx:{field:"x"},cy:{field:"y"},r:{field:"r"},fill:{field:"group",scale:"color"},fillOpacity:{value:.7}}}]},beeswarmMirrored:{id:"beeswarm-mirrored",title:"Beeswarm Mirrored",data:{source:{type:"generated",options:{type:"cars"}},transforms:[{type:"dodge",params:{radius:7.5,x:"weight"}}],fields:[{name:"weight",type:"quantitative",accessor:"weight"},{name:"name",type:"nominal",accessor:"name"}]},space:{width:928,height:160,margin:{top:20,right:20,bottom:20,left:20}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"weight",method:"extent"},range:[20,908]}},layers:[{id:"points-top",mark:{type:"circle"},encoding:{cx:{field:"x"},cy:{field:"y",transform:[{type:"custom",expression:(e,t)=>77-1.5-t.y}]},r:{value:3}}},{id:"points-bottom",mark:{type:"circle"},encoding:{cx:{field:"x"},cy:{field:"y",transform:[{type:"custom",expression:(e,t)=>83+1.5+t.y}]},r:{value:3}}}]},hertzsprungRussellDiagram:{id:"hertzsprung-russell-diagram",title:"Hertzsprung-Russell Diagram",data:{source:{type:"generated",options:{type:"star-data"}},fields:[{name:"color",type:"quantitative",accessor:"color"},{name:"absolute_magnitude",type:"quantitative",accessor:"absolute_magnitude"}]},space:{width:928,height:1114,margin:{top:40,right:40,bottom:40,left:40}},scales:{x:{type:"linear",domain:[-.39,2.19],range:[40,888]},y:{type:"linear",domain:[-7,19],range:[40,1074]}},layers:[{id:"stars",mark:{type:"rect"},encoding:{x:{field:"color",scale:"x"},y:{field:"absolute_magnitude",scale:"y"},width:{value:.75},height:{value:.75},fill:{field:"color",transform:[{type:"custom",expression:(e,t)=>(void 0).bv2rgb(t.color)}]}}}]},spikeMap:{id:"spike-map",title:"Spike Map",data:{source:{type:"generated",options:{type:"us-counties-population"}},fields:[{name:"population",type:"quantitative",accessor:"population"},{name:"centroid",type:"geojson",accessor:"centroid"}]},space:{width:975,height:610},scales:{length:{type:"linear",domainFrom:{data:"main",field:"population",method:"max",transform:e=>[0,d3.max(e)]},range:[0,200]}},layers:[{id:"background",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#ddd"}}},{id:"spikes",mark:{type:"path"},encoding:{fill:{value:"red"},fillOpacity:{value:.5},stroke:{value:"red"},strokeWidth:{value:.5},d:{field:"spike-path"}}}]},beesWarm:{id:"beeswarm",title:"Beeswarm Plot",data:{source:{type:"generated",options:{type:"cars"}},transforms:[{type:"dodge",params:{radius:7.5,x:"weight"}}],fields:[{name:"weight",type:"quantitative",accessor:"weight"},{name:"name",type:"nominal",accessor:"name"}]},space:{width:928,height:160,margin:{top:20,right:20,bottom:20,left:20}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"weight",method:"extent"},range:[20,908]}},layers:[{id:"points",mark:{type:"circle"},encoding:{cx:{field:"x"},cy:{field:"y",transform:[{type:"offset",params:{offset:117-1.5}}]},r:{value:3}}}]},inlineLabels:{id:"inline-labels",title:"Inline Labels",data:{source:{type:"generated",options:{type:"fruit-sales"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"},{name:"fruit",type:"nominal",accessor:"fruit"}]},space:{width:928,height:500,margin:{top:30,right:50,bottom:30,left:30}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[30,878]},y:{type:"linear",domainFrom:{data:"main",field:"value",method:"max",transform:e=>[0,d3.max(e)]},range:[470,30]},color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"fruit",method:"values"}}},layers:[{id:"lines",mark:{type:"line",generator:{type:"line"},groupBy:["fruit"]},encoding:{x:{field:"date",scale:"x"},y:{field:"value",scale:"y"},stroke:{field:"fruit",scale:"color"},strokeWidth:{value:1.5},fill:{value:"none"}}},{id:"labels",mark:{type:"text"},encoding:{x:{field:"date",scale:"x"},y:{field:"value",scale:"y"},text:{field:"value"},textAnchor:{value:"middle"},dy:{value:"0.35em"},stroke:{value:"white"},strokeWidth:{value:6},fill:{value:"currentColor"}}}]},directlyLabellingLines:{id:"directly-labelling-lines",title:"Directly Labelling Lines",data:{source:{type:"generated",options:{type:"multi-series"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"},{name:"series",type:"nominal",accessor:"series"}]},space:{width:928,height:500},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[0,928]},y:{type:"linear",domainFrom:{data:"main",field:"value",method:"extent"},range:[500,0]},color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"series",method:"values"}}},layers:[{id:"lines",mark:{type:"line",generator:{type:"line"},groupBy:["series"]},encoding:{x:{field:"date",scale:"x"},y:{field:"value",scale:"y"},stroke:{field:"series",scale:"color"},strokeWidth:{value:2},fill:{value:"none"}}},{id:"end-labels",mark:{type:"text"},encoding:{x:{field:"last-date",scale:"x",transform:[{type:"offset",params:{offset:3}}]},y:{field:"last-value",scale:"y"},text:{field:"series"},fill:{field:"series",scale:"color"},paintOrder:{value:"stroke"},stroke:{value:"white"},strokeWidth:{value:3}}}]},voronoiLabels:{id:"voronoi-labels",title:"Voronoi Labels",data:{source:{type:"generated",options:{type:"random-points"}},transforms:[{type:"voronoi",params:{extent:[[0,0],[928,500]]}}],fields:[{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"},{name:"index",type:"quantitative",accessor:"index"}]},space:{width:928,height:500},scales:{},layers:[{id:"connectors",mark:{type:"line"},encoding:{x1:{field:"centroid.x"},y1:{field:"centroid.y"},x2:{field:"x"},y2:{field:"y"},stroke:{value:"orange"}}},{id:"voronoi",mark:{type:"path",generator:{type:"voronoi"}},encoding:{fill:{value:"none"},stroke:{value:"#ccc"}}},{id:"points",mark:{type:"circle"},encoding:{cx:{field:"x"},cy:{field:"y"},r:{value:2}}},{id:"labels",mark:{type:"text"},encoding:{x:{field:"centroid.x"},y:{field:"centroid.y"},text:{field:"index"}}}]},occlusion:{id:"occlusion",title:"Occlusion",data:{source:{type:"generated",options:{count:1e3,type:"random-words"}},fields:[{name:"word",type:"nominal",accessor:"word"},{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"}]},space:{width:928,height:400},scales:{},layers:[{id:"labels",mark:{type:"text"},encoding:{x:{field:"x"},y:{field:"y"},text:{field:"word"}}}],behaviors:[{type:"hover",target:".labels text",handlers:{mouseover:{action:"raiseAndOcclude"},mouseout:{action:"resetOcclusion"}}},{type:"click",target:".labels text",handlers:{click:{action:"setPriority"}}}]},graticuleLabelsStereographic:{id:"graticule-labels-stereographic",title:"Graticule Labels Stereographic",data:{source:{type:"generated",options:{type:"world-graticule"}},transforms:[{type:"projection",params:{type:"stereographic"}}],fields:[{name:"geometry",type:"geojson",accessor:"geometry"}]},space:{width:928,height:500},scales:{},layers:[{id:"graticule",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"#ccc"}}},{id:"land",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#000"}}},{id:"labels",mark:{type:"text"},encoding:{text:{field:"label"},textAnchor:{value:"middle"}}}]},styledAxes:{id:"styled-axes",title:"Styled Axes",data:{source:{type:"generated",options:{type:"revenue-data"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500,margin:{top:20,right:0,bottom:30,left:0}},scales:{x:{type:"time",domain:[new Date("2010-08-01"),new Date("2012-08-01")],range:[0,928]},y:{type:"linear",domain:[0,2e6],range:[470,20]}},layers:[{id:"x-axis",mark:{type:"axis",params:{orient:"bottom",tickFormat:e=>e<=d3.utcYear(e)?e.getUTCFullYear():null}},encoding:{scale:{value:"x"},position:{value:[0,470]}}},{id:"y-axis",mark:{type:"axis",params:{orient:"right",tickSize:928,tickFormat:"formatTick"}},encoding:{scale:{value:"y"},position:{value:[0,0]}}}]},colorLegend:{id:"color-legend",title:"Color Legend",data:{source:{type:"inline",data:[]},fields:[]},space:{width:320,height:44},scales:{color:{type:"sequential",interpolator:"interpolateViridis",domain:[0,100]}},layers:[{id:"legend",mark:{type:"legend",params:{type:"color",title:"Temperature (F)"}},encoding:{scale:{value:"color"}}}]},groupedBarChart:{id:"grouped-bar-chart",title:"Grouped Bar Chart",data:{source:{type:"generated",options:{type:"population-by-age-state"}},fields:[{name:"state",type:"nominal",accessor:"state"},{name:"age",type:"nominal",accessor:"age"},{name:"population",type:"quantitative",accessor:"population"}]},space:{width:928,height:600,margin:{top:10,right:10,bottom:20,left:40}},scales:{fx:{type:"band",domainFrom:{data:"main",field:"state",method:"values"},range:[40,918],params:{paddingInner:.1}},x:{type:"band",domainFrom:{data:"main",field:"age",method:"values"},range:[0,"fx.bandwidth"],params:{padding:.05}},y:{type:"linear",domainFrom:{data:"main",field:"population",method:"max",transform:e=>[0,d3.max(e)]},range:[580,10],nice:!0},color:{type:"ordinal",scheme:"Spectral",domainFrom:{data:"main",field:"age",method:"values"}}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"age",scale:"x",transform:[{type:"offset",params:{offset:"fx-position"}}]},y:{field:"population",scale:"y"},width:{value:"x.bandwidth"},height:{field:"population",transform:[{type:"custom",expression:(e,t)=>580-(void 0).getEncodedValue(t,{field:"population",scale:"y"})}]},fill:{field:"age",scale:"color"}}}]},divergingBarChart:{id:"diverging-bar-chart",title:"Diverging Bar Chart",data:{source:{type:"generated",options:{type:"state-population-change"}},fields:[{name:"State",type:"nominal",accessor:"State"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500,margin:{top:30,right:60,bottom:10,left:60}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"value",method:"extent"},range:[60,868]},y:{type:"band",domainFrom:{data:"main",field:"State",method:"values"},range:[30,490],params:{padding:.1}}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"value",transform:[{type:"custom",expression:(e,t)=>(void 0).scales.get("x")(Math.min(t.value,0))}]},y:{field:"State",scale:"y"},width:{field:"value",transform:[{type:"custom",expression:(e,t)=>Math.abs((void 0).scales.get("x")(t.value)-(void 0).scales.get("x")(0))}]},height:{value:"bandwidth"},fill:{field:"value",transform:[{type:"custom",expression:(e,t)=>t.value>0?"#4575b4":"#d73027"}]}}}]},divergingStackedBarChart:{id:"diverging-stacked-bar-chart",title:"Diverging Stacked Bar Chart",data:{source:{type:"generated",options:{type:"survey-responses"}},transforms:[{type:"stack",params:{offset:"stackOffsetDiverging"}}],fields:[{name:"name",type:"nominal",accessor:"name"},{name:"category",type:"nominal",accessor:"category"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500,margin:{top:40,right:30,bottom:0,left:80}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"value",method:"extent"},range:[80,898]},y:{type:"band",domainFrom:{data:"main",field:"name",method:"values"},range:[40,500],params:{padding:.1}},color:{type:"ordinal",scheme:"Spectral"}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"0",scale:"x"},y:{field:"name",scale:"y"},width:{field:"width",transform:[{type:"custom",expression:(e,t)=>(void 0).scales.get("x")(t[1])-(void 0).scales.get("x")(t[0])}]},height:{value:"bandwidth"},fill:{field:"category",scale:"color"}}}]},revenueByMusicFormat:{id:"revenue-by-music-format",title:"Revenue by Music Format 1973-2018",data:{source:{type:"generated",options:{type:"music-revenue"}},transforms:[{type:"stack",params:{}}],fields:[{name:"year",type:"temporal",accessor:"year"},{name:"format",type:"nominal",accessor:"format"},{name:"revenue",type:"quantitative",accessor:"revenue"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:30,left:30}},scales:{x:{type:"band",domainFrom:{data:"main",field:"year",method:"values"},range:[30,898]},y:{type:"linear",domainFrom:{data:"main",field:"revenue",method:"max"},range:[470,20],nice:!0},color:{type:"ordinal",domainFrom:{data:"main",field:"format",method:"values"}}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"year",scale:"x"},y:{field:"1",scale:"y"},width:{value:"bandwidth",transform:[{type:"offset",params:{offset:-1}}]},height:{field:"height",transform:[{type:"custom",expression:(e,t)=>(void 0).scales.get("y")(t[0])-(void 0).scales.get("y")(t[1])}]},fill:{field:"format",scale:"color"}}}]},theImpactOfVaccines:{id:"the-impact-of-vaccines",title:"The Impact of Vaccines",data:{source:{type:"generated",options:{type:"measles-data"}},fields:[{name:"state",type:"nominal",accessor:"state"},{name:"year",type:"temporal",accessor:"year"},{name:"rate",type:"quantitative",accessor:"rate"}]},space:{width:928,height:500,margin:{top:20,right:1,bottom:40,left:40}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"year",method:"extent"},range:[40,927]},y:{type:"band",domainFrom:{data:"main",field:"state",method:"values"},range:[20,460]},color:{type:"sequential",interpolator:"interpolatePuRd",domainFrom:{data:"main",field:"rate",method:"max",transform:e=>[0,d3.max(e)]}}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"year",scale:"x",transform:[{type:"offset",params:{offset:1}}]},y:{field:"state",scale:"y"},width:{field:"year",transform:[{type:"custom",expression:(e,t)=>(void 0).scales.get("x")(t.year+1)-(void 0).scales.get("x")(t.year)-1}]},height:{value:"bandwidth",transform:[{type:"offset",params:{offset:-1}}]},fill:{field:"rate",scale:"color"}}}]},electricUsage2019:{id:"electric-usage-2019",title:"Electric Usage 2019",data:{source:{type:"generated",options:{type:"electric-usage"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"usage",type:"quantitative",accessor:"usage"}]},space:{width:928,height:500},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[0,928]},y:{type:"linear",domainFrom:{data:"main",field:"usage",method:"extent"},range:[500,0]}},layers:[{id:"line",mark:{type:"line",generator:{type:"line"}},encoding:{x:{field:"date",scale:"x"},y:{field:"usage",scale:"y"},stroke:{value:"steelblue"},strokeWidth:{value:2},fill:{value:"none"}}}]},stackedHorizontalBarChart:{id:"stacked-horizontal-bar-chart",title:"Stacked Horizontal Bar Chart",data:{source:{type:"generated",options:{type:"population-by-age-state"}},transforms:[{type:"stack",params:{keys:["<10","10-19","20-29","30-39","40-49","50-59","60-69","70"]}}],fields:[{name:"state",type:"nominal",accessor:"data.state"},{name:"age",type:"nominal",accessor:"key"},{name:"population",type:"quantitative",accessor:"1"}]},space:{width:928,height:500,margin:{top:30,right:10,bottom:0,left:30}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"population",method:"max"},range:[30,918]},y:{type:"band",domainFrom:{data:"main",field:"state",method:"values"},range:[30,500],params:{padding:.08}},color:{type:"ordinal",scheme:"Spectral",domainFrom:{data:"main",field:"age",method:"values"}}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"0",scale:"x"},y:{field:"state",scale:"y"},width:{field:"width",transform:[{type:"custom",expression:(e,t)=>(void 0).scales.get("x")(t[1])-(void 0).scales.get("x")(t[0])}]},height:{value:"bandwidth"},fill:{field:"age",scale:"color"}}}]},stackedNormalizedHorizontalBar:{id:"stacked-normalized-horizontal-bar",title:"Stacked Normalized Horizontal Bar",data:{source:{type:"generated",options:{type:"population-by-age-state"}},transforms:[{type:"stack",params:{keys:["<10","10-19","20-29","30-39","40-49","50-59","60-69","70"],offset:"stackOffsetExpand"}}],fields:[{name:"state",type:"nominal",accessor:"data.state"},{name:"age",type:"nominal",accessor:"key"},{name:"population",type:"quantitative",accessor:"1"}]},space:{width:928,height:500,margin:{top:30,right:20,bottom:0,left:30}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"population",method:"max"},range:[30,908]},y:{type:"band",domainFrom:{data:"main",field:"state",method:"values"},range:[30,500],params:{padding:.08}},color:{type:"ordinal",scheme:"Spectral",domainFrom:{data:"main",field:"age",method:"values"}}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"0",scale:"x"},y:{field:"state",scale:"y"},width:{field:"width",transform:[{type:"custom",expression:(e,t)=>(void 0).scales.get("x")(t[1])-(void 0).scales.get("x")(t[0])}]},height:{value:"bandwidth"},fill:{field:"age",scale:"color"}}}]}};function O6(){return Object.keys(Om)}const Bm={barChart:{id:"bar-chart",title:"Bar Chart",data:{source:{type:"generated",options:{count:26,type:"alphabet"}},fields:[{name:"letter",type:"ordinal",accessor:"letter"},{name:"frequency",type:"quantitative",accessor:"frequency"}]},space:{width:928,height:500,margin:{top:30,right:0,bottom:30,left:40}},scales:{x:{type:"band",domainFrom:{data:"main",field:"letter",method:"values"},range:[40,928],params:{padding:.1}},y:{type:"linear",domainFrom:{data:"main",field:"frequency",method:"max",transform:e=>[0,d3.max(e)]},range:[470,30],nice:!0}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"letter",scale:"x"},y:{field:"frequency",scale:"y"},width:{value:"bandwidth"},height:{field:"frequency",transform:[{type:"custom",expression:(e,t)=>470-(void 0).getEncodedValue(t,{field:"frequency",scale:"y"})}]},fill:{value:"steelblue"}}},{id:"x-axis",mark:{type:"axis",params:{orient:"bottom"}},encoding:{scale:{value:"x"},position:{value:[0,470]}}},{id:"y-axis",mark:{type:"axis",params:{orient:"left"}},encoding:{scale:{value:"y"},position:{value:[40,0]}}}]},horizontalBarChart:{id:"horizontal-bar-chart",title:"Horizontal Bar Chart",data:{source:{type:"generated",options:{count:26,type:"alphabet"}},fields:[{name:"letter",type:"ordinal",accessor:"letter"},{name:"frequency",type:"quantitative",accessor:"frequency"}]},space:{width:928,height:500,margin:{top:30,right:0,bottom:10,left:30}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"frequency",method:"max",transform:e=>[0,d3.max(e)]},range:[30,928],nice:!0},y:{type:"band",domainFrom:{data:"main",field:"letter",method:"values"},range:[30,490],params:{padding:.1}}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{value:30},y:{field:"letter",scale:"y"},width:{field:"frequency",scale:"x",transform:[{type:"offset",params:{offset:-30}}]},height:{value:"bandwidth"},fill:{value:"steelblue"}}},{id:"x-axis",mark:{type:"axis",params:{orient:"top"}},encoding:{scale:{value:"x"},position:{value:[0,30]}}},{id:"y-axis",mark:{type:"axis",params:{orient:"left"}},encoding:{scale:{value:"y"},position:{value:[30,0]}}}]},stackedBarChart:{id:"stacked-bar-chart",title:"Stacked Bar Chart",data:{source:{type:"generated",options:{count:50,type:"stacked-data"}},transforms:[{type:"stack",params:{keys:["<10","10-19","20-29","30-39","40-49","50-59","60-69","70"]}}],fields:[{name:"state",type:"ordinal",accessor:"data.state"},{name:"age",type:"ordinal",accessor:"key"},{name:"population",type:"quantitative",accessor:"1"}]},space:{width:928,height:500,margin:{top:10,right:10,bottom:20,left:40}},scales:{x:{type:"band",domainFrom:{data:"main",field:"state",method:"values"},range:[40,918],params:{padding:.1}},y:{type:"linear",domainFrom:{data:"main",field:"population",method:"max"},range:[480,10]},color:{type:"ordinal",scheme:"Spectral",domainFrom:{data:"main",field:"age",method:"values"}}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"state",scale:"x"},y:{field:"1",scale:"y"},width:{value:"bandwidth"},height:{field:"population",transform:[{type:"custom",expression:(e,t)=>(void 0).scales.get("y")(t[0])-(void 0).scales.get("y")(t[1])}]},fill:{field:"age",scale:"color"}}}]},lineChart:{id:"line-chart",title:"Line Chart",data:{source:{type:"generated",options:{count:100,type:"timeseries"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"close",type:"quantitative",accessor:"close"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"close",method:"max",transform:e=>[0,d3.max(e)]},range:[470,20]}},layers:[{id:"line",mark:{type:"line",generator:{type:"line"}},encoding:{x:{field:"date",scale:"x"},y:{field:"close",scale:"y"},stroke:{value:"steelblue"},strokeWidth:{value:1.5},fill:{value:"none"}}}]},areaChart:{id:"area-chart",title:"Area Chart",data:{source:{type:"generated",options:{count:100,type:"timeseries"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"close",type:"quantitative",accessor:"close"}]},space:{width:928,height:500,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"close",method:"max",transform:e=>[0,d3.max(e)]},range:[470,20]}},layers:[{id:"area",mark:{type:"area",generator:{type:"area"}},encoding:{x:{field:"date",scale:"x"},y:{field:"close",scale:"y"},y2:{value:470},fill:{value:"steelblue"}}}]},scatterPlot:{id:"scatter-plot",title:"Scatter Plot",data:{source:{type:"generated",options:{count:100,type:"cars"}},fields:[{name:"mpg",type:"quantitative",accessor:"mpg"},{name:"hp",type:"quantitative",accessor:"hp"}]},space:{width:928,height:600,margin:{top:25,right:20,bottom:35,left:40}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"mpg",method:"extent"},range:[40,908],nice:!0},y:{type:"linear",domainFrom:{data:"main",field:"hp",method:"extent"},range:[565,25],nice:!0}},layers:[{id:"points",mark:{type:"circle"},encoding:{cx:{field:"mpg",scale:"x"},cy:{field:"hp",scale:"y"},r:{value:3},fill:{value:"none"},stroke:{value:"steelblue"},strokeWidth:{value:1.5}}}]},pieChart:{id:"pie-chart",title:"Pie Chart",data:{source:{type:"generated",options:{count:6,type:"pie-data"}},transforms:[{type:"pie",params:{value:"value",sort:null}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500},scales:{color:{type:"ordinal",scheme:"Spectral",domainFrom:{data:"main",field:"name",method:"values"}}},layers:[{id:"slices",mark:{type:"arc",generator:{type:"arc",params:{innerRadius:0,outerRadius:200}}},encoding:{fill:{field:"name",scale:"color"},stroke:{value:"white"}},style:{transform:"translate(464px, 250px)"}}]},donutChart:{id:"donut-chart",title:"Donut Chart",data:{source:{type:"generated",options:{count:6,type:"pie-data"}},transforms:[{type:"pie",params:{value:"value",padAngle:.02}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500},scales:{color:{type:"ordinal",scheme:"Spectral",domainFrom:{data:"main",field:"name",method:"values"}}},layers:[{id:"slices",mark:{type:"arc",generator:{type:"arc",params:{innerRadius:134,outerRadius:200}}},encoding:{fill:{field:"name",scale:"color"},stroke:{value:"white"}},style:{transform:"translate(464px, 250px)"}}]},treemap:{id:"treemap",title:"Treemap",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0,sort:(e,t)=>t.value-e.value}},{type:"treemap",params:{size:[1154,1154],padding:1,round:!0}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"},{name:"depth",type:"quantitative",accessor:"depth"}]},space:{width:1154,height:1154},scales:{color:{type:"ordinal",scheme:"Tableau10",domainFrom:{data:"main",field:"depth",method:"values"}}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"x0"},y:{field:"y0"},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},height:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]},fill:{field:"depth",scale:"color"},fillOpacity:{value:.6}}}]},sunburst:{id:"sunburst",title:"Sunburst Chart",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0,sort:(e,t)=>t.value-e.value}},{type:"partition",params:{size:[2*Math.PI,464]}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"depth",type:"quantitative",accessor:"depth"}]},space:{width:928,height:928},scales:{color:{type:"ordinal",scheme:"Rainbow",domainFrom:{data:"main",field:"depth",method:"values"}}},layers:[{id:"arcs",mark:{type:"arc",generator:{type:"arc",params:{padAngle:.005,padRadius:232}}},encoding:{startAngle:{field:"x0"},endAngle:{field:"x1"},innerRadius:{field:"y0"},outerRadius:{field:"y1",transform:[{type:"offset",params:{offset:-1}}]},fill:{field:"depth",scale:"color"},fillOpacity:{value:.6}},style:{transform:"translate(464px, 464px)"},when:{type:"expression",test:"d => d.depth > 0"}}]},pack:{id:"pack",title:"Circle Packing",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0,sort:(e,t)=>t.value-e.value}},{type:"pack",params:{size:[926,926],padding:3}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:928,margin:{top:1,right:1,bottom:1,left:1}},scales:{color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"circles",mark:{type:"circle"},encoding:{cx:{field:"x"},cy:{field:"y"},r:{field:"r"},fill:{value:"#ddd"},stroke:{value:"#bbb"}}}]},tree:{id:"tree",title:"Tree Diagram",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{sort:(e,t)=>d3.ascending(e.data.name,t.data.name)}},{type:"tree",params:{nodeSize:[10,928/4]}}],fields:[{name:"name",type:"nominal",accessor:"data.name"}]},space:{width:928,height:600},scales:{},layers:[{id:"links",mark:{type:"path",generator:{type:"linkHorizontal"}},encoding:{stroke:{value:"#555"},strokeOpacity:{value:.4},strokeWidth:{value:1.5},fill:{value:"none"}}},{id:"nodes",mark:{type:"circle"},encoding:{cx:{field:"y"},cy:{field:"x"},r:{value:2.5},fill:{value:"#555"}}}]},forceDirectedGraph:{id:"force-directed-graph",title:"Force-Directed Graph",data:{source:{type:"generated",options:{type:"network",nodeCount:50,linkCount:100}},transforms:[{type:"force",params:{forces:{link:{distance:30,strength:1},manyBody:{strength:-300},center:{x:464,y:300}}}}],fields:[{name:"id",type:"nominal",accessor:"id"},{name:"group",type:"nominal",accessor:"group"},{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"}]},space:{width:928,height:600},scales:{color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"group",method:"values"}}},layers:[{id:"links",data:"links",mark:{type:"line"},encoding:{x1:{field:"source.x"},y1:{field:"source.y"},x2:{field:"target.x"},y2:{field:"target.y"},stroke:{value:"#999"},strokeOpacity:{value:.6},strokeWidth:{value:1.5}}},{id:"nodes",data:"nodes",mark:{type:"circle"},encoding:{cx:{field:"x"},cy:{field:"y"},r:{value:5},fill:{field:"group",scale:"color"},stroke:{value:"#fff"},strokeWidth:{value:1.5}}}]},sankey:{id:"sankey",title:"Sankey Diagram",data:{source:{type:"generated",options:{type:"sankey"}},transforms:[{type:"sankey",params:{nodeWidth:15,nodePadding:10,extent:[[1,5],[927,595]]}}],fields:[{name:"name",type:"nominal",accessor:"name"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:600},scales:{color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"links",data:"links",mark:{type:"path",generator:{type:"sankeyLinkHorizontal"}},encoding:{fill:{value:"none"},stroke:{field:"source.category",scale:"color"},strokeOpacity:{value:.5},strokeWidth:{field:"width"}}},{id:"nodes",data:"nodes",mark:{type:"rect"},encoding:{x:{field:"x0"},y:{field:"y0"},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},height:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]},fill:{field:"category",scale:"color"},stroke:{value:"#000"}}}]},chordDiagram:{id:"chord-diagram",title:"Chord Diagram",data:{source:{type:"generated",options:{type:"chord-matrix"}},transforms:[{type:"chord",params:{padAngle:.02,sortSubgroups:d3.descending,sortChords:d3.descending}}],fields:[{name:"index",type:"quantitative",accessor:"index"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:640,height:640},scales:{color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"arcs",data:"groups",mark:{type:"arc",generator:{type:"arc",params:{innerRadius:310,outerRadius:320}}},encoding:{fill:{field:"index",scale:"color"}},style:{transform:"translate(320px, 320px)"}},{id:"ribbons",data:"chords",mark:{type:"path",generator:{type:"ribbon",params:{radius:309}}},encoding:{fill:{field:"target.index",scale:"color"},fillOpacity:{value:.7},stroke:{value:"white"}},style:{transform:"translate(320px, 320px)"}}]},choroplethMap:{id:"choropleth-map",title:"Choropleth Map",data:{source:{type:"generated",options:{type:"us-counties"}},transforms:[{type:"projection",params:{type:"albersUsa"}}],fields:[{name:"id",type:"nominal",accessor:"id"},{name:"rate",type:"quantitative",accessor:"properties.rate"}]},space:{width:975,height:610},scales:{color:{type:"quantize",scheme:"Blues",domainFrom:{data:"main",field:"rate",method:"extent"}}},layers:[{id:"counties",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{field:"rate",scale:"color"},stroke:{value:"white"},strokeWidth:{value:.5}}}]},bubbleMap:{id:"bubble-map",title:"Bubble Map",data:{source:{type:"generated",options:{type:"us-counties-population"}},fields:[{name:"population",type:"quantitative",accessor:"population"},{name:"centroid",type:"geojson",accessor:"centroid"}]},space:{width:975,height:610},scales:{size:{type:"sqrt",domainFrom:{data:"main",field:"population",method:"max",transform:e=>[0,d3.max(e)]},range:[0,40]}},layers:[{id:"background",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#ddd"}}},{id:"bubbles",mark:{type:"circle"},encoding:{cx:{field:"centroid.x"},cy:{field:"centroid.y"},r:{field:"population",scale:"size"},fill:{value:"brown"},fillOpacity:{value:.5},stroke:{value:"#fff"},strokeWidth:{value:.5}}}]},histogram:{id:"histogram",title:"Histogram",data:{source:{type:"generated",options:{count:1e3,type:"unemployment"}},transforms:[{type:"bin",params:{field:"rate",thresholds:40}}],fields:[{name:"x0",type:"quantitative",accessor:"x0"},{name:"x1",type:"quantitative",accessor:"x1"},{name:"length",type:"quantitative",accessor:"length"}]},space:{width:960,height:500,margin:{top:20,right:20,bottom:30,left:40}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"x0",method:"extent"},range:[40,940]},y:{type:"linear",domainFrom:{data:"main",field:"length",method:"max",transform:e=>[0,d3.max(e)]},range:[470,20]}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{field:"x0",scale:"x",transform:[{type:"offset",params:{offset:1}}]},y:{field:"length",scale:"y"},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>(void 0).scales.get("x")(t.x1)-(void 0).scales.get("x")(t.x0)-1}]},height:{field:"length",transform:[{type:"custom",expression:(e,t)=>470-(void 0).getEncodedValue(t,{field:"length",scale:"y"})}]},fill:{value:"steelblue"}}}]},boxPlot:{id:"box-plot",title:"Box Plot",data:{source:{type:"generated",options:{type:"diamonds"}},transforms:[{type:"bin",params:{field:"carat",thresholds:23}},{type:"boxplot",params:{field:"price"}}],fields:[{name:"carat",type:"quantitative",accessor:"carat"},{name:"price",type:"quantitative",accessor:"price"},{name:"quartiles",type:"quantitative",accessor:"quartiles"},{name:"range",type:"quantitative",accessor:"range"},{name:"outliers",type:"quantitative",accessor:"outliers"}]},space:{width:928,height:600,margin:{top:20,right:20,bottom:30,left:40}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"carat",method:"extent"},range:[40,908]},y:{type:"linear",domainFrom:{data:"main",field:"price",method:"extent"},range:[570,20],nice:!0}},layers:[{id:"boxes",mark:{type:"rect"},encoding:{x:{field:"x0",scale:"x"},y:{field:"quartiles.2",scale:"y"},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>(void 0).scales.get("x")(t.x1)-(void 0).scales.get("x")(t.x0)}]},height:{field:"quartiles",transform:[{type:"custom",expression:(e,t)=>(void 0).scales.get("y")(t.quartiles[0])-(void 0).scales.get("y")(t.quartiles[2])}]},fill:{value:"#ddd"}}}]},densityContours:{id:"density-contours",title:"Density Contours",data:{source:{type:"generated",options:{type:"faithful"}},transforms:[{type:"contourDensity",params:{x:"waiting",y:"eruptions",size:[928,600],bandwidth:30,thresholds:30}}],fields:[{name:"waiting",type:"quantitative",accessor:"waiting"},{name:"eruptions",type:"quantitative",accessor:"eruptions"}]},space:{width:928,height:600,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"waiting",method:"extent"},range:[40,898],nice:!0},y:{type:"linear",domainFrom:{data:"main",field:"eruptions",method:"extent"},range:[570,20],nice:!0}},layers:[{id:"contours",mark:{type:"path",generator:{type:"geoPath"}},encoding:{fill:{value:"none"},stroke:{value:"steelblue"},strokeLinejoin:{value:"round"},strokeWidth:{field:"index",transform:[{type:"custom",expression:(e,t)=>t.index%5?.25:1}]}}},{id:"points",mark:{type:"circle"},encoding:{cx:{field:"waiting",scale:"x"},cy:{field:"eruptions",scale:"y"},r:{value:2},stroke:{value:"white"}}}]},calendar:{id:"calendar",title:"Calendar Heatmap",data:{source:{type:"generated",options:{type:"daily-data"}},fields:[{name:"date",type:"temporal",accessor:"Date"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:136},scales:{color:{type:"sequential",interpolator:"interpolatePiYG",domainFrom:{data:"main",field:"value",method:"extent"}}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"week",transform:[{type:"scale",params:{factor:17}}]},y:{field:"day",transform:[{type:"scale",params:{factor:17}}]},width:{value:15},height:{value:15},fill:{field:"value",scale:"color"}}}]},candlestickChart:{id:"candlestick-chart",title:"Candlestick Chart",data:{source:{type:"generated",options:{type:"ohlc"}},fields:[{name:"Date",type:"temporal",accessor:"Date"},{name:"Open",type:"quantitative",accessor:"Open"},{name:"High",type:"quantitative",accessor:"High"},{name:"Low",type:"quantitative",accessor:"Low"},{name:"Close",type:"quantitative",accessor:"Close"}]},space:{width:928,height:600,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"band",domainFrom:{data:"main",field:"Date",method:"values"},range:[40,898],params:{padding:.2}},y:{type:"log",domainFrom:{data:"main",field:"High",method:"extent"},range:[570,20]}},layers:[{id:"wicks",mark:{type:"line"},encoding:{x:{field:"Date",scale:"x",transform:[{type:"offset",params:{offset:"bandwidth/2"}}]},y:{field:"Low",scale:"y"},x2:{field:"Date",scale:"x",transform:[{type:"offset",params:{offset:"bandwidth/2"}}]},y2:{field:"High",scale:"y"},stroke:{value:"black"},strokeLinecap:{value:"round"}}},{id:"bodies",mark:{type:"line"},encoding:{x:{field:"Date",scale:"x",transform:[{type:"offset",params:{offset:"bandwidth/2"}}]},y:{field:"Open",scale:"y"},x2:{field:"Date",scale:"x",transform:[{type:"offset",params:{offset:"bandwidth/2"}}]},y2:{field:"Close",scale:"y"},stroke:{field:"direction",transform:[{type:"custom",expression:(e,t)=>t.Open>t.Close?"#e41a1c":t.Close>t.Open?"#4daf4a":"#984ea3"}]},strokeWidth:{value:"bandwidth"},strokeLinecap:{value:"round"}}}]},horizonChart:{id:"horizon-chart",title:"Horizon Chart",data:{source:{type:"generated",options:{type:"timeseries-multiple"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"},{name:"name",type:"nominal",accessor:"name"}]},space:{width:928,height:500,margin:{top:30,right:10,bottom:0,left:10}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[0,928]},y:{type:"linear",domainFrom:{data:"main",field:"value",method:"max"},range:[25,-75]}},layers:[{id:"areas",mark:{type:"area",generator:{type:"area"},groupBy:["name"]},encoding:{x:{field:"date",scale:"x"},y:{field:"value",scale:"y"},y2:{value:25},fill:{value:"steelblue"}}}]},animatedTreemap:{id:"animated-treemap",title:"Animated Treemap",data:{source:{type:"generated",options:{type:"temporal-hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0}},{type:"treemap",params:{size:[928,928],tile:"treemapResquarify",padding:1,round:!0}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"},{name:"date",type:"temporal",accessor:"date"}]},space:{width:928,height:948},scales:{color:{type:"ordinal",scheme:"Category10"}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"x0"},y:{field:"y0"},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},height:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]},fill:{field:"name",scale:"color"}}}],animations:[{trigger:"time",sequence:[{target:".cells rect",properties:{x:"x0",y:"y0",width:"width",height:"height"},duration:750,easing:"easeLinear"}]}]},barChartRace:{id:"bar-chart-race",title:"Bar Chart Race",data:{source:{type:"generated",options:{type:"temporal-ranking"}},fields:[{name:"name",type:"nominal",accessor:"name"},{name:"value",type:"quantitative",accessor:"value"},{name:"date",type:"temporal",accessor:"date"},{name:"rank",type:"quantitative",accessor:"rank"}]},space:{width:928,height:500},scales:{x:{type:"linear",domainFrom:{data:"main",field:"value",method:"max"},range:[0,928]},y:{type:"band",domainFrom:{data:"main",field:"rank",method:"values"},range:[0,500],params:{padding:.1}},color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"name",method:"values"}}},layers:[{id:"bars",mark:{type:"rect"},encoding:{x:{value:0},y:{field:"rank",scale:"y"},width:{field:"value",scale:"x"},height:{value:"bandwidth"},fill:{field:"name",scale:"color"}}}],animations:[{trigger:"time",sequence:[{target:".bars rect",properties:{y:"rank",width:"value"},duration:250,easing:"easeLinear"}]}]},radialAreaChart:{id:"radial-area-chart",title:"Radial Area Chart",data:{source:{type:"generated",options:{type:"temperature-data"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"minmin",type:"quantitative",accessor:"minmin"},{name:"maxmax",type:"quantitative",accessor:"maxmax"},{name:"min",type:"quantitative",accessor:"min"},{name:"max",type:"quantitative",accessor:"max"},{name:"avg",type:"quantitative",accessor:"avg"}]},space:{width:928,height:928},scales:{x:{type:"point",domainFrom:{data:"main",field:"date",method:"values"},range:[0,2*Math.PI],params:{padding:.5}},y:{type:"linear",domainFrom:{data:"main",field:"maxmax",method:"extent"},range:[20,400]}},layers:[{id:"area-outer",mark:{type:"area",generator:{type:"areaRadial",curve:"curveLinearClosed"}},encoding:{angle:{field:"date",scale:"x"},innerRadius:{field:"minmin",scale:"y"},outerRadius:{field:"maxmax",scale:"y"},fill:{value:"lightsteelblue"},fillOpacity:{value:.2}},style:{transform:"translate(464px, 464px)"}}]},radialStackedBarChart:{id:"radial-stacked-bar-chart",title:"Radial Stacked Bar Chart",data:{source:{type:"generated",options:{type:"population-by-age"}},transforms:[{type:"stack",params:{keys:["<10","10-19","20-29","30-39","40-49","50-59","60-69","70"]}}],fields:[{name:"state",type:"ordinal",accessor:"data.state"},{name:"age",type:"ordinal",accessor:"key"},{name:"population",type:"quantitative",accessor:"1"}]},space:{width:928,height:928},scales:{x:{type:"band",domainFrom:{data:"main",field:"state",method:"values"},range:[0,2*Math.PI],params:{align:0}},y:{type:"radial",domainFrom:{data:"main",field:"population",method:"max"},range:[180,464]},color:{type:"ordinal",scheme:"Spectral",domainFrom:{data:"main",field:"age",method:"values"}}},layers:[{id:"bars",mark:{type:"arc",generator:{type:"arc",params:{padAngle:1.5/180,padRadius:180}}},encoding:{startAngle:{field:"state",scale:"x"},endAngle:{field:"state",scale:"x",transform:[{type:"offset",params:{offset:"bandwidth"}}]},innerRadius:{field:"0",scale:"y"},outerRadius:{field:"1",scale:"y"},fill:{field:"age",scale:"color"}},style:{transform:"translate(464px, 464px)"}}]},brushableScatterplot:{id:"brushable-scatterplot",title:"Brushable Scatterplot",data:{source:{type:"generated",options:{type:"cars"}},fields:[{name:"mpg",type:"quantitative",accessor:"Miles_per_Gallon"},{name:"hp",type:"quantitative",accessor:"Horsepower"}]},space:{width:928,height:600,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"mpg",method:"max",transform:e=>[0,d3.max(e)]},range:[40,898],nice:!0},y:{type:"linear",domainFrom:{data:"main",field:"hp",method:"max",transform:e=>[0,d3.max(e)]},range:[570,20],nice:!0}},layers:[{id:"points",mark:{type:"circle"},encoding:{cx:{field:"mpg",scale:"x"},cy:{field:"hp",scale:"y"},r:{value:3},fill:{value:"none"},stroke:{value:"steelblue"},strokeWidth:{value:1.5}}}],behaviors:[{type:"brush",target:"svg",handlers:{brush:{action:"selectPoints"}}}]},zoomableAreaChart:{id:"zoomable-area-chart",title:"Zoomable Area Chart",data:{source:{type:"generated",options:{type:"flights"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500,margin:{top:20,right:20,bottom:30,left:30},clips:[{id:"chart-area",type:"rect",params:{x:30,y:5,width:878,height:445}}]},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[30,908]},y:{type:"linear",domainFrom:{data:"main",field:"value",method:"max",transform:e=>[0,d3.max(e)]},range:[470,20],nice:!0}},layers:[{id:"area",mark:{type:"area",generator:{type:"area",curve:"curveStepAfter"}},encoding:{x:{field:"date",scale:"x"},y:{field:"value",scale:"y"},y2:{value:470},fill:{value:"steelblue"}},clipPath:"chart-area"}],behaviors:[{type:"zoom",target:"svg",params:{scaleExtent:[1,32],extent:[[30,0],[908,500]],translateExtent:[[30,-1/0],[908,1/0]]}}]},worldMap:{id:"world-map",title:"World Map",data:{source:{type:"generated",options:{type:"world-countries"}},transforms:[{type:"projection",params:{type:"naturalEarth1",scale:153,translate:[480,250]}}],fields:[{name:"geometry",type:"geojson",accessor:"geometry"},{name:"name",type:"nominal",accessor:"properties.name"}]},space:{width:960,height:500},scales:{},layers:[{id:"sphere",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"white"},stroke:{value:"currentColor"}}},{id:"countries",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#000"}}},{id:"borders",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"none"},stroke:{value:"white"},strokeLinejoin:{value:"round"}}}]},projectionComparison:{id:"projection-comparison",title:"Projection Comparison",data:{source:{type:"generated",options:{type:"world-land"}},fields:[{name:"geometry",type:"geojson",accessor:"geometry"}]},space:{width:928,height:500},scales:{},layers:[{id:"land",mark:{type:"geoshape",generator:{type:"path"}},encoding:{fill:{value:"#000"},stroke:{value:"#fff"},strokeWidth:{value:.5}}}]},arcDiagram:{id:"arc-diagram",title:"Arc Diagram",data:{source:{type:"generated",options:{type:"network"}},fields:[{name:"id",type:"nominal",accessor:"id"},{name:"group",type:"nominal",accessor:"group"}]},space:{width:640,height:400,margin:{top:20,right:20,bottom:20,left:130}},scales:{y:{type:"point",domainFrom:{data:"main",field:"id",method:"values"},range:[20,380]},color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"group",method:"values"}}},layers:[{id:"arcs",data:"links",mark:{type:"path"},encoding:{d:{field:"arc"},fill:{value:"none"},stroke:{field:"samegroup",scale:"color"},strokeOpacity:{value:.6},strokeWidth:{value:1.5}}},{id:"nodes",mark:{type:"circle"},encoding:{cx:{value:130},cy:{field:"id",scale:"y"},r:{value:3},fill:{field:"group",scale:"color"}}}]},hierarchicalEdgeBundling:{id:"hierarchical-edge-bundling",title:"Hierarchical Edge Bundling",data:{source:{type:"generated",options:{type:"hierarchical-network"}},transforms:[{type:"cluster",params:{size:[2*Math.PI,477]}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"}]},space:{width:954,height:954},scales:{},layers:[{id:"links",mark:{type:"path",generator:{type:"lineRadial",curve:"curveBundle",params:{beta:.85}}},encoding:{stroke:{value:"#000"},strokeOpacity:{value:.1},fill:{value:"none"}},style:{transform:"translate(477px, 477px)",mixBlendMode:"multiply"}},{id:"nodes",mark:{type:"text"},encoding:{x:{field:"y",transform:[{type:"custom",expression:(e,t)=>Math.cos(t.x-Math.PI/2)*t.y}]},y:{field:"y",transform:[{type:"custom",expression:(e,t)=>Math.sin(t.x-Math.PI/2)*t.y}]},text:{field:"name"},textAnchor:{field:"x",transform:[{type:"custom",expression:(e,t)=>t.x<Math.PI?"start":"end"}]}},style:{transform:"translate(477px, 477px)"}}]},connectedScatterplot:{id:"connected-scatterplot",title:"Connected Scatterplot",data:{source:{type:"generated",options:{type:"driving-data"}},fields:[{name:"miles",type:"quantitative",accessor:"miles"},{name:"gas",type:"quantitative",accessor:"gas"},{name:"year",type:"temporal",accessor:"year"}]},space:{width:928,height:720,margin:{top:20,right:30,bottom:30,left:50}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"miles",method:"extent"},range:[50,898],nice:!0},y:{type:"linear",domainFrom:{data:"main",field:"gas",method:"extent"},range:[690,20],nice:!0}},layers:[{id:"line",mark:{type:"line",generator:{type:"line",curve:"curveCatmullRom"}},encoding:{x:{field:"miles",scale:"x"},y:{field:"gas",scale:"y"},stroke:{value:"steelblue"},strokeWidth:{value:1.5},fill:{value:"none"}}},{id:"points",mark:{type:"circle"},encoding:{cx:{field:"miles",scale:"x"},cy:{field:"gas",scale:"y"},r:{value:3},fill:{value:"white"},stroke:{value:"black"},strokeWidth:{value:2}}}]},indexChart:{id:"index-chart",title:"Index Chart",data:{source:{type:"generated",options:{type:"stocks"}},fields:[{name:"Date",type:"temporal",accessor:"Date"},{name:"Close",type:"quantitative",accessor:"Close"},{name:"Symbol",type:"nominal",accessor:"Symbol"}]},space:{width:928,height:600,margin:{top:20,right:40,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"Date",method:"extent"},range:[40,888],clamp:!0},y:{type:"log",domain:[1/10,10],range:[570,20]},color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"Symbol",method:"values"}}},layers:[{id:"lines",mark:{type:"line",generator:{type:"line"},groupBy:["Symbol"]},encoding:{x:{field:"Date",scale:"x"},y:{field:"normalized",scale:"y"},stroke:{field:"Symbol",scale:"color"},strokeWidth:{value:1.5},fill:{value:"none"}}}]},hexbin:{id:"hexbin",title:"Hexbin Plot",data:{source:{type:"generated",options:{type:"diamonds"}},transforms:[{type:"hexbin",params:{x:"carat",y:"price",radius:10,extent:[[40,20],[908,580]]}}],fields:[{name:"carat",type:"quantitative",accessor:"carat"},{name:"price",type:"quantitative",accessor:"price"}]},space:{width:928,height:600,margin:{top:20,right:20,bottom:30,left:40}},scales:{x:{type:"log",domainFrom:{data:"main",field:"carat",method:"extent"},range:[40,908]},y:{type:"log",domainFrom:{data:"main",field:"price",method:"extent"},range:[580,20]},color:{type:"sequential",interpolator:"interpolateBuPu",domainFrom:{data:"main",field:"length",method:"max",transform:e=>[0,d3.max(e)/2]}}},layers:[{id:"hexagons",mark:{type:"path",generator:{type:"hexagon"}},encoding:{fill:{field:"length",scale:"color"},stroke:{value:"black"}}}]},parallelCoordinates:{id:"parallel-coordinates",title:"Parallel Coordinates",data:{source:{type:"generated",options:{type:"cars-multi"}},fields:[{name:"economy",type:"quantitative",accessor:"economy"},{name:"cylinders",type:"quantitative",accessor:"cylinders"},{name:"displacement",type:"quantitative",accessor:"displacement"},{name:"power",type:"quantitative",accessor:"power"},{name:"weight",type:"quantitative",accessor:"weight"},{name:"acceleration",type:"quantitative",accessor:"acceleration"},{name:"year",type:"quantitative",accessor:"year"}]},space:{width:928,height:840,margin:{top:20,right:10,bottom:20,left:10}},scales:{y:{type:"point",domain:["economy","cylinders","displacement","power","weight","acceleration","year"],range:[20,820]},color:{type:"sequential",interpolator:"interpolateBrBG",domainFrom:{data:"main",field:"economy",method:"extent"}}},layers:[{id:"lines",mark:{type:"line",generator:{type:"line"}},encoding:{stroke:{field:"economy",scale:"color"},strokeWidth:{value:1.5},strokeOpacity:{value:.4},fill:{value:"none"}}}]},realtimeHorizonChart:{id:"realtime-horizon-chart",title:"Realtime Horizon Chart",data:{source:{type:"stream",url:"ws://localhost:8080/data",options:{bufferSize:100}},fields:[{name:"timestamp",type:"temporal",accessor:"timestamp"},{name:"value",type:"quantitative",accessor:"value"},{name:"series",type:"nominal",accessor:"series"}]},space:{width:928,height:500},scales:{x:{type:"time",range:[0,928]},y:{type:"linear",range:[0,-120]}},layers:[{id:"areas",mark:{type:"area",generator:{type:"area"},groupBy:["series"]},encoding:{x:{field:"timestamp",scale:"x"},y:{field:"value",scale:"y"},y2:{value:0},fill:{value:"steelblue"}}}]},marimekkoChart:{id:"marimekko-chart",title:"Marimekko Chart",data:{source:{type:"generated",options:{type:"sales-data"}},transforms:[{type:"treemap",params:{tile:"treemapSliceDice",size:[907,459]}}],fields:[{name:"market",type:"nominal",accessor:"market"},{name:"segment",type:"nominal",accessor:"segment"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:500,margin:{top:30,right:-1,bottom:-1,left:1}},scales:{color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"segment",method:"values"}}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"x0",transform:[{type:"offset",params:{offset:1}}]},y:{field:"y0",transform:[{type:"offset",params:{offset:30}}]},width:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},height:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]},fill:{field:"segment",scale:"color"},fillOpacity:{field:"value",transform:[{type:"custom",expression:(e,t)=>t.value/t.parent.value}]}}}]},slopeChart:{id:"slope-chart",title:"Slope Chart",data:{source:{type:"generated",options:{type:"slope-data"}},fields:[{name:"country",type:"nominal",accessor:"country"},{name:"1970",type:"quantitative",accessor:"1970"},{name:"1979",type:"quantitative",accessor:"1979"}]},space:{width:928,height:600,margin:{top:40,right:50,bottom:10,left:50}},scales:{x:{type:"point",domain:[0,1],range:[50,878],params:{padding:.5}},y:{type:"linear",domainFrom:{data:"main",field:"1970",method:"extent"},range:[590,40]}},layers:[{id:"lines",mark:{type:"line",generator:{type:"line"}},encoding:{stroke:{value:"currentColor"},fill:{value:"none"}}}]},brushableScatterplotMatrix:{id:"brushable-scatterplot-matrix",title:"Brushable Scatterplot Matrix",data:{source:{type:"generated",options:{type:"iris"}},fields:[{name:"sepalLength",type:"quantitative",accessor:"sepalLength"},{name:"sepalWidth",type:"quantitative",accessor:"sepalWidth"},{name:"petalLength",type:"quantitative",accessor:"petalLength"},{name:"petalWidth",type:"quantitative",accessor:"petalWidth"},{name:"species",type:"nominal",accessor:"species"}]},space:{width:928,height:928},scales:{color:{type:"ordinal",scheme:"Category10",domainFrom:{data:"main",field:"species",method:"values"}}},layers:[{id:"matrix",mark:{type:"circle"},encoding:{r:{value:3.5},fillOpacity:{value:.7},fill:{field:"species",scale:"color"}}}],behaviors:[{type:"brush",target:".matrix",handlers:{brush:{action:"highlightSelection"}}}]},zoomableCirclePacking:{id:"zoomable-circle-packing",title:"Zoomable Circle Packing",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0,sort:(e,t)=>t.value-e.value}},{type:"pack",params:{size:[928,928],padding:3}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"},{name:"depth",type:"quantitative",accessor:"depth"}]},space:{width:928,height:928},scales:{color:{type:"linear",domain:[0,5],range:["hsl(152,80%,80%)","hsl(228,30%,40%)"],interpolate:"interpolateHcl"}},layers:[{id:"circles",mark:{type:"circle"},encoding:{cx:{field:"x"},cy:{field:"y"},r:{field:"r"},fill:{field:"depth",scale:"color"},stroke:{value:"#fff"},strokeWidth:{value:1.5}}}],behaviors:[{type:"zoom",target:".circles circle",handlers:{click:{action:"zoomToNode"}}}]},seaIceExtent:{id:"sea-ice-extent",title:"Sea Ice Extent 1978-2017",data:{source:{type:"generated",options:{type:"sea-ice"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"},{name:"year",type:"quantitative",accessor:"year"}]},space:{width:928,height:720,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domain:[new Date("2000-01-01"),new Date("2001-01-01")],range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"value",method:"max",transform:e=>[0,d3.max(e)]},range:[690,20]},color:{type:"sequential",interpolator:"interpolateSpectral",domainFrom:{data:"main",field:"year",method:"extent"}}},layers:[{id:"lines",mark:{type:"line",generator:{type:"line"},groupBy:["year"]},encoding:{x:{field:"intrayear",scale:"x"},y:{field:"value",scale:"y"},stroke:{field:"year",scale:"color"},strokeWidth:{value:1.5},fill:{value:"none"}}}]},globalTemperatureTrends:{id:"global-temperature-trends",title:"Global Temperature Trends",data:{source:{type:"generated",options:{type:"temperature-anomaly"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"}]},space:{width:928,height:600,margin:{top:20,right:30,bottom:30,left:40}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[40,898]},y:{type:"linear",domainFrom:{data:"main",field:"value",method:"extent"},range:[570,20],nice:!0},color:{type:"sequential",interpolator:"interpolateRdBu",domainFrom:{data:"main",field:"value",method:"extent"}}},layers:[{id:"points",mark:{type:"circle"},encoding:{cx:{field:"date",scale:"x"},cy:{field:"value",scale:"y"},r:{value:2.5},fill:{field:"value",scale:"color"},stroke:{value:"#000"},strokeOpacity:{value:.2}}}]},icicle:{id:"icicle",title:"Icicle Chart",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{value:"value",sum:!0,sort:(e,t)=>t.height-e.height||t.value-e.value}},{type:"partition",params:{size:[2400,928]}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"value",type:"quantitative",accessor:"value"},{name:"depth",type:"quantitative",accessor:"depth"}]},space:{width:928,height:2400},scales:{color:{type:"ordinal",scheme:"Rainbow",domainFrom:{data:"main",field:"depth",method:"values"}}},layers:[{id:"cells",mark:{type:"rect"},encoding:{x:{field:"y0"},y:{field:"x0"},width:{field:"y1",transform:[{type:"custom",expression:(e,t)=>t.y1-t.y0}]},height:{field:"x1",transform:[{type:"custom",expression:(e,t)=>t.x1-t.x0}]},fill:{field:"depth",scale:"color"}}}]},cluster:{id:"cluster",title:"Cluster Dendrogram",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{sort:(e,t)=>d3.ascending(e.data.name,t.data.name)}},{type:"cluster",params:{nodeSize:[10,928/4]}}],fields:[{name:"name",type:"nominal",accessor:"data.name"}]},space:{width:928,height:600},scales:{},layers:[{id:"links",mark:{type:"path",generator:{type:"linkHorizontal"}},encoding:{stroke:{value:"#555"},strokeOpacity:{value:.4},strokeWidth:{value:1.5},fill:{value:"none"}}},{id:"nodes",mark:{type:"circle"},encoding:{cx:{field:"y"},cy:{field:"x"},r:{value:2.5},fill:{value:"#555"}}}]},radialTree:{id:"radial-tree",title:"Radial Tree",data:{source:{type:"generated",options:{type:"hierarchy"}},transforms:[{type:"hierarchy",params:{sort:(e,t)=>d3.ascending(e.data.name,t.data.name)}},{type:"tree",params:{size:[2*Math.PI,434],separation:(e,t)=>(e.parent==t.parent?1:2)/e.depth}}],fields:[{name:"name",type:"nominal",accessor:"data.name"},{name:"x",type:"quantitative",accessor:"x"},{name:"y",type:"quantitative",accessor:"y"}]},space:{width:928,height:928},scales:{},layers:[{id:"links",mark:{type:"path",generator:{type:"linkRadial"}},encoding:{stroke:{value:"#555"},strokeOpacity:{value:.4},strokeWidth:{value:1.5},fill:{value:"none"}},style:{transform:"translate(464px, 548px)"}},{id:"nodes",mark:{type:"circle"},encoding:{r:{value:2.5},fill:{value:"#555"}},style:{transform:"translate(464px, 548px)"}}]},beeswarm:{id:"beeswarm",title:"Beeswarm Plot",data:{source:{type:"generated",options:{type:"cars"}},transforms:[{type:"dodge",params:{radius:7.5,x:"weight"}}],fields:[{name:"weight",type:"quantitative",accessor:"weight"},{name:"name",type:"nominal",accessor:"name"}]},space:{width:928,height:160,margin:{top:20,right:20,bottom:20,left:20}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"weight",method:"extent"},range:[20,908]}},layers:[{id:"points",mark:{type:"circle"},encoding:{cx:{field:"x"},cy:{field:"y",transform:[{type:"offset",params:{offset:117-1.5}}]},r:{value:3}}}]},dotPlot:{id:"dot-plot",title:"Dot Plot",data:{source:{type:"generated",options:{type:"population-by-age-state"}},fields:[{name:"state",type:"nominal",accessor:"state"},{name:"age",type:"nominal",accessor:"age"},{name:"share",type:"quantitative",accessor:"share"}]},space:{width:928,height:800,margin:{top:30,right:10,bottom:10,left:10}},scales:{x:{type:"linear",domainFrom:{data:"main",field:"share",method:"max",transform:e=>[0,d3.max(e)]},range:[10,918]},y:{type:"point",domainFrom:{data:"main",field:"state",method:"values"},range:[30,790],params:{padding:1}},color:{type:"ordinal",scheme:"Spectral",domainFrom:{data:"main",field:"age",method:"values"}}},layers:[{id:"lines",mark:{type:"line",groupBy:["state"]},encoding:{x1:{field:"min",scale:"x"},x2:{field:"max",scale:"x"},y1:{field:"state",scale:"y"},y2:{field:"state",scale:"y"},stroke:{value:"#aaa"}}},{id:"points",mark:{type:"circle"},encoding:{cx:{field:"share",scale:"x"},cy:{field:"state",scale:"y"},r:{value:3.5},fill:{field:"age",scale:"color"}}}]},ridgelinePlot:{id:"ridgeline-plot",title:"Ridgeline Plot",data:{source:{type:"generated",options:{type:"traffic-data"}},fields:[{name:"date",type:"temporal",accessor:"date"},{name:"value",type:"quantitative",accessor:"value"},{name:"name",type:"nominal",accessor:"name"}]},space:{width:928,height:500,margin:{top:40,right:20,bottom:30,left:120}},scales:{x:{type:"time",domainFrom:{data:"main",field:"date",method:"extent"},range:[120,908]},y:{type:"point",domainFrom:{data:"main",field:"name",method:"values"},range:[40,470]},z:{type:"linear",domainFrom:{data:"main",field:"value",method:"max"},range:[0,-136]}},layers:[{id:"areas",mark:{type:"area",generator:{type:"area",curve:"curveBasis"},groupBy:["name"]},encoding:{x:{field:"date",scale:"x"},y:{field:"value",scale:"z",transform:[{type:"offset",params:{offset:"y-position"}}]},y2:{field:"name",scale:"y"},fill:{value:"#ddd"}}}]}};function nd(){return Object.keys(Bm)}const B6={...Bm,...Om};class L6{constructor(){this.currentRenderer=null,this.currentSchema=null,this.init()}init(){this.setupUI(),this.loadInitialChart()}setupUI(){const t=document.getElementById("chart-selector");[...nd(),...O6()].forEach(s=>{const l=document.createElement("option");l.value=s,l.textContent=this.formatChartTypeName(s),t.appendChild(l)}),t.addEventListener("change",s=>{const l=s.target;this.loadChart(l.value)}),document.getElementById("schema-editor").addEventListener("input",()=>{this.updateSchemaFromEditor()}),document.getElementById("render-btn").addEventListener("click",()=>{this.renderCurrentSchema()}),document.getElementById("download-btn").addEventListener("click",()=>{this.downloadSchema()}),document.getElementById("upload-btn").addEventListener("change",s=>{this.uploadSchema(s)})}formatChartTypeName(t){return t.split(/(?=[A-Z])/).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}loadInitialChart(){const t=nd()[0];this.loadChart(t)}loadChart(t){const n=B6[t];n&&(this.currentSchema=n,this.updateSchemaEditor(),this.renderChart(n),this.updateInfo(n))}updateSchemaEditor(){if(!this.currentSchema)return;const t=document.getElementById("schema-editor");t.value=JSON.stringify(this.currentSchema,null,2)}updateSchemaFromEditor(){const t=document.getElementById("schema-editor");try{this.currentSchema=JSON.parse(t.value),this.clearError()}catch{this.showError("Invalid JSON in schema editor")}}async renderChart(t){try{const n=document.getElementById("chart-container");n.innerHTML="";const r=document.createElementNS("http://www.w3.org/2000/svg","svg");n.appendChild(r),this.currentRenderer=new D6(r,t),await this.currentRenderer.render(),this.clearError(),this.showSuccess("Chart rendered successfully!")}catch(n){console.error("Rendering error:",n),this.showError(`Rendering error: ${n.message}`)}}renderCurrentSchema(){this.currentSchema&&this.renderChart(this.currentSchema)}updateInfo(t){const n=document.getElementById("chart-info"),r=t.layers.length,a=Object.keys(t.scales).length,i=t.animations&&t.animations.length>0,o=t.behaviors&&t.behaviors.length>0,s=t.data.transforms&&t.data.transforms.length>0;n.innerHTML=`
      <div class="info-grid">
        <div class="info-item">
          <span class="info-label">Layers:</span>
          <span class="info-value">${r}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Scales:</span>
          <span class="info-value">${a}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Transforms:</span>
          <span class="info-value">${s?"":""}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Animations:</span>
          <span class="info-value">${i?"":""}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Interactions:</span>
          <span class="info-value">${o?"":""}</span>
        </div>
      </div>
      <div class="schema-description">
        <h4>Schema Structure:</h4>
        <ul>
          ${t.layers.map(l=>`<li><strong>${l.id||"unnamed"}:</strong> ${l.mark.type} mark</li>`).join("")}
        </ul>
      </div>
    `}showError(t){const n=document.getElementById("status");n.className="status error",n.textContent=t}showSuccess(t){const n=document.getElementById("status");n.className="status success",n.textContent=t,setTimeout(()=>this.clearError(),3e3)}clearError(){const t=document.getElementById("status");t.className="status",t.textContent=""}downloadSchema(){if(!this.currentSchema)return;const t=JSON.stringify(this.currentSchema,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`${this.currentSchema.id}-schema.json`,a.click(),URL.revokeObjectURL(r)}uploadSchema(t){var i;const r=(i=t.target.files)==null?void 0:i[0];if(!r)return;const a=new FileReader;a.onload=o=>{var s;try{const l=JSON.parse((s=o.target)==null?void 0:s.result);this.currentSchema=l,this.updateSchemaEditor(),this.renderChart(l),this.updateInfo(l),this.showSuccess("Schema uploaded successfully!")}catch{this.showError("Invalid schema file")}},a.readAsText(r)}}document.addEventListener("DOMContentLoaded",()=>{new L6});
//# sourceMappingURL=index-Dg87wVfa.js.map
